/*!
 * Modernizr v2.0.4
 * http://www.modernizr.com
 *
 * Copyright (c) 2009-2011 Faruk Ates, Paul Irish, Alex Sexton
 * Dual-licensed under the BSD or MIT licenses: www.modernizr.com/license/
 */
window.Modernizr=(function(y,c,g){var G="2.0.4",u={},w=true,J=c.documentElement,q=c.head||c.getElementsByTagName("head")[0],a="modernizr",F=c.createElement(a),C=F.style,I=c.createElement("input"),z=":)",b=Object.prototype.toString,i=" -webkit- -moz- -o- -ms- -khtml- ".split(" "),H="Webkit Moz O ms Khtml".split(" "),E={svg:"http://www.w3.org/2000/svg"},j={},n={},f={},d=[],p,k=function(P,R,K,M){var N,L,O,Q=c.createElement("div");if(parseInt(K,10)){while(K--){O=c.createElement("div");O.id=M?M[K]:a+(K+1);Q.appendChild(O)}}N=["&shy;","<style>",P,"</style>"].join("");Q.id=a;Q.innerHTML+=N;J.appendChild(Q);L=R(Q,P);Q.parentNode.removeChild(Q);return !!L},D=function(L){if(y.matchMedia){return matchMedia(L).matches}var K;k("@media "+L+" { #"+a+" { position: absolute; } }",function(M){K=(y.getComputedStyle?getComputedStyle(M,null):M.currentStyle)["position"]=="absolute"});return K},m=(function(){var L={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};function K(M,O){O=O||c.createElement(L[M]||"div");M="on"+M;var N=M in O;if(!N){if(!O.setAttribute){O=c.createElement("div")}if(O.setAttribute&&O.removeAttribute){O.setAttribute(M,"");N=o(O[M],"function");if(!o(O[M],g)){O[M]=g}O.removeAttribute(M)}}O=null;return N}return K})();var h=({}).hasOwnProperty,e;if(!o(h,g)&&!o(h.call,g)){e=function(K,L){return h.call(K,L)}}else{e=function(K,L){return((L in K)&&o(K.constructor.prototype[L],g))}}function B(K){C.cssText=K}function s(L,K){return B(i.join(L+";")+(K||""))}function o(L,K){return typeof L===K}function r(L,K){return !!~(""+L).indexOf(K)}function x(M,K){for(var L in M){if(C[M[L]]!==g){return K=="pfx"?M[L]:true}}return false}function l(N,K){var L=N.charAt(0).toUpperCase()+N.substr(1),M=(N+" "+H.join(L+" ")+L).split(" ");return x(M,K)}var v=(function(N,M){var L=N.join(""),K=M.length;k(L,function(R,T){var Q=c.styleSheets[c.styleSheets.length-1],P=Q.cssRules&&Q.cssRules[0]?Q.cssRules[0].cssText:Q.cssText||"",O=R.childNodes,S={};while(K--){S[O[K].id]=O[K]}u.touch=("ontouchstart" in y)||S.touch.offsetTop===9;u.csstransforms3d=S.csstransforms3d.offsetLeft===9;u.generatedcontent=S.generatedcontent.offsetHeight>=1;u.fontface=/src/i.test(P)&&P.indexOf(T.split(" ")[0])===0},K,M)})(['@font-face {font-family:"font";src:url("https://")}',["@media (",i.join("touch-enabled),("),a,")","{#touch{top:9px;position:absolute}}"].join(""),["@media (",i.join("transform-3d),("),a,")","{#csstransforms3d{left:9px;position:absolute}}"].join(""),['#generatedcontent:after{content:"',z,'"}'].join("")],["fontface","touch","csstransforms3d","generatedcontent"]);j.flexbox=function(){function M(Q,S,R,P){S+=":";Q.style.cssText=(S+i.join(R+";"+S)).slice(0,-S.length)+(P||"")}function K(Q,S,R,P){Q.style.cssText=i.join(S+":"+R+";")+(P||"")}var O=c.createElement("div"),N=c.createElement("div");M(O,"display","box","width:42px;padding:0;");K(N,"box-flex","1","width:10px;");O.appendChild(N);J.appendChild(O);var L=N.offsetWidth===42;O.removeChild(N);J.removeChild(O);return L};j.canvas=function(){var K=c.createElement("canvas");return !!(K.getContext&&K.getContext("2d"))};j.canvastext=function(){return !!(u.canvas&&o(c.createElement("canvas").getContext("2d").fillText,"function"))};j.webgl=function(){return !!y.WebGLRenderingContext};j.touch=function(){return u.touch};j.geolocation=function(){return !!navigator.geolocation};j.postmessage=function(){return !!y.postMessage};j.websqldatabase=function(){var K=!!y.openDatabase;return K};j.indexedDB=function(){for(var L=-1,K=H.length;++L<K;){if(y[H[L].toLowerCase()+"IndexedDB"]){return true}}return !!y.indexedDB};j.hashchange=function(){return m("hashchange",y)&&(c.documentMode===g||c.documentMode>7)};j.history=function(){return !!(y.history&&history.pushState)};j.draganddrop=function(){return m("dragstart")&&m("drop")};j.websockets=function(){for(var L=-1,K=H.length;++L<K;){if(y[H[L]+"WebSocket"]){return true}}return"WebSocket" in y};j.rgba=function(){B("background-color:rgba(150,255,150,.5)");return r(C.backgroundColor,"rgba")};j.hsla=function(){B("background-color:hsla(120,40%,100%,.5)");return r(C.backgroundColor,"rgba")||r(C.backgroundColor,"hsla")};j.multiplebgs=function(){B("background:url(https://),url(https://),red url(https://)");return/(url\s*\(.*?){3}/.test(C.background)};j.backgroundsize=function(){return l("backgroundSize")};j.borderimage=function(){return l("borderImage")};j.borderradius=function(){return l("borderRadius")};j.boxshadow=function(){return l("boxShadow")};j.textshadow=function(){return c.createElement("div").style.textShadow===""};j.opacity=function(){s("opacity:.55");return/^0.55$/.test(C.opacity)};j.cssanimations=function(){return l("animationName")};j.csscolumns=function(){return l("columnCount")};j.cssgradients=function(){var M="background-image:",L="gradient(linear,left top,right bottom,from(#9f9),to(white));",K="linear-gradient(left top,#9f9, white);";B((M+i.join(L+M)+i.join(K+M)).slice(0,-M.length));return r(C.backgroundImage,"gradient")};j.cssreflections=function(){return l("boxReflect")};j.csstransforms=function(){return !!x(["transformProperty","WebkitTransform","MozTransform","OTransform","msTransform"])};j.csstransforms3d=function(){var K=!!x(["perspectiveProperty","WebkitPerspective","MozPerspective","OPerspective","msPerspective"]);if(K&&"webkitPerspective" in J.style){K=u.csstransforms3d}return K};j.csstransitions=function(){return l("transitionProperty")};j.fontface=function(){return u.fontface};j.generatedcontent=function(){return u.generatedcontent};j.video=function(){var M=c.createElement("video"),K=false;try{if(K=!!M.canPlayType){K=new Boolean(K);K.ogg=M.canPlayType('video/ogg; codecs="theora"');var L='video/mp4; codecs="avc1.42E01E';K.h264=M.canPlayType(L+'"')||M.canPlayType(L+', mp4a.40.2"');K.webm=M.canPlayType('video/webm; codecs="vp8, vorbis"')}}catch(N){}return K};j.audio=function(){var L=c.createElement("audio"),K=false;try{if(K=!!L.canPlayType){K=new Boolean(K);K.ogg=L.canPlayType('audio/ogg; codecs="vorbis"');K.mp3=L.canPlayType("audio/mpeg;");K.wav=L.canPlayType('audio/wav; codecs="1"');K.m4a=L.canPlayType("audio/x-m4a;")||L.canPlayType("audio/aac;")}}catch(M){}return K};j.localstorage=function(){try{return !!localStorage.getItem}catch(K){return false}};j.sessionstorage=function(){try{return !!sessionStorage.getItem}catch(K){return false}};j.webworkers=function(){return !!y.Worker};j.applicationcache=function(){return !!y.applicationCache};j.svg=function(){return !!c.createElementNS&&!!c.createElementNS(E.svg,"svg").createSVGRect};j.inlinesvg=function(){var K=c.createElement("div");K.innerHTML="<svg/>";return(K.firstChild&&K.firstChild.namespaceURI)==E.svg};j.smil=function(){return !!c.createElementNS&&/SVG/.test(b.call(c.createElementNS(E.svg,"animate")))};j.svgclippaths=function(){return !!c.createElementNS&&/SVG/.test(b.call(c.createElementNS(E.svg,"clipPath")))};function A(){u.input=(function(M){for(var L=0,K=M.length;L<K;L++){f[M[L]]=!!(M[L] in I)}return f})("autocomplete autofocus list placeholder max min multiple pattern required step".split(" "));u.inputtypes=(function(N){for(var M=0,L,P,O,K=N.length;M<K;M++){I.setAttribute("type",P=N[M]);L=I.type!=="text";if(L){I.value=z;I.style.cssText="position:absolute;visibility:hidden;";if(/^range$/.test(P)&&I.style.WebkitAppearance!==g){J.appendChild(I);O=c.defaultView;L=O.getComputedStyle&&O.getComputedStyle(I,null).WebkitAppearance!=="textfield"&&(I.offsetHeight!==0);J.removeChild(I)}else{if(/^(search|tel)$/.test(P)){}else{if(/^(url|email)$/.test(P)){L=I.checkValidity&&I.checkValidity()===false}else{if(/^color$/.test(P)){J.appendChild(I);J.offsetWidth;L=I.value!=z;J.removeChild(I)}else{L=I.value!=z}}}}}n[N[M]]=!!L}return n})("search tel url email datetime date month week time datetime-local number range color".split(" "))}for(var t in j){if(e(j,t)){p=t.toLowerCase();u[p]=j[t]();d.push((u[p]?"":"no-")+p)}}u.input||A();u.addTest=function(L,M){if(typeof L=="object"){for(var K in L){if(e(L,K)){u.addTest(K,L[K])}}}else{L=L.toLowerCase();if(u[L]!==g){return}M=typeof M=="boolean"?M:!!M();J.className+=" "+(M?"":"no-")+L;u[L]=M}return u};B("");F=I=null;if(y.attachEvent&&(function(){var K=c.createElement("div");K.innerHTML="<elem></elem>";return K.childNodes.length!==1})()){(function(Q,ab){Q.iepp=Q.iepp||{};var R=Q.iepp,aa=R.html5elements||"abbr|article|aside|audio|canvas|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",L=aa.split("|"),Z=L.length,Y=new RegExp("(^|\\s)("+aa+")","gi"),X=new RegExp("<(/*)("+aa+")","gi"),P=/^\s*[\{\}]\s*$/,K=new RegExp("(^|[^\\n]*?\\s)("+aa+")([^\\n]*)({[\\n\\w\\W]*?})","gi"),N=ab.createDocumentFragment(),V=ab.documentElement,S=V.firstChild,T=ab.createElement("body"),O=ab.createElement("style"),W=/print|all/,U;function M(ad){var ac=-1;while(++ac<Z){ad.createElement(L[ac])}}R.getCSS=function(ag,ae){if(ag+""===g){return""}var ad=-1,ac=ag.length,ah,af=[];while(++ad<ac){ah=ag[ad];if(ah.disabled){continue}ae=ah.media||ae;if(W.test(ae)){af.push(R.getCSS(ah.imports,ae),ah.cssText)}ae="all"}return af.join("")};R.parseCSS=function(ad){var ac=[],ae;while((ae=K.exec(ad))!=null){ac.push(((P.exec(ae[1])?"\n":ae[1])+ae[2]+ae[3]).replace(Y,"$1.iepp_$2")+ae[4])}return ac.join("\n")};R.writeHTML=function(){var ad=-1;U=U||ab.body;while(++ad<Z){var ae=ab.getElementsByTagName(L[ad]),af=ae.length,ac=-1;while(++ac<af){if(ae[ac].className.indexOf("iepp_")<0){ae[ac].className+=" iepp_"+L[ad]}}}N.appendChild(U);V.appendChild(T);T.className=U.className;T.id=U.id;T.innerHTML=U.innerHTML.replace(X,"<$1font")};R._beforePrint=function(){O.styleSheet.cssText=R.parseCSS(R.getCSS(ab.styleSheets,"all"));R.writeHTML()};R.restoreHTML=function(){T.innerHTML="";V.removeChild(T);V.appendChild(U)};R._afterPrint=function(){R.restoreHTML();O.styleSheet.cssText=""};M(ab);M(N);if(R.disablePP){return}S.insertBefore(O,S.firstChild);O.media="print";O.className="iepp-printshim";Q.attachEvent("onbeforeprint",R._beforePrint);Q.attachEvent("onafterprint",R._afterPrint)})(y,c)}u._version=G;u._prefixes=i;u._domPrefixes=H;u.mq=D;u.hasEvent=m;u.testProp=function(K){return x([K])};u.testAllProps=l;u.testStyles=k;u.prefixed=function(K){return l(K,"pfx")};J.className=J.className.replace(/\bno-js\b/,"")+(w?" js "+d.join(" "):"");return u})(this,this.document);(function(x){function K(a){return a.replace(L,o).replace(M,function(b,e,c){b=c.split(",");c=0;for(var g=b.length;c<g;c++){var j=N(b[c].replace(O,o).replace(P,o))+t,f=[];b[c]=j.replace(Q,function(d,k,l,i,h){if(k){if(f.length>0){d=f;var u;h=j.substring(0,h).replace(R,n);if(h==n||h.charAt(h.length-1)==t){h+="*"}try{u=v(h)}catch(da){}if(u){h=0;for(l=u.length;h<l;h++){i=u[h];for(var y=i.className,z=0,S=d.length;z<S;z++){var q=d[z];if(!RegExp("(^|\\s)"+q.className+"(\\s|$)").test(i.className)){if(q.b&&(q.b===true||q.b(i)===true)){y=A(y,q.className,true)}}}i.className=y}}f=[]}return k}else{if(k=l?T(l):!B||B.test(i)?{className:C(i),b:true}:null){f.push(k);return"."+k.className}return d}})}return e+b.join(",")})}function T(a){var b=true,e=C(a.slice(1)),c=a.substring(0,5)==":not(",g,j;if(c){a=a.slice(5,-1)}var f=a.indexOf("(");if(f>-1){a=a.substring(0,f)}if(a.charAt(0)==":"){switch(a.slice(1)){case"root":b=function(d){return c?d!=D:d==D};break;case"target":if(p==8){b=function(d){function k(){var l=location.hash,i=l.slice(1);return c?l==""||d.id!=i:l!=""&&d.id==i}x.attachEvent("onhashchange",function(){r(d,e,k())});return k()};break}return false;case"checked":b=function(d){U.test(d.type)&&d.attachEvent("onpropertychange",function(){event.propertyName=="checked"&&r(d,e,d.checked!==c)});return d.checked!==c};break;case"disabled":c=!c;case"enabled":b=function(d){if(V.test(d.tagName)){d.attachEvent("onpropertychange",function(){event.propertyName=="$disabled"&&r(d,e,d.a===c)});w.push(d);d.a=d.disabled;return d.disabled===c}return a==":enabled"?c:!c};break;case"focus":g="focus";j="blur";case"hover":if(!g){g="mouseenter";j="mouseleave"}b=function(d){d.attachEvent("on"+(c?j:g),function(){r(d,e,true)});d.attachEvent("on"+(c?g:j),function(){r(d,e,false)});return c};break;default:if(!W.test(a)){return false}break}}return{className:e,b:b}}function C(a){return E+"-"+(p==6&&X?Y++:a.replace(Z,function(b){return b.charCodeAt(0)}))}function N(a){return a.replace(F,o).replace($,t)}function r(a,b,e){var c=a.className;b=A(c,b,e);if(b!=c){a.className=b;a.parentNode.className+=n}}function A(a,b,e){var c=RegExp("(^|\\s)"+b+"(\\s|$)"),g=c.test(a);return e?g?a:a+t+b:g?a.replace(c,o).replace(F,o):a}function G(a,b){if(/^https?:\/\//i.test(a)){return b.substring(0,b.indexOf("/",8))==a.substring(0,a.indexOf("/",8))?a:null}if(a.charAt(0)=="/"){return b.substring(0,b.indexOf("/",8))+a}var e=b.split("?")[0];if(a.charAt(0)!="?"&&e.charAt(e.length-1)!="/"){e=e.substring(0,e.lastIndexOf("/")+1)}return e+a}function H(a){if(a){s.open("GET",a,false);s.send();return(s.status==200?s.responseText:n).replace(aa,n).replace(ba,function(b,e,c){return H(G(c,a))})}return n}function ca(){var a,b;a=m.getElementsByTagName("BASE");for(var e=a.length>0?a[0].href:m.location.href,c=0;c<m.styleSheets.length;c++){b=m.styleSheets[c];if(b.href!=n){if(a=G(b.href,e)){b.cssText=K(H(a))}}}w.length>0&&setInterval(function(){for(var g=0,j=w.length;g<j;g++){var f=w[g];if(f.disabled!==f.a){if(f.disabled){f.disabled=false;f.a=true;f.disabled=true}else{f.a=f.disabled}}}},250)}if(!
/*@cc_on!@*/
true){var m=document,D=m.documentElement,s=function(){if(x.XMLHttpRequest){return new XMLHttpRequest}try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(a){return null}}(),p=/MSIE ([\d])/.exec(navigator.userAgent)[1];if(!(m.compatMode!="CSS1Compat"||p<6||p>8||!s)){var I={NW:"*.Dom.select",DOMAssistant:"*.$",Prototype:"$$",YAHOO:"*.util.Selector.query",MooTools:"$$",Sizzle:"*",jQuery:"*",dojo:"*.query"},v,w=[],Y=0,X=true,E="slvzr",J=E+"DOMReady",aa=/(\/\*[^*]*\*+([^\/][^*]*\*+)*\/)\s*/g,ba=/@import\s*url\(\s*(["'])?(.*?)\1\s*\)[\w\W]*?;/g,W=/^:(empty|(first|last|only|nth(-last)?)-(child|of-type))$/,L=/:(:first-(?:line|letter))/g,M=/(^|})\s*([^\{]*?[\[:][^{]+)/g,Q=/([ +~>])|(:[a-z-]+(?:\(.*?\)+)?)|(\[.*?\])/g,R=/(:not\()?:(hover|enabled|disabled|focus|checked|target|active|visited|first-line|first-letter)\)?/g,Z=/[^\w-]/g,V=/^(INPUT|SELECT|TEXTAREA|BUTTON)$/,U=/^(checkbox|radio)$/,B=p==8?/[\$\^]=(['"])\1/:p==7?/[\$\^*]=(['"])\1/:null,O=/([(\[+~])\s+/g,P=/\s+([)\]+~])/g,$=/\s+/g,F=/^\s*((?:[\S\s]*\S)?)\s*$/,n="",t=" ",o="$1";m.write("<script id="+J+" defer src='//:'><\/script>");m.getElementById(J).onreadystatechange=function(){if(this.readyState=="complete"){a:{var a;for(var b in I){if(x[b]&&(a=eval(I[b].replace("*",b)))){v=a;break a}}v=false}if(v){ca();this.parentNode.removeChild(this)}}}}}})(this);
/*!
 * jQuery JavaScript Library v1.6
 * http://jquery.com/
 *
 * Copyright 2011, John Resig
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 * Copyright 2011, The Dojo Foundation
 * Released under the MIT, BSD, and GPL Licenses.
 *
 * Date: Mon May 2 13:50:00 2011 -0400
 */
(function(ba,M){var ar=ba.document,bs=ba.navigator,bj=ba.location;var b=(function(){var bC=function(bW,bX){return new bC.fn.init(bW,bX,bA)},bR=ba.jQuery,bE=ba.$,bA,bV=/^(?:[^<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,bK=/\S/,bG=/^\s+/,bB=/\s+$/,bF=/\d/,by=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,bL=/^[\],:{}\s]*$/,bT=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,bN=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,bH=/(?:^|:|,)(?:\s*\[)+/g,bw=/(webkit)[ \/]([\w.]+)/,bP=/(opera)(?:.*version)?[ \/]([\w.]+)/,bO=/(msie) ([\w.]+)/,bQ=/(mozilla)(?:.*? rv:([\w.]+))?/,bU=bs.userAgent,bS,bz,e,bJ=Object.prototype.toString,bD=Object.prototype.hasOwnProperty,bx=Array.prototype.push,bI=Array.prototype.slice,bM=String.prototype.trim,bt=Array.prototype.indexOf,bv={};bC.fn=bC.prototype={constructor:bC,init:function(bW,b0,bZ){var bY,b1,bX,b2;if(!bW){return this}if(bW.nodeType){this.context=this[0]=bW;this.length=1;return this}if(bW==="body"&&!b0&&ar.body){this.context=ar;this[0]=ar.body;this.selector=bW;this.length=1;return this}if(typeof bW==="string"){if(bW.charAt(0)==="<"&&bW.charAt(bW.length-1)===">"&&bW.length>=3){bY=[null,bW,null]}else{bY=bV.exec(bW)}if(bY&&(bY[1]||!b0)){if(bY[1]){b0=b0 instanceof bC?b0[0]:b0;b2=(b0?b0.ownerDocument||b0:ar);bX=by.exec(bW);if(bX){if(bC.isPlainObject(b0)){bW=[ar.createElement(bX[1])];bC.fn.attr.call(bW,b0,true)}else{bW=[b2.createElement(bX[1])]}}else{bX=bC.buildFragment([bY[1]],[b2]);bW=(bX.cacheable?bC.clone(bX.fragment):bX.fragment).childNodes}return bC.merge(this,bW)}else{b1=ar.getElementById(bY[2]);if(b1&&b1.parentNode){if(b1.id!==bY[2]){return bZ.find(bW)}this.length=1;this[0]=b1}this.context=ar;this.selector=bW;return this}}else{if(!b0||b0.jquery){return(b0||bZ).find(bW)}else{return this.constructor(b0).find(bW)}}}else{if(bC.isFunction(bW)){return bZ.ready(bW)}}if(bW.selector!==M){this.selector=bW.selector;this.context=bW.context}return bC.makeArray(bW,this)},selector:"",jquery:"1.6",length:0,size:function(){return this.length},toArray:function(){return bI.call(this,0)},get:function(bW){return bW==null?this.toArray():(bW<0?this[this.length+bW]:this[bW])},pushStack:function(bX,bZ,bW){var bY=this.constructor();if(bC.isArray(bX)){bx.apply(bY,bX)}else{bC.merge(bY,bX)}bY.prevObject=this;bY.context=this.context;if(bZ==="find"){bY.selector=this.selector+(this.selector?" ":"")+bW}else{if(bZ){bY.selector=this.selector+"."+bZ+"("+bW+")"}}return bY},each:function(bX,bW){return bC.each(this,bX,bW)},ready:function(bW){bC.bindReady();bz.done(bW);return this},eq:function(bW){return bW===-1?this.slice(bW):this.slice(bW,+bW+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(bI.apply(this,arguments),"slice",bI.call(arguments).join(","))},map:function(bW){return this.pushStack(bC.map(this,function(bY,bX){return bW.call(bY,bX,bY)}))},end:function(){return this.prevObject||this.constructor(null)},push:bx,sort:[].sort,splice:[].splice};bC.fn.init.prototype=bC.fn;bC.extend=bC.fn.extend=function(){var b5,bY,bW,bX,b2,b3,b1=arguments[0]||{},b0=1,bZ=arguments.length,b4=false;if(typeof b1==="boolean"){b4=b1;b1=arguments[1]||{};b0=2}if(typeof b1!=="object"&&!bC.isFunction(b1)){b1={}}if(bZ===b0){b1=this;--b0}for(;b0<bZ;b0++){if((b5=arguments[b0])!=null){for(bY in b5){bW=b1[bY];bX=b5[bY];if(b1===bX){continue}if(b4&&bX&&(bC.isPlainObject(bX)||(b2=bC.isArray(bX)))){if(b2){b2=false;b3=bW&&bC.isArray(bW)?bW:[]}else{b3=bW&&bC.isPlainObject(bW)?bW:{}}b1[bY]=bC.extend(b4,b3,bX)}else{if(bX!==M){b1[bY]=bX}}}}}return b1};bC.extend({noConflict:function(bW){if(ba.$===bC){ba.$=bE}if(bW&&ba.jQuery===bC){ba.jQuery=bR}return bC},isReady:false,readyWait:1,holdReady:function(bW){if(bW){bC.readyWait++}else{bC.ready(true)}},ready:function(bW){if((bW===true&&!--bC.readyWait)||(bW!==true&&!bC.isReady)){if(!ar.body){return setTimeout(bC.ready,1)}bC.isReady=true;if(bW!==true&&--bC.readyWait>0){return}bz.resolveWith(ar,[bC]);if(bC.fn.trigger){bC(ar).trigger("ready").unbind("ready")}}},bindReady:function(){if(bz){return}bz=bC._Deferred();if(ar.readyState==="complete"){return setTimeout(bC.ready,1)}if(ar.addEventListener){ar.addEventListener("DOMContentLoaded",e,false);ba.addEventListener("load",bC.ready,false)}else{if(ar.attachEvent){ar.attachEvent("onreadystatechange",e);ba.attachEvent("onload",bC.ready);var bW=false;try{bW=ba.frameElement==null}catch(bX){}if(ar.documentElement.doScroll&&bW){bu()}}}},isFunction:function(bW){return bC.type(bW)==="function"},isArray:Array.isArray||function(bW){return bC.type(bW)==="array"},isWindow:function(bW){return bW&&typeof bW==="object"&&"setInterval" in bW},isNaN:function(bW){return bW==null||!bF.test(bW)||isNaN(bW)},type:function(bW){return bW==null?String(bW):bv[bJ.call(bW)]||"object"},isPlainObject:function(bX){if(!bX||bC.type(bX)!=="object"||bX.nodeType||bC.isWindow(bX)){return false}if(bX.constructor&&!bD.call(bX,"constructor")&&!bD.call(bX.constructor.prototype,"isPrototypeOf")){return false}var bW;for(bW in bX){}return bW===M||bD.call(bX,bW)},isEmptyObject:function(bX){for(var bW in bX){return false}return true},error:function(bW){throw bW},parseJSON:function(bW){if(typeof bW!=="string"||!bW){return null}bW=bC.trim(bW);if(ba.JSON&&ba.JSON.parse){return ba.JSON.parse(bW)}if(bL.test(bW.replace(bT,"@").replace(bN,"]").replace(bH,""))){return(new Function("return "+bW))()}bC.error("Invalid JSON: "+bW)},parseXML:function(bY,bW,bX){if(ba.DOMParser){bX=new DOMParser();bW=bX.parseFromString(bY,"text/xml")}else{bW=new ActiveXObject("Microsoft.XMLDOM");bW.async="false";bW.loadXML(bY)}bX=bW.documentElement;if(!bX||!bX.nodeName||bX.nodeName==="parsererror"){bC.error("Invalid XML: "+bY)}return bW},noop:function(){},globalEval:function(bW){if(bW&&bK.test(bW)){(ba.execScript||function(bX){ba["eval"].call(ba,bX)})(bW)}},nodeName:function(bX,bW){return bX.nodeName&&bX.nodeName.toUpperCase()===bW.toUpperCase()},each:function(bZ,b2,bY){var bX,b0=0,b1=bZ.length,bW=b1===M||bC.isFunction(bZ);if(bY){if(bW){for(bX in bZ){if(b2.apply(bZ[bX],bY)===false){break}}}else{for(;b0<b1;){if(b2.apply(bZ[b0++],bY)===false){break}}}}else{if(bW){for(bX in bZ){if(b2.call(bZ[bX],bX,bZ[bX])===false){break}}}else{for(;b0<b1;){if(b2.call(bZ[b0],b0,bZ[b0++])===false){break}}}}return bZ},trim:bM?function(bW){return bW==null?"":bM.call(bW)}:function(bW){return bW==null?"":bW.toString().replace(bG,"").replace(bB,"")},makeArray:function(bZ,bX){var bW=bX||[];if(bZ!=null){var bY=bC.type(bZ);if(bZ.length==null||bY==="string"||bY==="function"||bY==="regexp"||bC.isWindow(bZ)){bx.call(bW,bZ)}else{bC.merge(bW,bZ)}}return bW},inArray:function(bY,bZ){if(bt){return bt.call(bZ,bY)}for(var bW=0,bX=bZ.length;bW<bX;bW++){if(bZ[bW]===bY){return bW}}return -1},merge:function(b0,bY){var bZ=b0.length,bX=0;if(typeof bY.length==="number"){for(var bW=bY.length;bX<bW;bX++){b0[bZ++]=bY[bX]}}else{while(bY[bX]!==M){b0[bZ++]=bY[bX++]}}b0.length=bZ;return b0},grep:function(bX,b2,bW){var bY=[],b1;bW=!!bW;for(var bZ=0,b0=bX.length;bZ<b0;bZ++){b1=!!b2(bX[bZ],bZ);if(bW!==b1){bY.push(bX[bZ])}}return bY},map:function(bW,b3,b4){var b1,b2,b0=[],bY=0,bX=bW.length,bZ=bW instanceof bC||bX!==M&&typeof bX==="number"&&((bX>0&&bW[0]&&bW[bX-1])||bX===0||bC.isArray(bW));if(bZ){for(;bY<bX;bY++){b1=b3(bW[bY],bY,b4);if(b1!=null){b0[b0.length]=b1}}}else{for(b2 in bW){b1=b3(bW[b2],b2,b4);if(b1!=null){b0[b0.length]=b1}}}return b0.concat.apply([],b0)},guid:1,proxy:function(b0,bZ){if(typeof bZ==="string"){var bY=b0[bZ];bZ=b0;b0=bY}if(!bC.isFunction(b0)){return M}var bW=bI.call(arguments,2),bX=function(){return b0.apply(bZ,bW.concat(bI.call(arguments)))};bX.guid=b0.guid=b0.guid||bX.guid||bC.guid++;return bX},access:function(bW,b4,b2,bY,b1,b3){var bX=bW.length;if(typeof b4==="object"){for(var bZ in b4){bC.access(bW,bZ,b4[bZ],bY,b1,b2)}return bW}if(b2!==M){bY=!b3&&bY&&bC.isFunction(b2);for(var b0=0;b0<bX;b0++){b1(bW[b0],b4,bY?b2.call(bW[b0],b0,b1(bW[b0],b4)):b2,b3)}return bW}return bX?b1(bW[0],b4):M},now:function(){return(new Date()).getTime()},uaMatch:function(bX){bX=bX.toLowerCase();var bW=bw.exec(bX)||bP.exec(bX)||bO.exec(bX)||bX.indexOf("compatible")<0&&bQ.exec(bX)||[];return{browser:bW[1]||"",version:bW[2]||"0"}},sub:function(){function bW(bZ,b0){return new bW.fn.init(bZ,b0)}bC.extend(true,bW,this);bW.superclass=this;bW.fn=bW.prototype=this();bW.fn.constructor=bW;bW.sub=this.sub;bW.fn.init=function bY(bZ,b0){if(b0&&b0 instanceof bC&&!(b0 instanceof bW)){b0=bW(b0)}return bC.fn.init.call(this,bZ,b0,bX)};bW.fn.init.prototype=bW.fn;var bX=bW(ar);return bW},browser:{}});bC.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(bX,bW){bv["[object "+bW+"]"]=bW.toLowerCase()});bS=bC.uaMatch(bU);if(bS.browser){bC.browser[bS.browser]=true;bC.browser.version=bS.version}if(bC.browser.webkit){bC.browser.safari=true}if(bK.test("\xA0")){bG=/^[\s\xA0]+/;bB=/[\s\xA0]+$/}bA=bC(ar);if(ar.addEventListener){e=function(){ar.removeEventListener("DOMContentLoaded",e,false);bC.ready()}}else{if(ar.attachEvent){e=function(){if(ar.readyState==="complete"){ar.detachEvent("onreadystatechange",e);bC.ready()}}}}function bu(){if(bC.isReady){return}try{ar.documentElement.doScroll("left")}catch(bW){setTimeout(bu,1);return}bC.ready()}return bC})();var a="done fail isResolved isRejected promise then always pipe".split(" "),aH=[].slice;b.extend({_Deferred:function(){var bv=[],bw,bt,bu,e={done:function(){if(!bu){var by=arguments,bz,bC,bB,bA,bx;if(bw){bx=bw;bw=0}for(bz=0,bC=by.length;bz<bC;bz++){bB=by[bz];bA=b.type(bB);if(bA==="array"){e.done.apply(e,bB)}else{if(bA==="function"){bv.push(bB)}}}if(bx){e.resolveWith(bx[0],bx[1])}}return this},resolveWith:function(by,bx){if(!bu&&!bw&&!bt){bx=bx||[];bt=1;try{while(bv[0]){bv.shift().apply(by,bx)}}finally{bw=[by,bx];bt=0}}return this},resolve:function(){e.resolveWith(this,arguments);return this},isResolved:function(){return !!(bt||bw)},cancel:function(){bu=1;bv=[];return this}};return e},Deferred:function(bt){var e=b._Deferred(),bv=b._Deferred(),bu;b.extend(e,{then:function(bx,bw){e.done(bx).fail(bw);return this},always:function(){return e.done.apply(e,arguments).fail.apply(this,arguments)},fail:bv.done,rejectWith:bv.resolveWith,reject:bv.resolve,isRejected:bv.isResolved,pipe:function(bx,bw){return b.Deferred(function(by){b.each({done:[bx,"resolve"],fail:[bw,"reject"]},function(bA,bD){var bz=bD[0],bC=bD[1],bB;if(b.isFunction(bz)){e[bA](function(){bB=bz.apply(this,arguments);if(b.isFunction(bB.promise)){bB.promise().then(by.resolve,by.reject)}else{by[bC](bB)}})}else{e[bA](by[bC])}})}).promise()},promise:function(bx){if(bx==null){if(bu){return bu}bu=bx={}}var bw=a.length;while(bw--){bx[a[bw]]=e[a[bw]]}return bx}});e.done(bv.cancel).fail(e.cancel);delete e.cancel;if(bt){bt.call(e,e)}return e},when:function(by){var bt=arguments,bu=0,bx=bt.length,bw=bx,e=bx<=1&&by&&b.isFunction(by.promise)?by:b.Deferred();function bv(bz){return function(bA){bt[bz]=arguments.length>1?aH.call(arguments,0):bA;if(!(--bw)){e.resolveWith(e,aH.call(bt,0))}}}if(bx>1){for(;bu<bx;bu++){if(bt[bu]&&b.isFunction(bt[bu].promise)){bt[bu].promise().then(bv(bu),e.reject)}else{--bw}}if(!bw){e.resolveWith(e,bt)}}else{if(e!==by){e.resolveWith(e,bx?[by]:[])}}return e.promise()}});b.support=(function(){var bD=ar.createElement("div"),bx,bJ,bE,bv,bC,by,bA,bu,bB,bt,bG,bw,bz,bH,bK;bD.setAttribute("className","t");bD.innerHTML="   <link/><table></table><a href='/a' style='top:1px;float:left;opacity:.55;'>a</a><input type='checkbox'/>";bx=bD.getElementsByTagName("*");bJ=bD.getElementsByTagName("a")[0];if(!bx||!bx.length||!bJ){return{}}bE=ar.createElement("select");bv=bE.appendChild(ar.createElement("option"));bC=bD.getElementsByTagName("input")[0];bA={leadingWhitespace:(bD.firstChild.nodeType===3),tbody:!bD.getElementsByTagName("tbody").length,htmlSerialize:!!bD.getElementsByTagName("link").length,style:/top/.test(bJ.getAttribute("style")),hrefNormalized:(bJ.getAttribute("href")==="/a"),opacity:/^0.55$/.test(bJ.style.opacity),cssFloat:!!bJ.style.cssFloat,checkOn:(bC.value==="on"),optSelected:bv.selected,getSetAttribute:bD.className!=="t",submitBubbles:true,changeBubbles:true,focusinBubbles:false,deleteExpando:true,noCloneEvent:true,inlineBlockNeedsLayout:false,shrinkWrapBlocks:false,reliableMarginRight:true};bC.checked=true;bA.noCloneChecked=bC.cloneNode(true).checked;bE.disabled=true;bA.optDisabled=!bv.disabled;try{delete bD.test}catch(bI){bA.deleteExpando=false}if(!bD.addEventListener&&bD.attachEvent&&bD.fireEvent){bD.attachEvent("onclick",function bF(){bA.noCloneEvent=false;bD.detachEvent("onclick",bF)});bD.cloneNode(true).fireEvent("onclick")}bC=ar.createElement("input");bC.value="t";bC.setAttribute("type","radio");bA.radioValue=bC.value==="t";bC.setAttribute("checked","checked");bD.appendChild(bC);bu=ar.createDocumentFragment();bu.appendChild(bD.firstChild);bA.checkClone=bu.cloneNode(true).cloneNode(true).lastChild.checked;bD.innerHTML="";bD.style.width=bD.style.paddingLeft="1px";bB=ar.createElement("body");bt={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"};for(bH in bt){bB.style[bH]=bt[bH]}bB.appendChild(bD);ar.documentElement.appendChild(bB);bA.appendChecked=bC.checked;bA.boxModel=bD.offsetWidth===2;if("zoom" in bD.style){bD.style.display="inline";bD.style.zoom=1;bA.inlineBlockNeedsLayout=(bD.offsetWidth===2);bD.style.display="";bD.innerHTML="<div style='width:4px;'></div>";bA.shrinkWrapBlocks=(bD.offsetWidth!==2)}bD.innerHTML="<table><tr><td style='padding:0;border:0;display:none'></td><td>t</td></tr></table>";bG=bD.getElementsByTagName("td");bK=(bG[0].offsetHeight===0);bG[0].style.display="";bG[1].style.display="none";bA.reliableHiddenOffsets=bK&&(bG[0].offsetHeight===0);bD.innerHTML="";if(ar.defaultView&&ar.defaultView.getComputedStyle){by=ar.createElement("div");by.style.width="0";by.style.marginRight="0";bD.appendChild(by);bA.reliableMarginRight=(parseInt(ar.defaultView.getComputedStyle(by,null).marginRight,10)||0)===0}bB.innerHTML="";ar.documentElement.removeChild(bB);if(bD.attachEvent){for(bH in {submit:1,change:1,focusin:1}){bz="on"+bH;bK=(bz in bD);if(!bK){bD.setAttribute(bz,"return;");bK=(typeof bD[bz]==="function")}bA[bH+"Bubbles"]=bK}}return bA})();b.boxModel=b.support.boxModel;var aN=/^(?:\{.*\}|\[.*\])$/,ax=/([a-z])([A-Z])/g;b.extend({cache:{},uuid:0,expando:"jQuery"+(b.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:true,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:true},hasData:function(e){e=e.nodeType?b.cache[e[b.expando]]:e[b.expando];return !!e&&!V(e)},data:function(bv,bt,bx,bw){if(!b.acceptData(bv)){return}var bA=b.expando,bz=typeof bt==="string",by,bB=bv.nodeType,e=bB?b.cache:bv,bu=bB?bv[b.expando]:bv[b.expando]&&b.expando;if((!bu||(bw&&bu&&!e[bu][bA]))&&bz&&bx===M){return}if(!bu){if(bB){bv[b.expando]=bu=++b.uuid}else{bu=b.expando}}if(!e[bu]){e[bu]={};if(!bB){e[bu].toJSON=b.noop}}if(typeof bt==="object"||typeof bt==="function"){if(bw){e[bu][bA]=b.extend(e[bu][bA],bt)}else{e[bu]=b.extend(e[bu],bt)}}by=e[bu];if(bw){if(!by[bA]){by[bA]={}}by=by[bA]}if(bx!==M){by[bt]=bx}if(bt==="events"&&!by[bt]){return by[bA]&&by[bA].events}return bz?by[bt]:by},removeData:function(bw,bu,bx){if(!b.acceptData(bw)){return}var bz=b.expando,bA=bw.nodeType,bt=bA?b.cache:bw,bv=bA?bw[b.expando]:b.expando;if(!bt[bv]){return}if(bu){var by=bx?bt[bv][bz]:bt[bv];if(by){delete by[bu];if(!V(by)){return}}}if(bx){delete bt[bv][bz];if(!V(bt[bv])){return}}var e=bt[bv][bz];if(b.support.deleteExpando||bt!=ba){delete bt[bv]}else{bt[bv]=null}if(e){bt[bv]={};if(!bA){bt[bv].toJSON=b.noop}bt[bv][bz]=e}else{if(bA){if(b.support.deleteExpando){delete bw[b.expando]}else{if(bw.removeAttribute){bw.removeAttribute(b.expando)}else{bw[b.expando]=null}}}}},_data:function(bt,e,bu){return b.data(bt,e,bu,true)},acceptData:function(bt){if(bt.nodeName){var e=b.noData[bt.nodeName.toLowerCase()];if(e){return !(e===true||bt.getAttribute("classid")!==e)}}return true}});b.fn.extend({data:function(bw,by){var bx=null;if(typeof bw==="undefined"){if(this.length){bx=b.data(this[0]);if(this[0].nodeType===1){var e=this[0].attributes,bu;for(var bv=0,bt=e.length;bv<bt;bv++){bu=e[bv].name;if(bu.indexOf("data-")===0){bu=b.camelCase(bu.substring(5));a3(this[0],bu,bx[bu])}}}}return bx}else{if(typeof bw==="object"){return this.each(function(){b.data(this,bw)})}}var bz=bw.split(".");bz[1]=bz[1]?"."+bz[1]:"";if(by===M){bx=this.triggerHandler("getData"+bz[1]+"!",[bz[0]]);if(bx===M&&this.length){bx=b.data(this[0],bw);bx=a3(this[0],bw,bx)}return bx===M&&bz[1]?this.data(bz[0]):bx}else{return this.each(function(){var bB=b(this),bA=[bz[0],by];bB.triggerHandler("setData"+bz[1]+"!",bA);b.data(this,bw,by);bB.triggerHandler("changeData"+bz[1]+"!",bA)})}},removeData:function(e){return this.each(function(){b.removeData(this,e)})}});function a3(bu,bt,bv){if(bv===M&&bu.nodeType===1){name="data-"+bt.replace(ax,"$1-$2").toLowerCase();bv=bu.getAttribute(name);if(typeof bv==="string"){try{bv=bv==="true"?true:bv==="false"?false:bv==="null"?null:!b.isNaN(bv)?parseFloat(bv):aN.test(bv)?b.parseJSON(bv):bv}catch(bw){}b.data(bu,bt,bv)}else{bv=M}}return bv}function V(bt){for(var e in bt){if(e!=="toJSON"){return false}}return true}function bf(bw,bv,by){var bu=bv+"defer",bt=bv+"queue",e=bv+"mark",bx=b.data(bw,bu,M,true);if(bx&&(by==="queue"||!b.data(bw,bt,M,true))&&(by==="mark"||!b.data(bw,e,M,true))){setTimeout(function(){if(!b.data(bw,bt,M,true)&&!b.data(bw,e,M,true)){b.removeData(bw,bu,true);bx.resolve()}},0)}}b.extend({_mark:function(bt,e){if(bt){e=(e||"fx")+"mark";b.data(bt,e,(b.data(bt,e,M,true)||0)+1,true)}},_unmark:function(bw,bv,bt){if(bw!==true){bt=bv;bv=bw;bw=false}if(bv){bt=bt||"fx";var e=bt+"mark",bu=bw?0:((b.data(bv,e,M,true)||1)-1);if(bu){b.data(bv,e,bu,true)}else{b.removeData(bv,e,true);bf(bv,bt,"mark")}}},queue:function(bt,e,bv){if(bt){e=(e||"fx")+"queue";var bu=b.data(bt,e,M,true);if(bv){if(!bu||b.isArray(bv)){bu=b.data(bt,e,b.makeArray(bv),true)}else{bu.push(bv)}}return bu||[]}},dequeue:function(bv,bu){bu=bu||"fx";var e=b.queue(bv,bu),bt=e.shift(),bw;if(bt==="inprogress"){bt=e.shift()}if(bt){if(bu==="fx"){e.unshift("inprogress")}bt.call(bv,function(){b.dequeue(bv,bu)})}if(!e.length){b.removeData(bv,bu+"queue",true);bf(bv,bu,"queue")}}});b.fn.extend({queue:function(e,bt){if(typeof e!=="string"){bt=e;e="fx"}if(bt===M){return b.queue(this[0],e)}return this.each(function(){var bu=b.queue(this,e,bt);if(e==="fx"&&bu[0]!=="inprogress"){b.dequeue(this,e)}})},dequeue:function(e){return this.each(function(){b.dequeue(this,e)})},delay:function(bt,e){bt=b.fx?b.fx.speeds[bt]||bt:bt;e=e||"fx";return this.queue(e,function(){var bu=this;setTimeout(function(){b.dequeue(bu,e)},bt)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(bA,bu){if(typeof bA!=="string"){bu=bA;bA=M}bA=bA||"fx";var e=b.Deferred(),bt=this,bv=bt.length,by=1,bw=bA+"defer",bx=bA+"queue",bz=bA+"mark";function bB(){if(!(--by)){e.resolveWith(bt,[bt])}}while(bv--){if((tmp=b.data(bt[bv],bw,M,true)||(b.data(bt[bv],bx,M,true)||b.data(bt[bv],bz,M,true))&&b.data(bt[bv],bw,b._Deferred(),true))){by++;tmp.done(bB)}}bB();return e.promise()}});var aL=/[\n\t\r]/g,ae=/\s+/,aP=/\r/g,g=/^(?:button|input)$/i,F=/^(?:button|input|object|select|textarea)$/i,l=/^a(?:rea)?$/i,u=/^(?:data-|aria-)/,a6=/\:/,a1;b.fn.extend({attr:function(e,bt){return b.access(this,e,bt,true,b.attr)},removeAttr:function(e){return this.each(function(){b.removeAttr(this,e)})},prop:function(e,bt){return b.access(this,e,bt,true,b.prop)},removeProp:function(e){return this.each(function(){try{this[e]=M;delete this[e]}catch(bt){}})},addClass:function(bz){if(b.isFunction(bz)){return this.each(function(bC){var bB=b(this);bB.addClass(bz.call(this,bC,bB.attr("class")||""))})}if(bz&&typeof bz==="string"){var e=(bz||"").split(ae);for(var bv=0,bu=this.length;bv<bu;bv++){var bt=this[bv];if(bt.nodeType===1){if(!bt.className){bt.className=bz}else{var bw=" "+bt.className+" ",by=bt.className;for(var bx=0,bA=e.length;bx<bA;bx++){if(bw.indexOf(" "+e[bx]+" ")<0){by+=" "+e[bx]}}bt.className=b.trim(by)}}}}return this},removeClass:function(bx){if(b.isFunction(bx)){return this.each(function(bB){var bA=b(this);bA.removeClass(bx.call(this,bB,bA.attr("class")))})}if((bx&&typeof bx==="string")||bx===M){var by=(bx||"").split(ae);for(var bu=0,bt=this.length;bu<bt;bu++){var bw=this[bu];if(bw.nodeType===1&&bw.className){if(bx){var bv=(" "+bw.className+" ").replace(aL," ");for(var bz=0,e=by.length;bz<e;bz++){bv=bv.replace(" "+by[bz]+" "," ")}bw.className=b.trim(bv)}else{bw.className=""}}}}return this},toggleClass:function(bv,bt){var bu=typeof bv,e=typeof bt==="boolean";if(b.isFunction(bv)){return this.each(function(bx){var bw=b(this);bw.toggleClass(bv.call(this,bx,bw.attr("class"),bt),bt)})}return this.each(function(){if(bu==="string"){var by,bx=0,bw=b(this),bz=bt,bA=bv.split(ae);while((by=bA[bx++])){bz=e?bz:!bw.hasClass(by);bw[bz?"addClass":"removeClass"](by)}}else{if(bu==="undefined"||bu==="boolean"){if(this.className){b._data(this,"__className__",this.className)}this.className=this.className||bv===false?"":b._data(this,"__className__")||""}}})},hasClass:function(e){var bv=" "+e+" ";for(var bu=0,bt=this.length;bu<bt;bu++){if((" "+this[bu].className+" ").replace(aL," ").indexOf(bv)>-1){return true}}return false},val:function(bv){var e,bt,bu=this[0];if(!arguments.length){if(bu){e=b.valHooks[bu.nodeName.toLowerCase()]||b.valHooks[bu.type];if(e&&"get" in e&&(bt=e.get(bu,"value"))!==M){return bt}return(bu.value||"").replace(aP,"")}return M}var bw=b.isFunction(bv);return this.each(function(by){var bx=b(this),bz;if(this.nodeType!==1){return}if(bw){bz=bv.call(this,by,bx.val())}else{bz=bv}if(bz==null){bz=""}else{if(typeof bz==="number"){bz+=""}else{if(b.isArray(bz)){bz=b.map(bz,function(bA){return bA==null?"":bA+""})}}}e=b.valHooks[this.nodeName.toLowerCase()]||b.valHooks[this.type];if(!e||("set" in e&&e.set(this,bz,"value")===M)){this.value=bz}})}});b.extend({valHooks:{option:{get:function(e){var bt=e.attributes.value;return !bt||bt.specified?e.value:e.text}},select:{get:function(bz){var bv=bz.selectedIndex,bt=[],bu=bz.options,bx=bz.type==="select-one";if(bv<0){return null}for(var bw=bx?bv:0,e=bx?bv+1:bu.length;bw<e;bw++){var by=bu[bw];if(by.selected&&(b.support.optDisabled?!by.disabled:by.getAttribute("disabled")===null)&&(!by.parentNode.disabled||!b.nodeName(by.parentNode,"optgroup"))){value=b(by).val();if(bx){return value}bt.push(value)}}if(bx&&!bt.length&&bu.length){return b(bu[bv]).val()}return bt},set:function(bt,bu){var e=b.makeArray(bu);b(bt).find("option").each(function(){this.selected=b.inArray(b(this).val(),e)>=0});if(!e.length){bt.selectedIndex=-1}return e}}},attrFn:{val:true,css:true,html:true,text:true,data:true,width:true,height:true,offset:true},attrFix:{tabindex:"tabIndex",readonly:"readOnly"},attr:function(by,bv,bz,bx){var bt=by.nodeType;if(!by||bt===3||bt===8||bt===2){return M}if(bx&&bv in b.attrFn){return b(by)[bv](bz)}var bu,e,bw=bt!==1||!b.isXMLDoc(by);bv=bw&&b.attrFix[bv]||bv;e=b.attrHooks[bv]||(a1&&(b.nodeName(by,"form")||a6.test(bv))?a1:M);if(bz!==M){if(bz===null||(bz===false&&!u.test(bv))){b.removeAttr(by,bv);return M}else{if(e&&"set" in e&&bw&&(bu=e.set(by,bz,bv))!==M){return bu}else{if(bz===true&&!u.test(bv)){bz=bv}by.setAttribute(bv,""+bz);return bz}}}else{if(e&&"get" in e&&bw){return e.get(by,bv)}else{bu=by.getAttribute(bv);return bu===null?M:bu}}},removeAttr:function(bt,e){if(bt.nodeType===1){e=b.attrFix[e]||e;if(b.support.getSetAttribute){bt.removeAttribute(e)}else{b.attr(bt,e,"");bt.removeAttributeNode(bt.getAttributeNode(e))}}},attrHooks:{type:{set:function(e,bt){if(g.test(e.nodeName)&&e.parentNode){b.error("type property can't be changed")}else{if(!b.support.radioValue&&bt==="radio"&&b.nodeName(e,"input")){var bu=e.getAttribute("value");e.setAttribute("type",bt);if(bu){e.value=bu}return bt}}}},tabIndex:{get:function(bt){var e=bt.getAttributeNode("tabIndex");return e&&e.specified?parseInt(e.value,10):F.test(bt.nodeName)||l.test(bt.nodeName)&&bt.href?0:M}}},propFix:{},prop:function(bx,bv,by){var bt=bx.nodeType;if(!bx||bt===3||bt===8||bt===2){return M}var bu,e,bw=bt!==1||!b.isXMLDoc(bx);bv=bw&&b.propFix[bv]||bv;e=b.propHooks[bv];if(by!==M){if(e&&"set" in e&&(bu=e.set(bx,by,bv))!==M){return bu}else{return(bx[bv]=by)}}else{if(e&&"get" in e&&(bu=e.get(bx,bv))!==M){return bu}else{return bx[bv]}}},propHooks:{}});if(!b.support.getSetAttribute){b.attrFix=b.extend(b.attrFix,{"for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder"});a1=b.attrHooks.name=b.attrHooks.value=b.valHooks.button={get:function(bu,bt){var e;if(bt==="value"&&!b.nodeName(bu,"button")){return bu.getAttribute(bt)}e=bu.getAttributeNode(bt);return e&&e.specified?e.nodeValue:M},set:function(bu,bv,bt){var e=bu.getAttributeNode(bt);if(e){e.nodeValue=bv;return bv}}};b.each(["width","height"],function(bt,e){b.attrHooks[e]=b.extend(b.attrHooks[e],{set:function(bu,bv){if(bv===""){bu.setAttribute(e,"auto");return bv}}})})}if(!b.support.hrefNormalized){b.each(["href","src","width","height"],function(bt,e){b.attrHooks[e]=b.extend(b.attrHooks[e],{get:function(bv){var bu=bv.getAttribute(e,2);return bu===null?M:bu}})})}if(!b.support.style){b.attrHooks.style={get:function(e){return e.style.cssText.toLowerCase()||M},set:function(e,bt){return(e.style.cssText=""+bt)}}}if(!b.support.optSelected){b.propHooks.selected=b.extend(b.propHooks.selected,{get:function(bt){var e=bt.parentNode;if(e){e.selectedIndex;if(e.parentNode){e.parentNode.selectedIndex}}}})}if(!b.support.checkOn){b.each(["radio","checkbox"],function(){b.valHooks[this]={get:function(e){return e.getAttribute("value")===null?"on":e.value}}})}b.each(["radio","checkbox"],function(){b.valHooks[this]=b.extend(b.valHooks[this],{set:function(e,bt){if(b.isArray(bt)){return(e.checked=b.inArray(b(e).val(),bt)>=0)}}})});var aE=Object.prototype.hasOwnProperty,aX=/\.(.*)$/,bc=/^(?:textarea|input|select)$/i,P=/\./g,bg=/ /g,aD=/[^\w\s.|`]/g,I=function(e){return e.replace(aD,"\\$&")};b.event={add:function(bv,bz,bE,bx){if(bv.nodeType===3||bv.nodeType===8){return}if(bE===false){bE=bi}else{if(!bE){return}}var bt,bD;if(bE.handler){bt=bE;bE=bt.handler}if(!bE.guid){bE.guid=b.guid++}var bA=b._data(bv);if(!bA){return}var bF=bA.events,by=bA.handle;if(!bF){bA.events=bF={}}if(!by){bA.handle=by=function(bG){return typeof b!=="undefined"&&(!bG||b.event.triggered!==bG.type)?b.event.handle.apply(by.elem,arguments):M}}by.elem=bv;bz=bz.split(" ");var bC,bw=0,e;while((bC=bz[bw++])){bD=bt?b.extend({},bt):{handler:bE,data:bx};if(bC.indexOf(".")>-1){e=bC.split(".");bC=e.shift();bD.namespace=e.slice(0).sort().join(".")}else{e=[];bD.namespace=""}bD.type=bC;if(!bD.guid){bD.guid=bE.guid}var bu=bF[bC],bB=b.event.special[bC]||{};if(!bu){bu=bF[bC]=[];if(!bB.setup||bB.setup.call(bv,bx,e,by)===false){if(bv.addEventListener){bv.addEventListener(bC,by,false)}else{if(bv.attachEvent){bv.attachEvent("on"+bC,by)}}}}if(bB.add){bB.add.call(bv,bD);if(!bD.handler.guid){bD.handler.guid=bE.guid}}bu.push(bD);b.event.global[bC]=true}bv=null},global:{},remove:function(bH,bC,bu,by){if(bH.nodeType===3||bH.nodeType===8){return}if(bu===false){bu=bi}var bK,bx,bz,bE,bF=0,bv,bA,bD,bw,bB,e,bJ,bG=b.hasData(bH)&&b._data(bH),bt=bG&&bG.events;if(!bG||!bt){return}if(bC&&bC.type){bu=bC.handler;bC=bC.type}if(!bC||typeof bC==="string"&&bC.charAt(0)==="."){bC=bC||"";for(bx in bt){b.event.remove(bH,bx+bC)}return}bC=bC.split(" ");while((bx=bC[bF++])){bJ=bx;e=null;bv=bx.indexOf(".")<0;bA=[];if(!bv){bA=bx.split(".");bx=bA.shift();bD=new RegExp("(^|\\.)"+b.map(bA.slice(0).sort(),I).join("\\.(?:.*\\.)?")+"(\\.|$)")}bB=bt[bx];if(!bB){continue}if(!bu){for(bE=0;bE<bB.length;bE++){e=bB[bE];if(bv||bD.test(e.namespace)){b.event.remove(bH,bJ,e.handler,bE);bB.splice(bE--,1)}}continue}bw=b.event.special[bx]||{};for(bE=by||0;bE<bB.length;bE++){e=bB[bE];if(bu.guid===e.guid){if(bv||bD.test(e.namespace)){if(by==null){bB.splice(bE--,1)}if(bw.remove){bw.remove.call(bH,e)}}if(by!=null){break}}}if(bB.length===0||by!=null&&bB.length===1){if(!bw.teardown||bw.teardown.call(bH,bA)===false){b.removeEvent(bH,bx,bG.handle)}bK=null;delete bt[bx]}}if(b.isEmptyObject(bt)){var bI=bG.handle;if(bI){bI.elem=null}delete bG.events;delete bG.handle;if(b.isEmptyObject(bG)){b.removeData(bH,M,true)}}},customEvent:{getData:true,setData:true,changeData:true},trigger:function(e,bz,bx,bE){var bC=e.type||e,bu=[],bt;if(bC.indexOf("!")>=0){bC=bC.slice(0,-1);bt=true}if(bC.indexOf(".")>=0){bu=bC.split(".");bC=bu.shift();bu.sort()}if((!bx||b.event.customEvent[bC])&&!b.event.global[bC]){return}e=typeof e==="object"?e[b.expando]?e:new b.Event(bC,e):new b.Event(bC);e.type=bC;e.exclusive=bt;e.namespace=bu.join(".");e.namespace_re=new RegExp("(^|\\.)"+bu.join("\\.(?:.*\\.)?")+"(\\.|$)");if(bE||!bx){e.preventDefault();e.stopPropagation()}if(!bx){b.each(b.cache,function(){var bG=b.expando,bF=this[bG];if(bF&&bF.events&&bF.events[bC]){b.event.trigger(e,bz,bF.handle.elem)}});return}if(bx.nodeType===3||bx.nodeType===8){return}e.result=M;e.target=bx;bz=bz?b.makeArray(bz):[];bz.unshift(e);var bD=bx,bv=bC.indexOf(":")<0?"on"+bC:"";do{var bA=b._data(bD,"handle");e.currentTarget=bD;if(bA){bA.apply(bD,bz)}if(bv&&b.acceptData(bD)&&bD[bv]&&bD[bv].apply(bD,bz)===false){e.result=false;e.preventDefault()}bD=bD.parentNode||bD.ownerDocument||bD===e.target.ownerDocument&&ba}while(bD&&!e.isPropagationStopped());if(!e.isDefaultPrevented()){var bw,bB=b.event.special[bC]||{};if((!bB._default||bB._default.call(bx.ownerDocument,e)===false)&&!(bC==="click"&&b.nodeName(bx,"a"))&&b.acceptData(bx)){try{if(bv&&bx[bC]){bw=bx[bv];if(bw){bx[bv]=null}b.event.triggered=bC;bx[bC]()}}catch(by){}if(bw){bx[bv]=bw}b.event.triggered=M}}return e.result},handle:function(bz){bz=b.event.fix(bz||ba.event);var bt=((b._data(this,"events")||{})[bz.type]||[]).slice(0),by=!bz.exclusive&&!bz.namespace,bw=Array.prototype.slice.call(arguments,0);bw[0]=bz;bz.currentTarget=this;for(var bv=0,e=bt.length;bv<e;bv++){var bx=bt[bv];if(by||bz.namespace_re.test(bx.namespace)){bz.handler=bx.handler;bz.data=bx.data;bz.handleObj=bx;var bu=bx.handler.apply(this,bw);if(bu!==M){bz.result=bu;if(bu===false){bz.preventDefault();bz.stopPropagation()}}if(bz.isImmediatePropagationStopped()){break}}}return bz.result},props:"altKey attrChange attrName bubbles button cancelable charCode clientX clientY ctrlKey currentTarget data detail eventPhase fromElement handler keyCode layerX layerY metaKey newValue offsetX offsetY pageX pageY prevValue relatedNode relatedTarget screenX screenY shiftKey srcElement target toElement view wheelDelta which".split(" "),fix:function(bw){if(bw[b.expando]){return bw}var bt=bw;bw=b.Event(bt);for(var bu=this.props.length,by;bu;){by=this.props[--bu];bw[by]=bt[by]}if(!bw.target){bw.target=bw.srcElement||ar}if(bw.target.nodeType===3){bw.target=bw.target.parentNode}if(!bw.relatedTarget&&bw.fromElement){bw.relatedTarget=bw.fromElement===bw.target?bw.toElement:bw.fromElement}if(bw.pageX==null&&bw.clientX!=null){var bv=bw.target.ownerDocument||ar,bx=bv.documentElement,e=bv.body;bw.pageX=bw.clientX+(bx&&bx.scrollLeft||e&&e.scrollLeft||0)-(bx&&bx.clientLeft||e&&e.clientLeft||0);bw.pageY=bw.clientY+(bx&&bx.scrollTop||e&&e.scrollTop||0)-(bx&&bx.clientTop||e&&e.clientTop||0)}if(bw.which==null&&(bw.charCode!=null||bw.keyCode!=null)){bw.which=bw.charCode!=null?bw.charCode:bw.keyCode}if(!bw.metaKey&&bw.ctrlKey){bw.metaKey=bw.ctrlKey}if(!bw.which&&bw.button!==M){bw.which=(bw.button&1?1:(bw.button&2?3:(bw.button&4?2:0)))}return bw},guid:100000000,proxy:b.proxy,special:{ready:{setup:b.bindReady,teardown:b.noop},live:{add:function(e){b.event.add(this,q(e.origType,e.selector),b.extend({},e,{handler:ak,guid:e.handler.guid}))},remove:function(e){b.event.remove(this,q(e.origType,e.selector),e)}},beforeunload:{setup:function(bu,bt,e){if(b.isWindow(this)){this.onbeforeunload=e}},teardown:function(bt,e){if(this.onbeforeunload===e){this.onbeforeunload=null}}}}};b.removeEvent=ar.removeEventListener?function(bt,e,bu){if(bt.removeEventListener){bt.removeEventListener(e,bu,false)}}:function(bt,e,bu){if(bt.detachEvent){bt.detachEvent("on"+e,bu)}};b.Event=function(bt,e){if(!this.preventDefault){return new b.Event(bt,e)}if(bt&&bt.type){this.originalEvent=bt;this.type=bt.type;this.isDefaultPrevented=(bt.defaultPrevented||bt.returnValue===false||bt.getPreventDefault&&bt.getPreventDefault())?i:bi}else{this.type=bt}if(e){b.extend(this,e)}this.timeStamp=b.now();this[b.expando]=true};function bi(){return false}function i(){return true}b.Event.prototype={preventDefault:function(){this.isDefaultPrevented=i;var bt=this.originalEvent;if(!bt){return}if(bt.preventDefault){bt.preventDefault()}else{bt.returnValue=false}},stopPropagation:function(){this.isPropagationStopped=i;var bt=this.originalEvent;if(!bt){return}if(bt.stopPropagation){bt.stopPropagation()}bt.cancelBubble=true},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=i;this.stopPropagation()},isDefaultPrevented:bi,isPropagationStopped:bi,isImmediatePropagationStopped:bi};var ad=function(bu){var bt=bu.relatedTarget;try{if(bt&&bt!==ar&&!bt.parentNode){return}while(bt&&bt!==this){bt=bt.parentNode}if(bt!==this){bu.type=bu.data;b.event.handle.apply(this,arguments)}}catch(bv){}},aS=function(e){e.type=e.data;b.event.handle.apply(this,arguments)};b.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(bt,e){b.event.special[bt]={setup:function(bu){b.event.add(this,e,bu&&bu.selector?aS:ad,bt)},teardown:function(bu){b.event.remove(this,e,bu&&bu.selector?aS:ad)}}});if(!b.support.submitBubbles){b.event.special.submit={setup:function(bt,e){if(!b.nodeName(this,"form")){b.event.add(this,"click.specialSubmit",function(bw){var bv=bw.target,bu=bv.type;if((bu==="submit"||bu==="image")&&b(bv).closest("form").length){aV("submit",this,arguments)}});b.event.add(this,"keypress.specialSubmit",function(bw){var bv=bw.target,bu=bv.type;if((bu==="text"||bu==="password")&&b(bv).closest("form").length&&bw.keyCode===13){aV("submit",this,arguments)}})}else{return false}},teardown:function(e){b.event.remove(this,".specialSubmit")}}}if(!b.support.changeBubbles){var bl,k=function(bt){var e=bt.type,bu=bt.value;if(e==="radio"||e==="checkbox"){bu=bt.checked}else{if(e==="select-multiple"){bu=bt.selectedIndex>-1?b.map(bt.options,function(bv){return bv.selected}).join("-"):""}else{if(b.nodeName(bt,"select")){bu=bt.selectedIndex}}}return bu},ab=function ab(bv){var bt=bv.target,bu,bw;if(!bc.test(bt.nodeName)||bt.readOnly){return}bu=b._data(bt,"_change_data");bw=k(bt);if(bv.type!=="focusout"||bt.type!=="radio"){b._data(bt,"_change_data",bw)}if(bu===M||bw===bu){return}if(bu!=null||bw){bv.type="change";bv.liveFired=M;b.event.trigger(bv,arguments[1],bt)}};b.event.special.change={filters:{focusout:ab,beforedeactivate:ab,click:function(bv){var bu=bv.target,bt=b.nodeName(bu,"input")?bu.type:"";if(bt==="radio"||bt==="checkbox"||b.nodeName(bu,"select")){ab.call(this,bv)}},keydown:function(bv){var bu=bv.target,bt=b.nodeName(bu,"input")?bu.type:"";if((bv.keyCode===13&&!b.nodeName(bu,"textarea"))||(bv.keyCode===32&&(bt==="checkbox"||bt==="radio"))||bt==="select-multiple"){ab.call(this,bv)}},beforeactivate:function(bu){var bt=bu.target;b._data(bt,"_change_data",k(bt))}},setup:function(bu,bt){if(this.type==="file"){return false}for(var e in bl){b.event.add(this,e+".specialChange",bl[e])}return bc.test(this.nodeName)},teardown:function(e){b.event.remove(this,".specialChange");return bc.test(this.nodeName)}};bl=b.event.special.change.filters;bl.focus=bl.beforeactivate}function aV(bt,bv,e){var bu=b.extend({},e[0]);bu.type=bt;bu.originalEvent={};bu.liveFired=M;b.event.handle.call(bv,bu);if(bu.isDefaultPrevented()){e[0].preventDefault()}}if(!b.support.focusinBubbles){b.each({focus:"focusin",blur:"focusout"},function(bv,e){var bt=0;b.event.special[e]={setup:function(){if(bt++===0){ar.addEventListener(bv,bu,true)}},teardown:function(){if(--bt===0){ar.removeEventListener(bv,bu,true)}}};function bu(bw){var bx=b.event.fix(bw);bx.type=e;bx.originalEvent={};b.event.trigger(bx,null,bx.target);if(bx.isDefaultPrevented()){bw.preventDefault()}}})}b.each(["bind","one"],function(bt,e){b.fn[e]=function(bz,bA,by){var bx;if(typeof bz==="object"){for(var bw in bz){this[e](bw,bA,bz[bw],by)}return this}if(arguments.length===2||bA===false){by=bA;bA=M}if(e==="one"){bx=function(bB){b(this).unbind(bB,bx);return by.apply(this,arguments)};bx.guid=by.guid||b.guid++}else{bx=by}if(bz==="unload"&&e!=="one"){this.one(bz,bA,by)}else{for(var bv=0,bu=this.length;bv<bu;bv++){b.event.add(this[bv],bz,bx,bA)}}return this}});b.fn.extend({unbind:function(bw,bv){if(typeof bw==="object"&&!bw.preventDefault){for(var bu in bw){this.unbind(bu,bw[bu])}}else{for(var bt=0,e=this.length;bt<e;bt++){b.event.remove(this[bt],bw,bv)}}return this},delegate:function(e,bt,bv,bu){return this.live(bt,bv,bu,e)},undelegate:function(e,bt,bu){if(arguments.length===0){return this.unbind("live")}else{return this.die(bt,null,bu,e)}},trigger:function(e,bt){return this.each(function(){b.event.trigger(e,bt,this)})},triggerHandler:function(e,bt){if(this[0]){return b.event.trigger(e,bt,this[0],true)}},toggle:function(bv){var bt=arguments,e=bv.guid||b.guid++,bu=0,bw=function(bx){var by=(b.data(this,"lastToggle"+bv.guid)||0)%bu;b.data(this,"lastToggle"+bv.guid,by+1);bx.preventDefault();return bt[by].apply(this,arguments)||false};bw.guid=e;while(bu<bt.length){bt[bu++].guid=e}return this.click(bw)},hover:function(e,bt){return this.mouseenter(e).mouseleave(bt||e)}});var aQ={focus:"focusin",blur:"focusout",mouseenter:"mouseover",mouseleave:"mouseout"};b.each(["live","die"],function(bt,e){b.fn[e]=function(bD,bA,bF,bw){var bE,bB=0,bC,bv,bH,by=bw||this.selector,bu=bw?this:b(this.context);if(typeof bD==="object"&&!bD.preventDefault){for(var bG in bD){bu[e](bG,bA,bD[bG],by)}return this}if(e==="die"&&!bD&&bw&&bw.charAt(0)==="."){bu.unbind(bw);return this}if(bA===false||b.isFunction(bA)){bF=bA||bi;bA=M}bD=(bD||"").split(" ");while((bE=bD[bB++])!=null){bC=aX.exec(bE);bv="";if(bC){bv=bC[0];bE=bE.replace(aX,"")}if(bE==="hover"){bD.push("mouseenter"+bv,"mouseleave"+bv);continue}bH=bE;if(aQ[bE]){bD.push(aQ[bE]+bv);bE=bE+bv}else{bE=(aQ[bE]||bE)+bv}if(e==="live"){for(var bz=0,bx=bu.length;bz<bx;bz++){b.event.add(bu[bz],"live."+q(bE,by),{data:bA,selector:by,handler:bF,origType:bE,origHandler:bF,preType:bH})}}else{bu.unbind("live."+q(bE,by),bF)}}return this}});function ak(bD){var bA,bv,bJ,bx,e,bF,bC,bE,bB,bI,bz,by,bH,bG=[],bw=[],bt=b._data(this,"events");if(bD.liveFired===this||!bt||!bt.live||bD.target.disabled||bD.button&&bD.type==="click"){return}if(bD.namespace){by=new RegExp("(^|\\.)"+bD.namespace.split(".").join("\\.(?:.*\\.)?")+"(\\.|$)")}bD.liveFired=this;var bu=bt.live.slice(0);for(bC=0;bC<bu.length;bC++){e=bu[bC];if(e.origType.replace(aX,"")===bD.type){bw.push(e.selector)}else{bu.splice(bC--,1)}}bx=b(bD.target).closest(bw,bD.currentTarget);for(bE=0,bB=bx.length;bE<bB;bE++){bz=bx[bE];for(bC=0;bC<bu.length;bC++){e=bu[bC];if(bz.selector===e.selector&&(!by||by.test(e.namespace))&&!bz.elem.disabled){bF=bz.elem;bJ=null;if(e.preType==="mouseenter"||e.preType==="mouseleave"){bD.type=e.preType;bJ=b(bD.relatedTarget).closest(e.selector)[0];if(bJ&&b.contains(bF,bJ)){bJ=bF}}if(!bJ||bJ!==bF){bG.push({elem:bF,handleObj:e,level:bz.level})}}}}for(bE=0,bB=bG.length;bE<bB;bE++){bx=bG[bE];if(bv&&bx.level>bv){break}bD.currentTarget=bx.elem;bD.data=bx.handleObj.data;bD.handleObj=bx.handleObj;bH=bx.handleObj.origHandler.apply(bx.elem,arguments);if(bH===false||bD.isPropagationStopped()){bv=bx.level;if(bH===false){bA=false}if(bD.isImmediatePropagationStopped()){break}}}return bA}function q(bt,e){return(bt&&bt!=="*"?bt+".":"")+e.replace(P,"`").replace(bg,"&")}b.each(("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error").split(" "),function(bt,e){b.fn[e]=function(bv,bu){if(bu==null){bu=bv;bv=null}return arguments.length>0?this.bind(e,bv,bu):this.trigger(e)};if(b.attrFn){b.attrFn[e]=true}});
/*!
 * Sizzle CSS Selector Engine
 *  Copyright 2011, The Dojo Foundation
 *  Released under the MIT, BSD, and GPL Licenses.
 *  More information: http://sizzlejs.com/
 */
(function(){var bD=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,bE=0,bH=Object.prototype.toString,by=false,bx=true,bF=/\\/g,bL=/\W/;[0,0].sort(function(){bx=false;return 0});var bv=function(bQ,e,bT,bU){bT=bT||[];e=e||ar;var bW=e;if(e.nodeType!==1&&e.nodeType!==9){return[]}if(!bQ||typeof bQ!=="string"){return bT}var bN,bY,b1,bM,bX,b0,bZ,bS,bP=true,bO=bv.isXML(e),bR=[],bV=bQ;do{bD.exec("");bN=bD.exec(bV);if(bN){bV=bN[3];bR.push(bN[1]);if(bN[2]){bM=bN[3];break}}}while(bN);if(bR.length>1&&bz.exec(bQ)){if(bR.length===2&&bA.relative[bR[0]]){bY=bI(bR[0]+bR[1],e)}else{bY=bA.relative[bR[0]]?[e]:bv(bR.shift(),e);while(bR.length){bQ=bR.shift();if(bA.relative[bQ]){bQ+=bR.shift()}bY=bI(bQ,bY)}}}else{if(!bU&&bR.length>1&&e.nodeType===9&&!bO&&bA.match.ID.test(bR[0])&&!bA.match.ID.test(bR[bR.length-1])){bX=bv.find(bR.shift(),e,bO);e=bX.expr?bv.filter(bX.expr,bX.set)[0]:bX.set[0]}if(e){bX=bU?{expr:bR.pop(),set:bB(bU)}:bv.find(bR.pop(),bR.length===1&&(bR[0]==="~"||bR[0]==="+")&&e.parentNode?e.parentNode:e,bO);bY=bX.expr?bv.filter(bX.expr,bX.set):bX.set;if(bR.length>0){b1=bB(bY)}else{bP=false}while(bR.length){b0=bR.pop();bZ=b0;if(!bA.relative[b0]){b0=""}else{bZ=bR.pop()}if(bZ==null){bZ=e}bA.relative[b0](b1,bZ,bO)}}else{b1=bR=[]}}if(!b1){b1=bY}if(!b1){bv.error(b0||bQ)}if(bH.call(b1)==="[object Array]"){if(!bP){bT.push.apply(bT,b1)}else{if(e&&e.nodeType===1){for(bS=0;b1[bS]!=null;bS++){if(b1[bS]&&(b1[bS]===true||b1[bS].nodeType===1&&bv.contains(e,b1[bS]))){bT.push(bY[bS])}}}else{for(bS=0;b1[bS]!=null;bS++){if(b1[bS]&&b1[bS].nodeType===1){bT.push(bY[bS])}}}}}else{bB(b1,bT)}if(bM){bv(bM,bW,bT,bU);bv.uniqueSort(bT)}return bT};bv.uniqueSort=function(bM){if(bG){by=bx;bM.sort(bG);if(by){for(var e=1;e<bM.length;e++){if(bM[e]===bM[e-1]){bM.splice(e--,1)}}}}return bM};bv.matches=function(e,bM){return bv(e,null,null,bM)};bv.matchesSelector=function(e,bM){return bv(bM,null,null,[e]).length>0};bv.find=function(bS,e,bT){var bR;if(!bS){return[]}for(var bO=0,bN=bA.order.length;bO<bN;bO++){var bP,bQ=bA.order[bO];if((bP=bA.leftMatch[bQ].exec(bS))){var bM=bP[1];bP.splice(1,1);if(bM.substr(bM.length-1)!=="\\"){bP[1]=(bP[1]||"").replace(bF,"");bR=bA.find[bQ](bP,e,bT);if(bR!=null){bS=bS.replace(bA.match[bQ],"");break}}}}if(!bR){bR=typeof e.getElementsByTagName!=="undefined"?e.getElementsByTagName("*"):[]}return{set:bR,expr:bS}};bv.filter=function(bW,bV,bZ,bP){var bR,e,bN=bW,b1=[],bT=bV,bS=bV&&bV[0]&&bv.isXML(bV[0]);while(bW&&bV.length){for(var bU in bA.filter){if((bR=bA.leftMatch[bU].exec(bW))!=null&&bR[2]){var b0,bY,bM=bA.filter[bU],bO=bR[1];e=false;bR.splice(1,1);if(bO.substr(bO.length-1)==="\\"){continue}if(bT===b1){b1=[]}if(bA.preFilter[bU]){bR=bA.preFilter[bU](bR,bT,bZ,b1,bP,bS);if(!bR){e=b0=true}else{if(bR===true){continue}}}if(bR){for(var bQ=0;(bY=bT[bQ])!=null;bQ++){if(bY){b0=bM(bY,bR,bQ,bT);var bX=bP^!!b0;if(bZ&&b0!=null){if(bX){e=true}else{bT[bQ]=false}}else{if(bX){b1.push(bY);e=true}}}}}if(b0!==M){if(!bZ){bT=b1}bW=bW.replace(bA.match[bU],"");if(!e){return[]}break}}}if(bW===bN){if(e==null){bv.error(bW)}else{break}}bN=bW}return bT};bv.error=function(e){throw"Syntax error, unrecognized expression: "+e};var bA=bv.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(?:(['"])(.*?)\3|(#?(?:[\w\u00c0-\uFFFF\-]|\\.)*)|)|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\(\s*(even|odd|(?:[+\-]?\d+|(?:[+\-]?\d*)?n\s*(?:[+\-]\s*\d+)?))\s*\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(e){return e.getAttribute("href")},type:function(e){return e.getAttribute("type")}},relative:{"+":function(bR,bM){var bO=typeof bM==="string",bQ=bO&&!bL.test(bM),bS=bO&&!bQ;if(bQ){bM=bM.toLowerCase()}for(var bN=0,e=bR.length,bP;bN<e;bN++){if((bP=bR[bN])){while((bP=bP.previousSibling)&&bP.nodeType!==1){}bR[bN]=bS||bP&&bP.nodeName.toLowerCase()===bM?bP||false:bP===bM}}if(bS){bv.filter(bM,bR,true)}},">":function(bR,bM){var bQ,bP=typeof bM==="string",bN=0,e=bR.length;if(bP&&!bL.test(bM)){bM=bM.toLowerCase();for(;bN<e;bN++){bQ=bR[bN];if(bQ){var bO=bQ.parentNode;bR[bN]=bO.nodeName.toLowerCase()===bM?bO:false}}}else{for(;bN<e;bN++){bQ=bR[bN];if(bQ){bR[bN]=bP?bQ.parentNode:bQ.parentNode===bM}}if(bP){bv.filter(bM,bR,true)}}},"":function(bO,bM,bQ){var bP,bN=bE++,e=bJ;if(typeof bM==="string"&&!bL.test(bM)){bM=bM.toLowerCase();bP=bM;e=bt}e("parentNode",bM,bN,bO,bP,bQ)},"~":function(bO,bM,bQ){var bP,bN=bE++,e=bJ;if(typeof bM==="string"&&!bL.test(bM)){bM=bM.toLowerCase();bP=bM;e=bt}e("previousSibling",bM,bN,bO,bP,bQ)}},find:{ID:function(bM,bN,bO){if(typeof bN.getElementById!=="undefined"&&!bO){var e=bN.getElementById(bM[1]);return e&&e.parentNode?[e]:[]}},NAME:function(bN,bQ){if(typeof bQ.getElementsByName!=="undefined"){var bM=[],bP=bQ.getElementsByName(bN[1]);for(var bO=0,e=bP.length;bO<e;bO++){if(bP[bO].getAttribute("name")===bN[1]){bM.push(bP[bO])}}return bM.length===0?null:bM}},TAG:function(e,bM){if(typeof bM.getElementsByTagName!=="undefined"){return bM.getElementsByTagName(e[1])}}},preFilter:{CLASS:function(bO,bM,bN,e,bR,bS){bO=" "+bO[1].replace(bF,"")+" ";if(bS){return bO}for(var bP=0,bQ;(bQ=bM[bP])!=null;bP++){if(bQ){if(bR^(bQ.className&&(" "+bQ.className+" ").replace(/[\t\n\r]/g," ").indexOf(bO)>=0)){if(!bN){e.push(bQ)}}else{if(bN){bM[bP]=false}}}}return false},ID:function(e){return e[1].replace(bF,"")},TAG:function(bM,e){return bM[1].replace(bF,"").toLowerCase()},CHILD:function(e){if(e[1]==="nth"){if(!e[2]){bv.error(e[0])}e[2]=e[2].replace(/^\+|\s*/g,"");var bM=/(-?)(\d*)(?:n([+\-]?\d*))?/.exec(e[2]==="even"&&"2n"||e[2]==="odd"&&"2n+1"||!/\D/.test(e[2])&&"0n+"+e[2]||e[2]);e[2]=(bM[1]+(bM[2]||1))-0;e[3]=bM[3]-0}else{if(e[2]){bv.error(e[0])}}e[0]=bE++;return e},ATTR:function(bP,bM,bN,e,bQ,bR){var bO=bP[1]=bP[1].replace(bF,"");if(!bR&&bA.attrMap[bO]){bP[1]=bA.attrMap[bO]}bP[4]=(bP[4]||bP[5]||"").replace(bF,"");if(bP[2]==="~="){bP[4]=" "+bP[4]+" "}return bP},PSEUDO:function(bP,bM,bN,e,bQ){if(bP[1]==="not"){if((bD.exec(bP[3])||"").length>1||/^\w/.test(bP[3])){bP[3]=bv(bP[3],null,null,bM)}else{var bO=bv.filter(bP[3],bM,bN,true^bQ);if(!bN){e.push.apply(e,bO)}return false}}else{if(bA.match.POS.test(bP[0])||bA.match.CHILD.test(bP[0])){return true}}return bP},POS:function(e){e.unshift(true);return e}},filters:{enabled:function(e){return e.disabled===false&&e.type!=="hidden"},disabled:function(e){return e.disabled===true},checked:function(e){return e.checked===true},selected:function(e){if(e.parentNode){e.parentNode.selectedIndex}return e.selected===true},parent:function(e){return !!e.firstChild},empty:function(e){return !e.firstChild},has:function(bN,bM,e){return !!bv(e[3],bN).length},header:function(e){return(/h\d/i).test(e.nodeName)},text:function(bN){var e=bN.getAttribute("type"),bM=bN.type;return bN.nodeName.toLowerCase()==="input"&&"text"===bM&&(e===bM||e===null)},radio:function(e){return e.nodeName.toLowerCase()==="input"&&"radio"===e.type},checkbox:function(e){return e.nodeName.toLowerCase()==="input"&&"checkbox"===e.type},file:function(e){return e.nodeName.toLowerCase()==="input"&&"file"===e.type},password:function(e){return e.nodeName.toLowerCase()==="input"&&"password"===e.type},submit:function(bM){var e=bM.nodeName.toLowerCase();return(e==="input"||e==="button")&&"submit"===bM.type},image:function(e){return e.nodeName.toLowerCase()==="input"&&"image"===e.type},reset:function(e){return e.nodeName.toLowerCase()==="input"&&"reset"===e.type},button:function(bM){var e=bM.nodeName.toLowerCase();return e==="input"&&"button"===bM.type||e==="button"},input:function(e){return(/input|select|textarea|button/i).test(e.nodeName)},focus:function(e){return e===e.ownerDocument.activeElement}},setFilters:{first:function(bM,e){return e===0},last:function(bN,bM,e,bO){return bM===bO.length-1},even:function(bM,e){return e%2===0},odd:function(bM,e){return e%2===1},lt:function(bN,bM,e){return bM<e[3]-0},gt:function(bN,bM,e){return bM>e[3]-0},nth:function(bN,bM,e){return e[3]-0===bM},eq:function(bN,bM,e){return e[3]-0===bM}},filter:{PSEUDO:function(bN,bS,bR,bT){var e=bS[1],bM=bA.filters[e];if(bM){return bM(bN,bR,bS,bT)}else{if(e==="contains"){return(bN.textContent||bN.innerText||bv.getText([bN])||"").indexOf(bS[3])>=0}else{if(e==="not"){var bO=bS[3];for(var bQ=0,bP=bO.length;bQ<bP;bQ++){if(bO[bQ]===bN){return false}}return true}else{bv.error(e)}}}},CHILD:function(e,bO){var bR=bO[1],bM=e;switch(bR){case"only":case"first":while((bM=bM.previousSibling)){if(bM.nodeType===1){return false}}if(bR==="first"){return true}bM=e;case"last":while((bM=bM.nextSibling)){if(bM.nodeType===1){return false}}return true;case"nth":var bN=bO[2],bU=bO[3];if(bN===1&&bU===0){return true}var bQ=bO[0],bT=e.parentNode;if(bT&&(bT.sizcache!==bQ||!e.nodeIndex)){var bP=0;for(bM=bT.firstChild;bM;bM=bM.nextSibling){if(bM.nodeType===1){bM.nodeIndex=++bP}}bT.sizcache=bQ}var bS=e.nodeIndex-bU;if(bN===0){return bS===0}else{return(bS%bN===0&&bS/bN>=0)}}},ID:function(bM,e){return bM.nodeType===1&&bM.getAttribute("id")===e},TAG:function(bM,e){return(e==="*"&&bM.nodeType===1)||bM.nodeName.toLowerCase()===e},CLASS:function(bM,e){return(" "+(bM.className||bM.getAttribute("class"))+" ").indexOf(e)>-1},ATTR:function(bQ,bO){var bN=bO[1],e=bA.attrHandle[bN]?bA.attrHandle[bN](bQ):bQ[bN]!=null?bQ[bN]:bQ.getAttribute(bN),bR=e+"",bP=bO[2],bM=bO[4];return e==null?bP==="!=":bP==="="?bR===bM:bP==="*="?bR.indexOf(bM)>=0:bP==="~="?(" "+bR+" ").indexOf(bM)>=0:!bM?bR&&e!==false:bP==="!="?bR!==bM:bP==="^="?bR.indexOf(bM)===0:bP==="$="?bR.substr(bR.length-bM.length)===bM:bP==="|="?bR===bM||bR.substr(0,bM.length+1)===bM+"-":false},POS:function(bP,bM,bN,bQ){var e=bM[2],bO=bA.setFilters[e];if(bO){return bO(bP,bN,bM,bQ)}}}};var bz=bA.match.POS,bu=function(bM,e){return"\\"+(e-0+1)};for(var bw in bA.match){bA.match[bw]=new RegExp(bA.match[bw].source+(/(?![^\[]*\])(?![^\(]*\))/.source));bA.leftMatch[bw]=new RegExp(/(^(?:.|\r|\n)*?)/.source+bA.match[bw].source.replace(/\\(\d+)/g,bu))}var bB=function(bM,e){bM=Array.prototype.slice.call(bM,0);if(e){e.push.apply(e,bM);return e}return bM};try{Array.prototype.slice.call(ar.documentElement.childNodes,0)[0].nodeType}catch(bK){bB=function(bP,bO){var bN=0,bM=bO||[];if(bH.call(bP)==="[object Array]"){Array.prototype.push.apply(bM,bP)}else{if(typeof bP.length==="number"){for(var e=bP.length;bN<e;bN++){bM.push(bP[bN])}}else{for(;bP[bN];bN++){bM.push(bP[bN])}}}return bM}}var bG,bC;if(ar.documentElement.compareDocumentPosition){bG=function(bM,e){if(bM===e){by=true;return 0}if(!bM.compareDocumentPosition||!e.compareDocumentPosition){return bM.compareDocumentPosition?-1:1}return bM.compareDocumentPosition(e)&4?-1:1}}else{bG=function(bT,bS){var bQ,bM,bN=[],e=[],bP=bT.parentNode,bR=bS.parentNode,bU=bP;if(bT===bS){by=true;return 0}else{if(bP===bR){return bC(bT,bS)}else{if(!bP){return -1}else{if(!bR){return 1}}}}while(bU){bN.unshift(bU);bU=bU.parentNode}bU=bR;while(bU){e.unshift(bU);bU=bU.parentNode}bQ=bN.length;bM=e.length;for(var bO=0;bO<bQ&&bO<bM;bO++){if(bN[bO]!==e[bO]){return bC(bN[bO],e[bO])}}return bO===bQ?bC(bT,e[bO],-1):bC(bN[bO],bS,1)};bC=function(bM,e,bN){if(bM===e){return bN}var bO=bM.nextSibling;while(bO){if(bO===e){return -1}bO=bO.nextSibling}return 1}}bv.getText=function(e){var bM="",bO;for(var bN=0;e[bN];bN++){bO=e[bN];if(bO.nodeType===3||bO.nodeType===4){bM+=bO.nodeValue}else{if(bO.nodeType!==8){bM+=bv.getText(bO.childNodes)}}}return bM};(function(){var bM=ar.createElement("div"),bN="script"+(new Date()).getTime(),e=ar.documentElement;bM.innerHTML="<a name='"+bN+"'/>";e.insertBefore(bM,e.firstChild);if(ar.getElementById(bN)){bA.find.ID=function(bP,bQ,bR){if(typeof bQ.getElementById!=="undefined"&&!bR){var bO=bQ.getElementById(bP[1]);return bO?bO.id===bP[1]||typeof bO.getAttributeNode!=="undefined"&&bO.getAttributeNode("id").nodeValue===bP[1]?[bO]:M:[]}};bA.filter.ID=function(bQ,bO){var bP=typeof bQ.getAttributeNode!=="undefined"&&bQ.getAttributeNode("id");return bQ.nodeType===1&&bP&&bP.nodeValue===bO}}e.removeChild(bM);e=bM=null})();(function(){var e=ar.createElement("div");e.appendChild(ar.createComment(""));if(e.getElementsByTagName("*").length>0){bA.find.TAG=function(bM,bQ){var bP=bQ.getElementsByTagName(bM[1]);if(bM[1]==="*"){var bO=[];for(var bN=0;bP[bN];bN++){if(bP[bN].nodeType===1){bO.push(bP[bN])}}bP=bO}return bP}}e.innerHTML="<a href='#'></a>";if(e.firstChild&&typeof e.firstChild.getAttribute!=="undefined"&&e.firstChild.getAttribute("href")!=="#"){bA.attrHandle.href=function(bM){return bM.getAttribute("href",2)}}e=null})();if(ar.querySelectorAll){(function(){var e=bv,bO=ar.createElement("div"),bN="__sizzle__";bO.innerHTML="<p class='TEST'></p>";if(bO.querySelectorAll&&bO.querySelectorAll(".TEST").length===0){return}bv=function(bZ,bQ,bU,bY){bQ=bQ||ar;if(!bY&&!bv.isXML(bQ)){var bX=/^(\w+$)|^\.([\w\-]+$)|^#([\w\-]+$)/.exec(bZ);if(bX&&(bQ.nodeType===1||bQ.nodeType===9)){if(bX[1]){return bB(bQ.getElementsByTagName(bZ),bU)}else{if(bX[2]&&bA.find.CLASS&&bQ.getElementsByClassName){return bB(bQ.getElementsByClassName(bX[2]),bU)}}}if(bQ.nodeType===9){if(bZ==="body"&&bQ.body){return bB([bQ.body],bU)}else{if(bX&&bX[3]){var bT=bQ.getElementById(bX[3]);if(bT&&bT.parentNode){if(bT.id===bX[3]){return bB([bT],bU)}}else{return bB([],bU)}}}try{return bB(bQ.querySelectorAll(bZ),bU)}catch(bV){}}else{if(bQ.nodeType===1&&bQ.nodeName.toLowerCase()!=="object"){var bR=bQ,bS=bQ.getAttribute("id"),bP=bS||bN,b1=bQ.parentNode,b0=/^\s*[+~]/.test(bZ);if(!bS){bQ.setAttribute("id",bP)}else{bP=bP.replace(/'/g,"\\$&")}if(b0&&b1){bQ=bQ.parentNode}try{if(!b0||b1){return bB(bQ.querySelectorAll("[id='"+bP+"'] "+bZ),bU)}}catch(bW){}finally{if(!bS){bR.removeAttribute("id")}}}}}return e(bZ,bQ,bU,bY)};for(var bM in e){bv[bM]=e[bM]}bO=null})()}(function(){var e=ar.documentElement,bN=e.matchesSelector||e.mozMatchesSelector||e.webkitMatchesSelector||e.msMatchesSelector;if(bN){var bP=!bN.call(ar.createElement("div"),"div"),bM=false;try{bN.call(ar.documentElement,"[test!='']:sizzle")}catch(bO){bM=true}bv.matchesSelector=function(bR,bT){bT=bT.replace(/\=\s*([^'"\]]*)\s*\]/g,"='$1']");if(!bv.isXML(bR)){try{if(bM||!bA.match.PSEUDO.test(bT)&&!/!=/.test(bT)){var bQ=bN.call(bR,bT);if(bQ||!bP||bR.document&&bR.document.nodeType!==11){return bQ}}}catch(bS){}}return bv(bT,null,null,[bR]).length>0}}})();(function(){var e=ar.createElement("div");e.innerHTML="<div class='test e'></div><div class='test'></div>";if(!e.getElementsByClassName||e.getElementsByClassName("e").length===0){return}e.lastChild.className="e";if(e.getElementsByClassName("e").length===1){return}bA.order.splice(1,0,"CLASS");bA.find.CLASS=function(bM,bN,bO){if(typeof bN.getElementsByClassName!=="undefined"&&!bO){return bN.getElementsByClassName(bM[1])}};e=null})();function bt(bM,bR,bQ,bU,bS,bT){for(var bO=0,bN=bU.length;bO<bN;bO++){var e=bU[bO];if(e){var bP=false;e=e[bM];while(e){if(e.sizcache===bQ){bP=bU[e.sizset];break}if(e.nodeType===1&&!bT){e.sizcache=bQ;e.sizset=bO}if(e.nodeName.toLowerCase()===bR){bP=e;break}e=e[bM]}bU[bO]=bP}}}function bJ(bM,bR,bQ,bU,bS,bT){for(var bO=0,bN=bU.length;bO<bN;bO++){var e=bU[bO];if(e){var bP=false;e=e[bM];while(e){if(e.sizcache===bQ){bP=bU[e.sizset];break}if(e.nodeType===1){if(!bT){e.sizcache=bQ;e.sizset=bO}if(typeof bR!=="string"){if(e===bR){bP=true;break}}else{if(bv.filter(bR,[e]).length>0){bP=e;break}}}e=e[bM]}bU[bO]=bP}}}if(ar.documentElement.contains){bv.contains=function(bM,e){return bM!==e&&(bM.contains?bM.contains(e):true)}}else{if(ar.documentElement.compareDocumentPosition){bv.contains=function(bM,e){return !!(bM.compareDocumentPosition(e)&16)}}else{bv.contains=function(){return false}}}bv.isXML=function(e){var bM=(e?e.ownerDocument||e:0).documentElement;return bM?bM.nodeName!=="HTML":false};var bI=function(e,bS){var bQ,bO=[],bP="",bN=bS.nodeType?[bS]:bS;while((bQ=bA.match.PSEUDO.exec(e))){bP+=bQ[0];e=e.replace(bA.match.PSEUDO,"")}e=bA.relative[e]?e+"*":e;for(var bR=0,bM=bN.length;bR<bM;bR++){bv(e,bN[bR],bO)}return bv.filter(bP,bO)};b.find=bv;b.expr=bv.selectors;b.expr[":"]=b.expr.filters;b.unique=bv.uniqueSort;b.text=bv.getText;b.isXMLDoc=bv.isXML;b.contains=bv.contains})();var aa=/Until$/,an=/^(?:parents|prevUntil|prevAll)/,a8=/,/,bo=/^.[^:#\[\.,]*$/,R=Array.prototype.slice,J=b.expr.match.POS,av={children:true,contents:true,next:true,prev:true};b.fn.extend({find:function(e){var bu=this,bw,bt;if(typeof e!=="string"){return b(e).filter(function(){for(bw=0,bt=bu.length;bw<bt;bw++){if(b.contains(bu[bw],this)){return true}}})}var bv=this.pushStack("","find",e),by,bz,bx;for(bw=0,bt=this.length;bw<bt;bw++){by=bv.length;b.find(e,this[bw],bv);if(bw>0){for(bz=by;bz<bv.length;bz++){for(bx=0;bx<by;bx++){if(bv[bx]===bv[bz]){bv.splice(bz--,1);break}}}}}return bv},has:function(bt){var e=b(bt);return this.filter(function(){for(var bv=0,bu=e.length;bv<bu;bv++){if(b.contains(this,e[bv])){return true}}})},not:function(e){return this.pushStack(aC(this,e,false),"not",e)},filter:function(e){return this.pushStack(aC(this,e,true),"filter",e)},is:function(e){return !!e&&(typeof e==="string"?b.filter(e,this).length>0:this.filter(e).length>0)},closest:function(bC,bt){var bz=[],bw,bu,bB=this[0];if(b.isArray(bC)){var by,bv,bx={},e=1;if(bB&&bC.length){for(bw=0,bu=bC.length;bw<bu;bw++){bv=bC[bw];if(!bx[bv]){bx[bv]=J.test(bv)?b(bv,bt||this.context):bv}}while(bB&&bB.ownerDocument&&bB!==bt){for(bv in bx){by=bx[bv];if(by.jquery?by.index(bB)>-1:b(bB).is(by)){bz.push({selector:bv,elem:bB,level:e})}}bB=bB.parentNode;e++}}return bz}var bA=J.test(bC)||typeof bC!=="string"?b(bC,bt||this.context):0;for(bw=0,bu=this.length;bw<bu;bw++){bB=this[bw];while(bB){if(bA?bA.index(bB)>-1:b.find.matchesSelector(bB,bC)){bz.push(bB);break}else{bB=bB.parentNode;if(!bB||!bB.ownerDocument||bB===bt||bB.nodeType===11){break}}}}bz=bz.length>1?b.unique(bz):bz;return this.pushStack(bz,"closest",bC)},index:function(e){if(!e||typeof e==="string"){return b.inArray(this[0],e?b(e):this.parent().children())}return b.inArray(e.jquery?e[0]:e,this)},add:function(e,bt){var bv=typeof e==="string"?b(e,bt):b.makeArray(e&&e.nodeType?[e]:e),bu=b.merge(this.get(),bv);return this.pushStack(E(bv[0])||E(bu[0])?bu:b.unique(bu))},andSelf:function(){return this.add(this.prevObject)}});function E(e){return !e||!e.parentNode||e.parentNode.nodeType===11}b.each({parent:function(bt){var e=bt.parentNode;return e&&e.nodeType!==11?e:null},parents:function(e){return b.dir(e,"parentNode")},parentsUntil:function(bt,e,bu){return b.dir(bt,"parentNode",bu)},next:function(e){return b.nth(e,2,"nextSibling")},prev:function(e){return b.nth(e,2,"previousSibling")},nextAll:function(e){return b.dir(e,"nextSibling")},prevAll:function(e){return b.dir(e,"previousSibling")},nextUntil:function(bt,e,bu){return b.dir(bt,"nextSibling",bu)},prevUntil:function(bt,e,bu){return b.dir(bt,"previousSibling",bu)},siblings:function(e){return b.sibling(e.parentNode.firstChild,e)},children:function(e){return b.sibling(e.firstChild)},contents:function(e){return b.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:b.makeArray(e.childNodes)}},function(e,bt){b.fn[e]=function(bx,bu){var bw=b.map(this,bt,bx),bv=R.call(arguments);if(!aa.test(e)){bu=bx}if(bu&&typeof bu==="string"){bw=b.filter(bu,bw)}bw=this.length>1&&!av[e]?b.unique(bw):bw;if((this.length>1||a8.test(bu))&&an.test(e)){bw=bw.reverse()}return this.pushStack(bw,e,bv.join(","))}});b.extend({filter:function(bu,e,bt){if(bt){bu=":not("+bu+")"}return e.length===1?b.find.matchesSelector(e[0],bu)?[e[0]]:[]:b.find.matches(bu,e)},dir:function(bu,bt,bw){var e=[],bv=bu[bt];while(bv&&bv.nodeType!==9&&(bw===M||bv.nodeType!==1||!b(bv).is(bw))){if(bv.nodeType===1){e.push(bv)}bv=bv[bt]}return e},nth:function(bw,e,bu,bv){e=e||1;var bt=0;for(;bw;bw=bw[bu]){if(bw.nodeType===1&&++bt===e){break}}return bw},sibling:function(bu,bt){var e=[];for(;bu;bu=bu.nextSibling){if(bu.nodeType===1&&bu!==bt){e.push(bu)}}return e}});function aC(bv,bu,e){bu=bu||0;if(b.isFunction(bu)){return b.grep(bv,function(bx,bw){var by=!!bu.call(bx,bw,bx);return by===e})}else{if(bu.nodeType){return b.grep(bv,function(bx,bw){return(bx===bu)===e})}else{if(typeof bu==="string"){var bt=b.grep(bv,function(bw){return bw.nodeType===1});if(bo.test(bu)){return b.filter(bu,bt,!e)}else{bu=b.filter(bu,bt)}}}}return b.grep(bv,function(bx,bw){return(b.inArray(bx,bu)>=0)===e})}var af=/ jQuery\d+="(?:\d+|null)"/g,ao=/^\s+/,U=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,d=/<([\w:]+)/,y=/<tbody/i,X=/<|&#?\w+;/,Q=/<(?:script|object|embed|option|style)/i,o=/checked\s*(?:[^=]|=\s*.checked.)/i,bk=/\/(java|ecma)script/i,au={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]};au.optgroup=au.option;au.tbody=au.tfoot=au.colgroup=au.caption=au.thead;au.th=au.td;if(!b.support.htmlSerialize){au._default=[1,"div<div>","</div>"]}b.fn.extend({text:function(e){if(b.isFunction(e)){return this.each(function(bu){var bt=b(this);bt.text(e.call(this,bu,bt.text()))})}if(typeof e!=="object"&&e!==M){return this.empty().append((this[0]&&this[0].ownerDocument||ar).createTextNode(e))}return b.text(this)},wrapAll:function(e){if(b.isFunction(e)){return this.each(function(bu){b(this).wrapAll(e.call(this,bu))})}if(this[0]){var bt=b(e,this[0].ownerDocument).eq(0).clone(true);if(this[0].parentNode){bt.insertBefore(this[0])}bt.map(function(){var bu=this;while(bu.firstChild&&bu.firstChild.nodeType===1){bu=bu.firstChild}return bu}).append(this)}return this},wrapInner:function(e){if(b.isFunction(e)){return this.each(function(bt){b(this).wrapInner(e.call(this,bt))})}return this.each(function(){var bt=b(this),bu=bt.contents();if(bu.length){bu.wrapAll(e)}else{bt.append(e)}})},wrap:function(e){return this.each(function(){b(this).wrapAll(e)})},unwrap:function(){return this.parent().each(function(){if(!b.nodeName(this,"body")){b(this).replaceWith(this.childNodes)}}).end()},append:function(){return this.domManip(arguments,true,function(e){if(this.nodeType===1){this.appendChild(e)}})},prepend:function(){return this.domManip(arguments,true,function(e){if(this.nodeType===1){this.insertBefore(e,this.firstChild)}})},before:function(){if(this[0]&&this[0].parentNode){return this.domManip(arguments,false,function(bt){this.parentNode.insertBefore(bt,this)})}else{if(arguments.length){var e=b(arguments[0]);e.push.apply(e,this.toArray());return this.pushStack(e,"before",arguments)}}},after:function(){if(this[0]&&this[0].parentNode){return this.domManip(arguments,false,function(bt){this.parentNode.insertBefore(bt,this.nextSibling)})}else{if(arguments.length){var e=this.pushStack(this,"after",arguments);e.push.apply(e,b(arguments[0]).toArray());return e}}},remove:function(e,bv){for(var bt=0,bu;(bu=this[bt])!=null;bt++){if(!e||b.filter(e,[bu]).length){if(!bv&&bu.nodeType===1){b.cleanData(bu.getElementsByTagName("*"));b.cleanData([bu])}if(bu.parentNode){bu.parentNode.removeChild(bu)}}}return this},empty:function(){for(var e=0,bt;(bt=this[e])!=null;e++){if(bt.nodeType===1){b.cleanData(bt.getElementsByTagName("*"))}while(bt.firstChild){bt.removeChild(bt.firstChild)}}return this},clone:function(bt,e){bt=bt==null?false:bt;e=e==null?bt:e;return this.map(function(){return b.clone(this,bt,e)})},html:function(bv){if(bv===M){return this[0]&&this[0].nodeType===1?this[0].innerHTML.replace(af,""):null}else{if(typeof bv==="string"&&!Q.test(bv)&&(b.support.leadingWhitespace||!ao.test(bv))&&!au[(d.exec(bv)||["",""])[1].toLowerCase()]){bv=bv.replace(U,"<$1></$2>");try{for(var bu=0,bt=this.length;bu<bt;bu++){if(this[bu].nodeType===1){b.cleanData(this[bu].getElementsByTagName("*"));this[bu].innerHTML=bv}}}catch(bw){this.empty().append(bv)}}else{if(b.isFunction(bv)){this.each(function(bx){var e=b(this);e.html(bv.call(this,bx,e.html()))})}else{this.empty().append(bv)}}}return this},replaceWith:function(e){if(this[0]&&this[0].parentNode){if(b.isFunction(e)){return this.each(function(bv){var bu=b(this),bt=bu.html();bu.replaceWith(e.call(this,bv,bt))})}if(typeof e!=="string"){e=b(e).detach()}return this.each(function(){var bu=this.nextSibling,bt=this.parentNode;b(this).remove();if(bu){b(bu).before(e)}else{b(bt).append(e)}})}else{return this.length?this.pushStack(b(b.isFunction(e)?e():e),"replaceWith",e):this}},detach:function(e){return this.remove(e,true)},domManip:function(bz,bD,bC){var bv,bw,by,bB,bA=bz[0],bt=[];if(!b.support.checkClone&&arguments.length===3&&typeof bA==="string"&&o.test(bA)){return this.each(function(){b(this).domManip(bz,bD,bC,true)})}if(b.isFunction(bA)){return this.each(function(bF){var bE=b(this);bz[0]=bA.call(this,bF,bD?bE.html():M);bE.domManip(bz,bD,bC)})}if(this[0]){bB=bA&&bA.parentNode;if(b.support.parentNode&&bB&&bB.nodeType===11&&bB.childNodes.length===this.length){bv={fragment:bB}}else{bv=b.buildFragment(bz,this,bt)}by=bv.fragment;if(by.childNodes.length===1){bw=by=by.firstChild}else{bw=by.firstChild}if(bw){bD=bD&&b.nodeName(bw,"tr");for(var bu=0,e=this.length,bx=e-1;bu<e;bu++){bC.call(bD?a9(this[bu],bw):this[bu],bv.cacheable||(e>1&&bu<bx)?b.clone(by,true,true):by)}}if(bt.length){b.each(bt,bn)}}return this}});function a9(e,bt){return b.nodeName(e,"table")?(e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody"))):e}function v(e,bz){if(bz.nodeType!==1||!b.hasData(e)){return}var by=b.expando,bv=b.data(e),bw=b.data(bz,bv);if((bv=bv[by])){var bA=bv.events;bw=bw[by]=b.extend({},bv);if(bA){delete bw.handle;bw.events={};for(var bx in bA){for(var bu=0,bt=bA[bx].length;bu<bt;bu++){b.event.add(bz,bx+(bA[bx][bu].namespace?".":"")+bA[bx][bu].namespace,bA[bx][bu],bA[bx][bu].data)}}}}}function ag(bt,e){var bu;if(e.nodeType!==1){return}if(e.clearAttributes){e.clearAttributes()}if(e.mergeAttributes){e.mergeAttributes(bt)}bu=e.nodeName.toLowerCase();if(bu==="object"){e.outerHTML=bt.outerHTML}else{if(bu==="input"&&(bt.type==="checkbox"||bt.type==="radio")){if(bt.checked){e.defaultChecked=e.checked=bt.checked}if(e.value!==bt.value){e.value=bt.value}}else{if(bu==="option"){e.selected=bt.defaultSelected}else{if(bu==="input"||bu==="textarea"){e.defaultValue=bt.defaultValue}}}}e.removeAttribute(b.expando)}b.buildFragment=function(bx,bv,bt){var bw,e,bu,by=(bv&&bv[0]?bv[0].ownerDocument||bv[0]:ar);if(bx.length===1&&typeof bx[0]==="string"&&bx[0].length<512&&by===ar&&bx[0].charAt(0)==="<"&&!Q.test(bx[0])&&(b.support.checkClone||!o.test(bx[0]))){e=true;bu=b.fragments[bx[0]];if(bu&&bu!==1){bw=bu}}if(!bw){bw=by.createDocumentFragment();b.clean(bx,by,bw,bt)}if(e){b.fragments[bx[0]]=bu?bw:1}return{fragment:bw,cacheable:e}};b.fragments={};b.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,bt){b.fn[e]=function(bu){var bx=[],bA=b(bu),bz=this.length===1&&this[0].parentNode;if(bz&&bz.nodeType===11&&bz.childNodes.length===1&&bA.length===1){bA[bt](this[0]);return this}else{for(var by=0,bv=bA.length;by<bv;by++){var bw=(by>0?this.clone(true):this).get();b(bA[by])[bt](bw);bx=bx.concat(bw)}return this.pushStack(bx,e,bA.selector)}}});function bd(e){if("getElementsByTagName" in e){return e.getElementsByTagName("*")}else{if("querySelectorAll" in e){return e.querySelectorAll("*")}else{return[]}}}function aw(e){if(e.type==="checkbox"||e.type==="radio"){e.defaultChecked=e.checked}}function G(e){if(b.nodeName(e,"input")){aw(e)}else{if(e.getElementsByTagName){b.grep(e.getElementsByTagName("input"),aw)}}}b.extend({clone:function(bw,by,bu){var bx=bw.cloneNode(true),e,bt,bv;if((!b.support.noCloneEvent||!b.support.noCloneChecked)&&(bw.nodeType===1||bw.nodeType===11)&&!b.isXMLDoc(bw)){ag(bw,bx);e=bd(bw);bt=bd(bx);for(bv=0;e[bv];++bv){ag(e[bv],bt[bv])}}if(by){v(bw,bx);if(bu){e=bd(bw);bt=bd(bx);for(bv=0;e[bv];++bv){v(e[bv],bt[bv])}}}return bx},clean:function(bu,bw,bF,by){var bD;bw=bw||ar;if(typeof bw.createElement==="undefined"){bw=bw.ownerDocument||bw[0]&&bw[0].ownerDocument||ar}var bG=[];for(var bC=0,bx;(bx=bu[bC])!=null;bC++){if(typeof bx==="number"){bx+=""}if(!bx){continue}if(typeof bx==="string"){if(!X.test(bx)){bx=bw.createTextNode(bx)}else{bx=bx.replace(U,"<$1></$2>");var bI=(d.exec(bx)||["",""])[1].toLowerCase(),bv=au[bI]||au._default,bB=bv[0],bt=bw.createElement("div");bt.innerHTML=bv[1]+bx+bv[2];while(bB--){bt=bt.lastChild}if(!b.support.tbody){var e=y.test(bx),bA=bI==="table"&&!e?bt.firstChild&&bt.firstChild.childNodes:bv[1]==="<table>"&&!e?bt.childNodes:[];for(var bz=bA.length-1;bz>=0;--bz){if(b.nodeName(bA[bz],"tbody")&&!bA[bz].childNodes.length){bA[bz].parentNode.removeChild(bA[bz])}}}if(!b.support.leadingWhitespace&&ao.test(bx)){bt.insertBefore(bw.createTextNode(ao.exec(bx)[0]),bt.firstChild)}bx=bt.childNodes}}var bE;if(!b.support.appendChecked){if(bx[0]&&typeof(bE=bx.length)==="number"){for(bC=0;bC<bE;bC++){G(bx[bC])}}else{G(bx)}}if(bx.nodeType){bG.push(bx)}else{bG=b.merge(bG,bx)}}if(bF){bD=function(bJ){return !bJ.type||bk.test(bJ.type)};for(bC=0;bG[bC];bC++){if(by&&b.nodeName(bG[bC],"script")&&(!bG[bC].type||bG[bC].type.toLowerCase()==="text/javascript")){by.push(bG[bC].parentNode?bG[bC].parentNode.removeChild(bG[bC]):bG[bC])}else{if(bG[bC].nodeType===1){var bH=b.grep(bG[bC].getElementsByTagName("script"),bD);bG.splice.apply(bG,[bC+1,0].concat(bH))}bF.appendChild(bG[bC])}}}return bG},cleanData:function(bt){var bw,bu,e=b.cache,bB=b.expando,bz=b.event.special,by=b.support.deleteExpando;for(var bx=0,bv;(bv=bt[bx])!=null;bx++){if(bv.nodeName&&b.noData[bv.nodeName.toLowerCase()]){continue}bu=bv[b.expando];if(bu){bw=e[bu]&&e[bu][bB];if(bw&&bw.events){for(var bA in bw.events){if(bz[bA]){b.event.remove(bv,bA)}else{b.removeEvent(bv,bA,bw.handle)}}if(bw.handle){bw.handle.elem=null}}if(by){delete bv[b.expando]}else{if(bv.removeAttribute){bv.removeAttribute(b.expando)}}delete e[bu]}}}});function bn(e,bt){if(bt.src){b.ajax({url:bt.src,async:false,dataType:"script"})}else{b.globalEval(bt.text||bt.textContent||bt.innerHTML||"")}if(bt.parentNode){bt.parentNode.removeChild(bt)}}var aj=/alpha\([^)]*\)/i,aq=/opacity=([^)]*)/,aU=/-([a-z])/ig,B=/([A-Z]|^ms)/g,bb=/^-?\d+(?:px)?$/i,bm=/^-?\d/,K=/^[+\-]=/,ai=/[^+\-\.\de]+/g,a5={position:"absolute",visibility:"hidden",display:"block"},al=["Left","Right"],aZ=["Top","Bottom"],Y,aG,aT,n=function(e,bt){return bt.toUpperCase()};b.fn.css=function(e,bt){if(arguments.length===2&&bt===M){return this}return b.access(this,e,bt,true,function(bv,bu,bw){return bw!==M?b.style(bv,bu,bw):b.css(bv,bu)})};b.extend({cssHooks:{opacity:{get:function(bu,bt){if(bt){var e=Y(bu,"opacity","opacity");return e===""?"1":e}else{return bu.style.opacity}}}},cssNumber:{zIndex:true,fontWeight:true,opacity:true,zoom:true,lineHeight:true,widows:true,orphans:true},cssProps:{"float":b.support.cssFloat?"cssFloat":"styleFloat"},style:function(bv,bu,bB,bw){if(!bv||bv.nodeType===3||bv.nodeType===8||!bv.style){return}var bz,bA,bx=b.camelCase(bu),bt=bv.style,bC=b.cssHooks[bx];bu=b.cssProps[bx]||bx;if(bB!==M){bA=typeof bB;if(bA==="number"&&isNaN(bB)||bB==null){return}if(bA==="string"&&K.test(bB)){bB=+bB.replace(ai,"")+parseFloat(b.css(bv,bu))}if(bA==="number"&&!b.cssNumber[bx]){bB+="px"}if(!bC||!("set" in bC)||(bB=bC.set(bv,bB))!==M){try{bt[bu]=bB}catch(by){}}}else{if(bC&&"get" in bC&&(bz=bC.get(bv,false,bw))!==M){return bz}return bt[bu]}},css:function(bw,bv,bt){var bu,e;bv=b.camelCase(bv);e=b.cssHooks[bv];bv=b.cssProps[bv]||bv;if(bv==="cssFloat"){bv="float"}if(e&&"get" in e&&(bu=e.get(bw,true,bt))!==M){return bu}else{if(Y){return Y(bw,bv)}}},swap:function(bv,bu,bw){var e={};for(var bt in bu){e[bt]=bv.style[bt];bv.style[bt]=bu[bt]}bw.call(bv);for(bt in bu){bv.style[bt]=e[bt]}},camelCase:function(e){return e.replace(aU,n)}});b.curCSS=b.css;b.each(["height","width"],function(bt,e){b.cssHooks[e]={get:function(bw,bv,bu){var bx;if(bv){if(bw.offsetWidth!==0){bx=p(bw,e,bu)}else{b.swap(bw,a5,function(){bx=p(bw,e,bu)})}if(bx<=0){bx=Y(bw,e,e);if(bx==="0px"&&aT){bx=aT(bw,e,e)}if(bx!=null){return bx===""||bx==="auto"?"0px":bx}}if(bx<0||bx==null){bx=bw.style[e];return bx===""||bx==="auto"?"0px":bx}return typeof bx==="string"?bx:bx+"px"}},set:function(bu,bv){if(bb.test(bv)){bv=parseFloat(bv);if(bv>=0){return bv+"px"}}else{return bv}}}});if(!b.support.opacity){b.cssHooks.opacity={get:function(bt,e){return aq.test((e&&bt.currentStyle?bt.currentStyle.filter:bt.style.filter)||"")?(parseFloat(RegExp.$1)/100)+"":e?"1":""},set:function(bw,bx){var bv=bw.style,bt=bw.currentStyle;bv.zoom=1;var e=b.isNaN(bx)?"":"alpha(opacity="+bx*100+")",bu=bt&&bt.filter||bv.filter||"";bv.filter=aj.test(bu)?bu.replace(aj,e):bu+" "+e}}}b(function(){if(!b.support.reliableMarginRight){b.cssHooks.marginRight={get:function(bu,bt){var e;b.swap(bu,{display:"inline-block"},function(){if(bt){e=Y(bu,"margin-right","marginRight")}else{e=bu.style.marginRight}});return e}}}});if(ar.defaultView&&ar.defaultView.getComputedStyle){aG=function(bw,bu){var bt,bv,e;bu=bu.replace(B,"-$1").toLowerCase();if(!(bv=bw.ownerDocument.defaultView)){return M}if((e=bv.getComputedStyle(bw,null))){bt=e.getPropertyValue(bu);if(bt===""&&!b.contains(bw.ownerDocument.documentElement,bw)){bt=b.style(bw,bu)}}return bt}}if(ar.documentElement.currentStyle){aT=function(bw,bu){var bx,bt=bw.currentStyle&&bw.currentStyle[bu],e=bw.runtimeStyle&&bw.runtimeStyle[bu],bv=bw.style;if(!bb.test(bt)&&bm.test(bt)){bx=bv.left;if(e){bw.runtimeStyle.left=bw.currentStyle.left}bv.left=bu==="fontSize"?"1em":(bt||0);bt=bv.pixelLeft+"px";bv.left=bx;if(e){bw.runtimeStyle.left=e}}return bt===""?"auto":bt}}Y=aG||aT;function p(bu,bt,e){var bw=bt==="width"?al:aZ,bv=bt==="width"?bu.offsetWidth:bu.offsetHeight;if(e==="border"){return bv}b.each(bw,function(){if(!e){bv-=parseFloat(b.css(bu,"padding"+this))||0}if(e==="margin"){bv+=parseFloat(b.css(bu,"margin"+this))||0}else{bv-=parseFloat(b.css(bu,"border"+this+"Width"))||0}});return bv}if(b.expr&&b.expr.filters){b.expr.filters.hidden=function(bu){var bt=bu.offsetWidth,e=bu.offsetHeight;return(bt===0&&e===0)||(!b.support.reliableHiddenOffsets&&(bu.style.display||b.css(bu,"display"))==="none")};b.expr.filters.visible=function(e){return !b.expr.filters.hidden(e)}}var j=/%20/g,am=/\[\]$/,br=/\r?\n/g,bp=/#.*$/,aA=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,aW=/^(?:color|date|datetime|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,aK=/^(?:about|app|app\-storage|.+\-extension|file|widget):$/,aM=/^(?:GET|HEAD)$/,c=/^\/\//,N=/\?/,a4=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,r=/^(?:select|textarea)/i,h=/\s+/,bq=/([?&])_=[^&]*/,L=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?)?/,C=b.fn.load,Z={},s={},aB,t;try{aB=bj.href}catch(at){aB=ar.createElement("a");aB.href="";aB=aB.href}t=L.exec(aB.toLowerCase())||[];function f(e){return function(bw,by){if(typeof bw!=="string"){by=bw;bw="*"}if(b.isFunction(by)){var bv=bw.toLowerCase().split(h),bu=0,bx=bv.length,bt,bz,bA;for(;bu<bx;bu++){bt=bv[bu];bA=/^\+/.test(bt);if(bA){bt=bt.substr(1)||"*"}bz=e[bt]=e[bt]||[];bz[bA?"unshift":"push"](by)}}}}function aR(bt,bC,bx,bB,bz,bv){bz=bz||bC.dataTypes[0];bv=bv||{};bv[bz]=true;var by=bt[bz],bu=0,e=by?by.length:0,bw=(bt===Z),bA;for(;bu<e&&(bw||!bA);bu++){bA=by[bu](bC,bx,bB);if(typeof bA==="string"){if(!bw||bv[bA]){bA=M}else{bC.dataTypes.unshift(bA);bA=aR(bt,bC,bx,bB,bA,bv)}}}if((bw||!bA)&&!bv["*"]){bA=aR(bt,bC,bx,bB,"*",bv)}return bA}b.fn.extend({load:function(bu,bx,by){if(typeof bu!=="string"&&C){return C.apply(this,arguments)}else{if(!this.length){return this}}var bw=bu.indexOf(" ");if(bw>=0){var e=bu.slice(bw,bu.length);bu=bu.slice(0,bw)}var bv="GET";if(bx){if(b.isFunction(bx)){by=bx;bx=M}else{if(typeof bx==="object"){bx=b.param(bx,b.ajaxSettings.traditional);bv="POST"}}}var bt=this;b.ajax({url:bu,type:bv,dataType:"html",data:bx,complete:function(bA,bz,bB){bB=bA.responseText;if(bA.isResolved()){bA.done(function(bC){bB=bC});bt.html(e?b("<div>").append(bB.replace(a4,"")).find(e):bB)}if(by){bt.each(by,[bB,bz,bA])}}});return this},serialize:function(){return b.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?b.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||r.test(this.nodeName)||aW.test(this.type))}).map(function(e,bt){var bu=b(this).val();return bu==null?null:b.isArray(bu)?b.map(bu,function(bw,bv){return{name:bt.name,value:bw.replace(br,"\r\n")}}):{name:bt.name,value:bu.replace(br,"\r\n")}}).get()}});b.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(e,bt){b.fn[bt]=function(bu){return this.bind(bt,bu)}});b.each(["get","post"],function(e,bt){b[bt]=function(bu,bw,bx,bv){if(b.isFunction(bw)){bv=bv||bx;bx=bw;bw=M}return b.ajax({type:bt,url:bu,data:bw,success:bx,dataType:bv})}});b.extend({getScript:function(e,bt){return b.get(e,M,bt,"script")},getJSON:function(e,bt,bu){return b.get(e,bt,bu,"json")},ajaxSetup:function(bu,e){if(!e){e=bu;bu=b.extend(true,b.ajaxSettings,e)}else{b.extend(true,bu,b.ajaxSettings,e)}for(var bt in {context:1,url:1}){if(bt in e){bu[bt]=e[bt]}else{if(bt in b.ajaxSettings){bu[bt]=b.ajaxSettings[bt]}}}return bu},ajaxSettings:{url:aB,isLocal:aK.test(t[1]),global:true,type:"GET",contentType:"application/x-www-form-urlencoded",processData:true,async:true,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":"*/*"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":ba.String,"text html":true,"text json":b.parseJSON,"text xml":b.parseXML}},ajaxPrefilter:f(Z),ajaxTransport:f(s),ajax:function(bx,bv){if(typeof bx==="object"){bv=bx;bx=M}bv=bv||{};var bB=b.ajaxSetup({},bv),bQ=bB.context||bB,bE=bQ!==bB&&(bQ.nodeType||bQ instanceof b)?b(bQ):b.event,bP=b.Deferred(),bL=b._Deferred(),bz=bB.statusCode||{},bA,bF={},bM={},bO,bw,bJ,bC,bG,by=0,bu,bI,bH={readyState:0,setRequestHeader:function(bR,bS){if(!by){var e=bR.toLowerCase();bR=bM[e]=bM[e]||bR;bF[bR]=bS}return this},getAllResponseHeaders:function(){return by===2?bO:null},getResponseHeader:function(bR){var e;if(by===2){if(!bw){bw={};while((e=aA.exec(bO))){bw[e[1].toLowerCase()]=e[2]}}e=bw[bR.toLowerCase()]}return e===M?null:e},overrideMimeType:function(e){if(!by){bB.mimeType=e}return this},abort:function(e){e=e||"abort";if(bJ){bJ.abort(e)}bD(0,e);return this}};function bD(bW,bU,bX,bT){if(by===2){return}by=2;if(bC){clearTimeout(bC)}bJ=M;bO=bT||"";bH.readyState=bW?4:0;var bR,b1,b0,bV=bX?bh(bB,bH,bX):M,bS,bZ;if(bW>=200&&bW<300||bW===304){if(bB.ifModified){if((bS=bH.getResponseHeader("Last-Modified"))){b.lastModified[bA]=bS}if((bZ=bH.getResponseHeader("Etag"))){b.etag[bA]=bZ}}if(bW===304){bU="notmodified";bR=true}else{try{b1=H(bB,bV);bU="success";bR=true}catch(bY){bU="parsererror";b0=bY}}}else{b0=bU;if(!bU||bW){bU="error";if(bW<0){bW=0}}}bH.status=bW;bH.statusText=bU;if(bR){bP.resolveWith(bQ,[b1,bU,bH])}else{bP.rejectWith(bQ,[bH,bU,b0])}bH.statusCode(bz);bz=M;if(bu){bE.trigger("ajax"+(bR?"Success":"Error"),[bH,bB,bR?b1:b0])}bL.resolveWith(bQ,[bH,bU]);if(bu){bE.trigger("ajaxComplete",[bH,bB]);if(!(--b.active)){b.event.trigger("ajaxStop")}}}bP.promise(bH);bH.success=bH.done;bH.error=bH.fail;bH.complete=bL.done;bH.statusCode=function(bR){if(bR){var e;if(by<2){for(e in bR){bz[e]=[bz[e],bR[e]]}}else{e=bR[bH.status];bH.then(e,e)}}return this};bB.url=((bx||bB.url)+"").replace(bp,"").replace(c,t[1]+"//");bB.dataTypes=b.trim(bB.dataType||"*").toLowerCase().split(h);if(bB.crossDomain==null){bG=L.exec(bB.url.toLowerCase());bB.crossDomain=!!(bG&&(bG[1]!=t[1]||bG[2]!=t[2]||(bG[3]||(bG[1]==="http:"?80:443))!=(t[3]||(t[1]==="http:"?80:443))))}if(bB.data&&bB.processData&&typeof bB.data!=="string"){bB.data=b.param(bB.data,bB.traditional)}aR(Z,bB,bv,bH);if(by===2){return false}bu=bB.global;bB.type=bB.type.toUpperCase();bB.hasContent=!aM.test(bB.type);if(bu&&b.active++===0){b.event.trigger("ajaxStart")}if(!bB.hasContent){if(bB.data){bB.url+=(N.test(bB.url)?"&":"?")+bB.data}bA=bB.url;if(bB.cache===false){var bt=b.now(),bN=bB.url.replace(bq,"$1_="+bt);bB.url=bN+((bN===bB.url)?(N.test(bB.url)?"&":"?")+"_="+bt:"")}}if(bB.data&&bB.hasContent&&bB.contentType!==false||bv.contentType){bH.setRequestHeader("Content-Type",bB.contentType)}if(bB.ifModified){bA=bA||bB.url;if(b.lastModified[bA]){bH.setRequestHeader("If-Modified-Since",b.lastModified[bA])}if(b.etag[bA]){bH.setRequestHeader("If-None-Match",b.etag[bA])}}bH.setRequestHeader("Accept",bB.dataTypes[0]&&bB.accepts[bB.dataTypes[0]]?bB.accepts[bB.dataTypes[0]]+(bB.dataTypes[0]!=="*"?", */*; q=0.01":""):bB.accepts["*"]);for(bI in bB.headers){bH.setRequestHeader(bI,bB.headers[bI])}if(bB.beforeSend&&(bB.beforeSend.call(bQ,bH,bB)===false||by===2)){bH.abort();return false}for(bI in {success:1,error:1,complete:1}){bH[bI](bB[bI])}bJ=aR(s,bB,bv,bH);if(!bJ){bD(-1,"No Transport")}else{bH.readyState=1;if(bu){bE.trigger("ajaxSend",[bH,bB])}if(bB.async&&bB.timeout>0){bC=setTimeout(function(){bH.abort("timeout")},bB.timeout)}try{by=1;bJ.send(bF,bD)}catch(bK){if(status<2){bD(-1,bK)}else{b.error(bK)}}}return bH},param:function(e,bu){var bt=[],bw=function(bx,by){by=b.isFunction(by)?by():by;bt[bt.length]=encodeURIComponent(bx)+"="+encodeURIComponent(by)};if(bu===M){bu=b.ajaxSettings.traditional}if(b.isArray(e)||(e.jquery&&!b.isPlainObject(e))){b.each(e,function(){bw(this.name,this.value)})}else{for(var bv in e){x(bv,e[bv],bu,bw)}}return bt.join("&").replace(j,"+")}});function x(bu,bw,bt,bv){if(b.isArray(bw)){b.each(bw,function(by,bx){if(bt||am.test(bu)){bv(bu,bx)}else{x(bu+"["+(typeof bx==="object"||b.isArray(bx)?by:"")+"]",bx,bt,bv)}})}else{if(!bt&&bw!=null&&typeof bw==="object"){for(var e in bw){x(bu+"["+e+"]",bw[e],bt,bv)}}else{bv(bu,bw)}}}b.extend({active:0,lastModified:{},etag:{}});function bh(bB,bA,bx){var bt=bB.contents,bz=bB.dataTypes,bu=bB.responseFields,bw,by,bv,e;for(by in bu){if(by in bx){bA[bu[by]]=bx[by]}}while(bz[0]==="*"){bz.shift();if(bw===M){bw=bB.mimeType||bA.getResponseHeader("content-type")}}if(bw){for(by in bt){if(bt[by]&&bt[by].test(bw)){bz.unshift(by);break}}}if(bz[0] in bx){bv=bz[0]}else{for(by in bx){if(!bz[0]||bB.converters[by+" "+bz[0]]){bv=by;break}if(!e){e=by}}bv=bv||e}if(bv){if(bv!==bz[0]){bz.unshift(bv)}return bx[bv]}}function H(bF,bx){if(bF.dataFilter){bx=bF.dataFilter(bx,bF.dataType)}var bB=bF.dataTypes,bE={},by,bC,bu=bB.length,bz,bA=bB[0],bv,bw,bD,bt,e;for(by=1;by<bu;by++){if(by===1){for(bC in bF.converters){if(typeof bC==="string"){bE[bC.toLowerCase()]=bF.converters[bC]}}}bv=bA;bA=bB[by];if(bA==="*"){bA=bv}else{if(bv!=="*"&&bv!==bA){bw=bv+" "+bA;bD=bE[bw]||bE["* "+bA];if(!bD){e=M;for(bt in bE){bz=bt.split(" ");if(bz[0]===bv||bz[0]==="*"){e=bE[bz[1]+" "+bA];if(e){bt=bE[bt];if(bt===true){bD=e}else{if(e===true){bD=bt}}break}}}}if(!(bD||e)){b.error("No conversion from "+bw.replace(" "," to "))}if(bD!==true){bx=bD?bD(bx):e(bt(bx))}}}}return bx}var az=b.now(),w=/(\=)\?(&|$)|\?\?/i;b.ajaxSetup({jsonp:"callback",jsonpCallback:function(){return b.expando+"_"+(az++)}});b.ajaxPrefilter("json jsonp",function(bB,by,bA){var bv=bB.contentType==="application/x-www-form-urlencoded"&&(typeof bB.data==="string");if(bB.dataTypes[0]==="jsonp"||bB.jsonp!==false&&(w.test(bB.url)||bv&&w.test(bB.data))){var bz,bu=bB.jsonpCallback=b.isFunction(bB.jsonpCallback)?bB.jsonpCallback():bB.jsonpCallback,bx=ba[bu],e=bB.url,bw=bB.data,bt="$1"+bu+"$2";if(bB.jsonp!==false){e=e.replace(w,bt);if(bB.url===e){if(bv){bw=bw.replace(w,bt)}if(bB.data===bw){e+=(/\?/.test(e)?"&":"?")+bB.jsonp+"="+bu}}}bB.url=e;bB.data=bw;ba[bu]=function(bC){bz=[bC]};bA.always(function(){ba[bu]=bx;if(bz&&b.isFunction(bx)){ba[bu](bz[0])}});bB.converters["script json"]=function(){if(!bz){b.error(bu+" was not called")}return bz[0]};bB.dataTypes[0]="json";return"script"}});b.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(e){b.globalEval(e);return e}}});b.ajaxPrefilter("script",function(e){if(e.cache===M){e.cache=false}if(e.crossDomain){e.type="GET";e.global=false}});b.ajaxTransport("script",function(bu){if(bu.crossDomain){var e,bt=ar.head||ar.getElementsByTagName("head")[0]||ar.documentElement;return{send:function(bv,bw){e=ar.createElement("script");e.async="async";if(bu.scriptCharset){e.charset=bu.scriptCharset}e.src=bu.url;e.onload=e.onreadystatechange=function(by,bx){if(bx||!e.readyState||/loaded|complete/.test(e.readyState)){e.onload=e.onreadystatechange=null;if(bt&&e.parentNode){bt.removeChild(e)}e=M;if(!bx){bw(200,"success")}}};bt.insertBefore(e,bt.firstChild)},abort:function(){if(e){e.onload(0,1)}}}}});var D=ba.ActiveXObject?function(){for(var e in O){O[e](0,1)}}:false,A=0,O;function aJ(){try{return new ba.XMLHttpRequest()}catch(bt){}}function ah(){try{return new ba.ActiveXObject("Microsoft.XMLHTTP")}catch(bt){}}b.ajaxSettings.xhr=ba.ActiveXObject?function(){return !this.isLocal&&aJ()||ah()}:aJ;(function(e){b.extend(b.support,{ajax:!!e,cors:!!e&&("withCredentials" in e)})})(b.ajaxSettings.xhr());if(b.support.ajax){b.ajaxTransport(function(e){if(!e.crossDomain||b.support.cors){var bt;return{send:function(bz,bu){var by=e.xhr(),bx,bw;if(e.username){by.open(e.type,e.url,e.async,e.username,e.password)}else{by.open(e.type,e.url,e.async)}if(e.xhrFields){for(bw in e.xhrFields){by[bw]=e.xhrFields[bw]}}if(e.mimeType&&by.overrideMimeType){by.overrideMimeType(e.mimeType)}if(!e.crossDomain&&!bz["X-Requested-With"]){bz["X-Requested-With"]="XMLHttpRequest"}try{for(bw in bz){by.setRequestHeader(bw,bz[bw])}}catch(bv){}by.send((e.hasContent&&e.data)||null);bt=function(bI,bC){var bD,bB,bA,bG,bF;try{if(bt&&(bC||by.readyState===4)){bt=M;if(bx){by.onreadystatechange=b.noop;if(D){delete O[bx]}}if(bC){if(by.readyState!==4){by.abort()}}else{bD=by.status;bA=by.getAllResponseHeaders();bG={};bF=by.responseXML;if(bF&&bF.documentElement){bG.xml=bF}bG.text=by.responseText;try{bB=by.statusText}catch(bH){bB=""}if(!bD&&e.isLocal&&!e.crossDomain){bD=bG.text?200:404}else{if(bD===1223){bD=204}}}}}catch(bE){if(!bC){bu(-1,bE)}}if(bG){bu(bD,bB,bG,bA)}};if(!e.async||by.readyState===4){bt()}else{bx=++A;if(D){if(!O){O={};b(ba).unload(D)}O[bx]=bt}by.onreadystatechange=bt}},abort:function(){if(bt){bt(0,1)}}}}})}var S={},a7,m,ay=/^(?:toggle|show|hide)$/,aO=/^([+\-]=)?([\d+.\-]+)([a-z%]*)$/i,a0,aF=[["height","marginTop","marginBottom","paddingTop","paddingBottom"],["width","marginLeft","marginRight","paddingLeft","paddingRight"],["opacity"]],a2,T=ba.webkitRequestAnimationFrame||ba.mozRequestAnimationFrame||ba.oRequestAnimationFrame;b.fn.extend({show:function(bv,by,bx){var bu,bw;if(bv||bv===0){return this.animate(aY("show",3),bv,by,bx)}else{for(var bt=0,e=this.length;bt<e;bt++){bu=this[bt];if(bu.style){bw=bu.style.display;if(!b._data(bu,"olddisplay")&&bw==="none"){bw=bu.style.display=""}if(bw===""&&b.css(bu,"display")==="none"){b._data(bu,"olddisplay",z(bu.nodeName))}}}for(bt=0;bt<e;bt++){bu=this[bt];if(bu.style){bw=bu.style.display;if(bw===""||bw==="none"){bu.style.display=b._data(bu,"olddisplay")||""}}}return this}},hide:function(bu,bx,bw){if(bu||bu===0){return this.animate(aY("hide",3),bu,bx,bw)}else{for(var bt=0,e=this.length;bt<e;bt++){if(this[bt].style){var bv=b.css(this[bt],"display");if(bv!=="none"&&!b._data(this[bt],"olddisplay")){b._data(this[bt],"olddisplay",bv)}}}for(bt=0;bt<e;bt++){if(this[bt].style){this[bt].style.display="none"}}return this}},_toggle:b.fn.toggle,toggle:function(bu,bt,bv){var e=typeof bu==="boolean";if(b.isFunction(bu)&&b.isFunction(bt)){this._toggle.apply(this,arguments)}else{if(bu==null||e){this.each(function(){var bw=e?bu:b(this).is(":hidden");b(this)[bw?"show":"hide"]()})}else{this.animate(aY("toggle",3),bu,bt,bv)}}return this},fadeTo:function(e,bv,bu,bt){return this.filter(":hidden").css("opacity",0).show().end().animate({opacity:bv},e,bu,bt)},animate:function(bw,bt,bv,bu){var e=b.speed(bt,bv,bu);if(b.isEmptyObject(bw)){return this.each(e.complete,[false])}return this[e.queue===false?"each":"queue"](function(){if(e.queue===false){b._mark(this)}var bA=b.extend({},e),bH=this.nodeType===1,bE=bH&&b(this).is(":hidden"),bx,bB,bz,bG,bF,bD,by,bC,bI;bA.animatedProperties={};for(bz in bw){bx=b.camelCase(bz);if(bz!==bx){bw[bx]=bw[bz];delete bw[bz]}bB=bw[bx];if(bB==="hide"&&bE||bB==="show"&&!bE){return bA.complete.call(this)}if(bH&&(bx==="height"||bx==="width")){bA.overflow=[this.style.overflow,this.style.overflowX,this.style.overflowY];if(b.css(this,"display")==="inline"&&b.css(this,"float")==="none"){if(!b.support.inlineBlockNeedsLayout){this.style.display="inline-block"}else{bG=z(this.nodeName);if(bG==="inline"){this.style.display="inline-block"}else{this.style.display="inline";this.style.zoom=1}}}}bA.animatedProperties[bx]=b.isArray(bB)?bB[1]:bA.specialEasing&&bA.specialEasing[bx]||bA.easing||"swing"}if(bA.overflow!=null){this.style.overflow="hidden"}for(bz in bw){bF=new b.fx(this,bA,bz);bB=bw[bz];if(ay.test(bB)){bF[bB==="toggle"?bE?"show":"hide":bB]()}else{bD=aO.exec(bB);by=bF.cur();if(bD){bC=parseFloat(bD[2]);bI=bD[3]||(b.cssNumber[bx]?"":"px");if(bI!=="px"){b.style(this,bz,(bC||1)+bI);by=((bC||1)/bF.cur())*by;b.style(this,bz,by+bI)}if(bD[1]){bC=((bD[1]==="-="?-1:1)*bC)+by}bF.custom(by,bC,bI)}else{bF.custom(by,bB,"")}}}return true})},stop:function(bt,e){if(bt){this.queue([])}this.each(function(){var bv=b.timers,bu=bv.length;if(!e){b._unmark(true,this)}while(bu--){if(bv[bu].elem===this){if(e){bv[bu](true)}bv.splice(bu,1)}}});if(!e){this.dequeue()}return this}});function be(){setTimeout(ap,0);return(a2=b.now())}function ap(){a2=M}function aY(bt,e){var bu={};b.each(aF.concat.apply([],aF.slice(0,e)),function(){bu[this]=bt});return bu}b.each({slideDown:aY("show",1),slideUp:aY("hide",1),slideToggle:aY("toggle",1),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,bt){b.fn[e]=function(bu,bw,bv){return this.animate(bt,bu,bw,bv)}});b.extend({speed:function(bu,bv,bt){var e=bu&&typeof bu==="object"?b.extend({},bu):{complete:bt||!bt&&bv||b.isFunction(bu)&&bu,duration:bu,easing:bt&&bv||bv&&!b.isFunction(bv)&&bv};e.duration=b.fx.off?0:typeof e.duration==="number"?e.duration:e.duration in b.fx.speeds?b.fx.speeds[e.duration]:b.fx.speeds._default;e.old=e.complete;e.complete=function(bw){if(e.queue!==false){b.dequeue(this)}else{if(bw!==false){b._unmark(this)}}if(b.isFunction(e.old)){e.old.call(this)}};return e},easing:{linear:function(bu,bv,e,bt){return e+bt*bu},swing:function(bu,bv,e,bt){return((-Math.cos(bu*Math.PI)/2)+0.5)*bt+e}},timers:[],fx:function(bt,e,bu){this.options=e;this.elem=bt;this.prop=bu;e.orig=e.orig||{}}});b.fx.prototype={update:function(){if(this.options.step){this.options.step.call(this.elem,this.now,this)}(b.fx.step[this.prop]||b.fx.step._default)(this)},cur:function(){if(this.elem[this.prop]!=null&&(!this.elem.style||this.elem.style[this.prop]==null)){return this.elem[this.prop]}var e,bt=b.css(this.elem,this.prop);return isNaN(e=parseFloat(bt))?!bt||bt==="auto"?0:bt:e},custom:function(by,bx,bv){var e=this,bu=b.fx,bw;this.startTime=a2||be();this.start=by;this.end=bx;this.unit=bv||this.unit||(b.cssNumber[this.prop]?"":"px");this.now=this.start;this.pos=this.state=0;function bt(bz){return e.step(bz)}bt.elem=this.elem;if(bt()&&b.timers.push(bt)&&!a0){if(T){a0=1;bw=function(){if(a0){T(bw);bu.tick()}};T(bw)}else{a0=setInterval(bu.tick,bu.interval)}}},show:function(){this.options.orig[this.prop]=b.style(this.elem,this.prop);this.options.show=true;this.custom(this.prop==="width"||this.prop==="height"?1:0,this.cur());b(this.elem).show()},hide:function(){this.options.orig[this.prop]=b.style(this.elem,this.prop);this.options.hide=true;this.custom(this.cur(),0)},step:function(bw){var bv=a2||be(),e=true,bx=this.elem,bt=this.options,bu,bz;if(bw||bv>=bt.duration+this.startTime){this.now=this.end;this.pos=this.state=1;this.update();bt.animatedProperties[this.prop]=true;for(bu in bt.animatedProperties){if(bt.animatedProperties[bu]!==true){e=false}}if(e){if(bt.overflow!=null&&!b.support.shrinkWrapBlocks){b.each(["","X","Y"],function(bA,bB){bx.style["overflow"+bB]=bt.overflow[bA]})}if(bt.hide){b(bx).hide()}if(bt.hide||bt.show){for(var by in bt.animatedProperties){b.style(bx,by,bt.orig[by])}}bt.complete.call(bx)}return false}else{if(bt.duration==Infinity){this.now=bv}else{bz=bv-this.startTime;this.state=bz/bt.duration;this.pos=b.easing[bt.animatedProperties[this.prop]](this.state,bz,0,1,bt.duration);this.now=this.start+((this.end-this.start)*this.pos)}this.update()}return true}};b.extend(b.fx,{tick:function(){var bt=b.timers,e=bt.length;while(e--){if(!bt[e]()){bt.splice(e,1)}}if(!bt.length){b.fx.stop()}},interval:13,stop:function(){clearInterval(a0);a0=null},speeds:{slow:600,fast:200,_default:400},step:{opacity:function(e){b.style(e.elem,"opacity",e.now)},_default:function(e){if(e.elem.style&&e.elem.style[e.prop]!=null){e.elem.style[e.prop]=(e.prop==="width"||e.prop==="height"?Math.max(0,e.now):e.now)+e.unit}else{e.elem[e.prop]=e.now}}}});if(b.expr&&b.expr.filters){b.expr.filters.animated=function(e){return b.grep(b.timers,function(bt){return e===bt.elem}).length}}function z(bu){if(!S[bu]){var e=b("<"+bu+">").appendTo("body"),bt=e.css("display");e.remove();if(bt==="none"||bt===""){if(!a7){a7=ar.createElement("iframe");a7.frameBorder=a7.width=a7.height=0}ar.body.appendChild(a7);if(!m||!a7.createElement){m=(a7.contentWindow||a7.contentDocument).document;m.write("<!doctype><html><body></body></html>")}e=m.createElement(bu);m.body.appendChild(e);bt=b.css(e,"display");ar.body.removeChild(a7)}S[bu]=bt}return S[bu]}var W=/^t(?:able|d|h)$/i,ac=/^(?:body|html)$/i;if("getBoundingClientRect" in ar.documentElement){b.fn.offset=function(bG){var bw=this[0],bz;if(bG){return this.each(function(e){b.offset.setOffset(this,bG,e)})}if(!bw||!bw.ownerDocument){return null}if(bw===bw.ownerDocument.body){return b.offset.bodyOffset(bw)}try{bz=bw.getBoundingClientRect()}catch(bD){}var bF=bw.ownerDocument,bu=bF.documentElement;if(!bz||!b.contains(bu,bw)){return bz?{top:bz.top,left:bz.left}:{top:0,left:0}}var bA=bF.body,bB=aI(bF),by=bu.clientTop||bA.clientTop||0,bC=bu.clientLeft||bA.clientLeft||0,bt=bB.pageYOffset||b.support.boxModel&&bu.scrollTop||bA.scrollTop,bx=bB.pageXOffset||b.support.boxModel&&bu.scrollLeft||bA.scrollLeft,bE=bz.top+bt-by,bv=bz.left+bx-bC;return{top:bE,left:bv}}}else{b.fn.offset=function(bD){var bx=this[0];if(bD){return this.each(function(bE){b.offset.setOffset(this,bD,bE)})}if(!bx||!bx.ownerDocument){return null}if(bx===bx.ownerDocument.body){return b.offset.bodyOffset(bx)}b.offset.initialize();var bA,bu=bx.offsetParent,bt=bx,bC=bx.ownerDocument,bv=bC.documentElement,by=bC.body,bz=bC.defaultView,e=bz?bz.getComputedStyle(bx,null):bx.currentStyle,bB=bx.offsetTop,bw=bx.offsetLeft;while((bx=bx.parentNode)&&bx!==by&&bx!==bv){if(b.offset.supportsFixedPosition&&e.position==="fixed"){break}bA=bz?bz.getComputedStyle(bx,null):bx.currentStyle;bB-=bx.scrollTop;bw-=bx.scrollLeft;if(bx===bu){bB+=bx.offsetTop;bw+=bx.offsetLeft;if(b.offset.doesNotAddBorder&&!(b.offset.doesAddBorderForTableAndCells&&W.test(bx.nodeName))){bB+=parseFloat(bA.borderTopWidth)||0;bw+=parseFloat(bA.borderLeftWidth)||0}bt=bu;bu=bx.offsetParent}if(b.offset.subtractsBorderForOverflowNotVisible&&bA.overflow!=="visible"){bB+=parseFloat(bA.borderTopWidth)||0;bw+=parseFloat(bA.borderLeftWidth)||0}e=bA}if(e.position==="relative"||e.position==="static"){bB+=by.offsetTop;bw+=by.offsetLeft}if(b.offset.supportsFixedPosition&&e.position==="fixed"){bB+=Math.max(bv.scrollTop,by.scrollTop);bw+=Math.max(bv.scrollLeft,by.scrollLeft)}return{top:bB,left:bw}}}b.offset={initialize:function(){var e=ar.body,bt=ar.createElement("div"),bw,by,bx,bz,bu=parseFloat(b.css(e,"marginTop"))||0,bv="<div style='position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;'><div></div></div><table style='position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;' cellpadding='0' cellspacing='0'><tr><td></td></tr></table>";b.extend(bt.style,{position:"absolute",top:0,left:0,margin:0,border:0,width:"1px",height:"1px",visibility:"hidden"});bt.innerHTML=bv;e.insertBefore(bt,e.firstChild);bw=bt.firstChild;by=bw.firstChild;bz=bw.nextSibling.firstChild.firstChild;this.doesNotAddBorder=(by.offsetTop!==5);this.doesAddBorderForTableAndCells=(bz.offsetTop===5);by.style.position="fixed";by.style.top="20px";this.supportsFixedPosition=(by.offsetTop===20||by.offsetTop===15);by.style.position=by.style.top="";bw.style.overflow="hidden";bw.style.position="relative";this.subtractsBorderForOverflowNotVisible=(by.offsetTop===-5);this.doesNotIncludeMarginInBodyOffset=(e.offsetTop!==bu);e.removeChild(bt);b.offset.initialize=b.noop},bodyOffset:function(e){var bu=e.offsetTop,bt=e.offsetLeft;b.offset.initialize();if(b.offset.doesNotIncludeMarginInBodyOffset){bu+=parseFloat(b.css(e,"marginTop"))||0;bt+=parseFloat(b.css(e,"marginLeft"))||0}return{top:bu,left:bt}},setOffset:function(bv,bE,by){var bz=b.css(bv,"position");if(bz==="static"){bv.style.position="relative"}var bx=b(bv),bt=bx.offset(),e=b.css(bv,"top"),bC=b.css(bv,"left"),bD=(bz==="absolute"||bz==="fixed")&&b.inArray("auto",[e,bC])>-1,bB={},bA={},bu,bw;if(bD){bA=bx.position();bu=bA.top;bw=bA.left}else{bu=parseFloat(e)||0;bw=parseFloat(bC)||0}if(b.isFunction(bE)){bE=bE.call(bv,by,bt)}if(bE.top!=null){bB.top=(bE.top-bt.top)+bu}if(bE.left!=null){bB.left=(bE.left-bt.left)+bw}if("using" in bE){bE.using.call(bv,bB)}else{bx.css(bB)}}};b.fn.extend({position:function(){if(!this[0]){return null}var bu=this[0],bt=this.offsetParent(),bv=this.offset(),e=ac.test(bt[0].nodeName)?{top:0,left:0}:bt.offset();bv.top-=parseFloat(b.css(bu,"marginTop"))||0;bv.left-=parseFloat(b.css(bu,"marginLeft"))||0;e.top+=parseFloat(b.css(bt[0],"borderTopWidth"))||0;e.left+=parseFloat(b.css(bt[0],"borderLeftWidth"))||0;return{top:bv.top-e.top,left:bv.left-e.left}},offsetParent:function(){return this.map(function(){var e=this.offsetParent||ar.body;while(e&&(!ac.test(e.nodeName)&&b.css(e,"position")==="static")){e=e.offsetParent}return e})}});b.each(["Left","Top"],function(bt,e){var bu="scroll"+e;b.fn[bu]=function(bx){var bv,bw;if(bx===M){bv=this[0];if(!bv){return null}bw=aI(bv);return bw?("pageXOffset" in bw)?bw[bt?"pageYOffset":"pageXOffset"]:b.support.boxModel&&bw.document.documentElement[bu]||bw.document.body[bu]:bv[bu]}return this.each(function(){bw=aI(this);if(bw){bw.scrollTo(!bt?bx:b(bw).scrollLeft(),bt?bx:b(bw).scrollTop())}else{this[bu]=bx}})}});function aI(e){return b.isWindow(e)?e:e.nodeType===9?e.defaultView||e.parentWindow:false}b.each(["Height","Width"],function(bt,e){var bu=e.toLowerCase();b.fn["inner"+e]=function(){return this[0]?parseFloat(b.css(this[0],bu,"padding")):null};b.fn["outer"+e]=function(bv){return this[0]?parseFloat(b.css(this[0],bu,bv?"margin":"border")):null};b.fn[bu]=function(bw){var bx=this[0];if(!bx){return bw==null?null:this}if(b.isFunction(bw)){return this.each(function(bB){var bA=b(this);bA[bu](bw.call(this,bB,bA[bu]()))})}if(b.isWindow(bx)){var by=bx.document.documentElement["client"+e];return bx.document.compatMode==="CSS1Compat"&&by||bx.document.body["client"+e]||by}else{if(bx.nodeType===9){return Math.max(bx.documentElement["client"+e],bx.body["scroll"+e],bx.documentElement["scroll"+e],bx.body["offset"+e],bx.documentElement["offset"+e])}else{if(bw===M){var bz=b.css(bx,bu),bv=parseFloat(bz);return b.isNaN(bv)?bz:bv}else{return this.css(bu,typeof bw==="string"?bw:bw+"px")}}}}});ba.jQuery=ba.$=b})(window);
/*!
 * jQuery UI 1.8.13
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI
 */
(function(e,d){function b(f,c){var g=f.nodeName.toLowerCase();if("area"===g){c=f.parentNode;g=c.name;if(!f.href||!g||c.nodeName.toLowerCase()!=="map"){return false}f=e("img[usemap=#"+g+"]")[0];return !!f&&a(f)}return(/input|select|textarea|button|object/.test(g)?!f.disabled:"a"==g?f.href||c:c)&&a(f)}function a(c){return !e(c).parents().andSelf().filter(function(){return e.curCSS(this,"visibility")==="hidden"||e.expr.filters.hidden(this)}).length}e.ui=e.ui||{};if(!e.ui.version){e.extend(e.ui,{version:"1.8.13",keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91}});e.fn.extend({_focus:e.fn.focus,focus:function(f,c){return typeof f==="number"?this.each(function(){var g=this;setTimeout(function(){e(g).focus();c&&c.call(g)},f)}):this._focus.apply(this,arguments)},scrollParent:function(){var c;c=e.browser.msie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(e.curCSS(this,"position",1))&&/(auto|scroll)/.test(e.curCSS(this,"overflow",1)+e.curCSS(this,"overflow-y",1)+e.curCSS(this,"overflow-x",1))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(e.curCSS(this,"overflow",1)+e.curCSS(this,"overflow-y",1)+e.curCSS(this,"overflow-x",1))}).eq(0);return/fixed/.test(this.css("position"))||!c.length?e(document):c},zIndex:function(f){if(f!==d){return this.css("zIndex",f)}if(this.length){f=e(this[0]);for(var c;f.length&&f[0]!==document;){c=f.css("position");if(c==="absolute"||c==="relative"||c==="fixed"){c=parseInt(f.css("zIndex"),10);if(!isNaN(c)&&c!==0){return c}}f=f.parent()}}return 0},disableSelection:function(){return this.bind((e.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(c){c.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}});e.each(["Width","Height"],function(f,c){function l(o,i,h,p){e.each(k,function(){i-=parseFloat(e.curCSS(o,"padding"+this,true))||0;if(h){i-=parseFloat(e.curCSS(o,"border"+this+"Width",true))||0}if(p){i-=parseFloat(e.curCSS(o,"margin"+this,true))||0}});return i}var k=c==="Width"?["Left","Right"]:["Top","Bottom"],j=c.toLowerCase(),g={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,outerHeight:e.fn.outerHeight};e.fn["inner"+c]=function(h){if(h===d){return g["inner"+c].call(this)}return this.each(function(){e(this).css(j,l(this,h)+"px")})};e.fn["outer"+c]=function(i,h){if(typeof i!=="number"){return g["outer"+c].call(this,i)}return this.each(function(){e(this).css(j,l(this,i,true,h)+"px")})}});e.extend(e.expr[":"],{data:function(f,c,g){return !!e.data(f,g[3])},focusable:function(c){return b(c,!isNaN(e.attr(c,"tabindex")))},tabbable:function(f){var c=e.attr(f,"tabindex"),g=isNaN(c);return(g||c>=0)&&b(f,!g)}});e(function(){var f=document.body,c=f.appendChild(c=document.createElement("div"));e.extend(c.style,{minHeight:"100px",height:"auto",padding:0,borderWidth:0});e.support.minHeight=c.offsetHeight===100;e.support.selectstart="onselectstart" in c;f.removeChild(c).style.display="none"});e.extend(e.ui,{plugin:{add:function(f,c,h){f=e.ui[f].prototype;for(var g in h){f.plugins[g]=f.plugins[g]||[];f.plugins[g].push([c,h[g]])}},call:function(f,c,h){if((c=f.plugins[c])&&f.element[0].parentNode){for(var g=0;g<c.length;g++){f.options[c[g][0]]&&c[g][1].apply(f.element,h)}}}},contains:function(f,c){return document.compareDocumentPosition?f.compareDocumentPosition(c)&16:f!==c&&f.contains(c)},hasScroll:function(f,c){if(e(f).css("overflow")==="hidden"){return false}c=c&&c==="left"?"scrollLeft":"scrollTop";var g=false;if(f[c]>0){return true}f[c]=1;g=f[c]>0;f[c]=0;return g},isOverAxis:function(f,c,g){return f>c&&f<c+g},isOver:function(f,c,l,k,j,g){return e.ui.isOverAxis(f,l,j)&&e.ui.isOverAxis(c,k,g)}})}})(jQuery);
/*!
 * jQuery UI Widget 1.8.13
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Widget
 */
(function(a,e){if(a.cleanData){var d=a.cleanData;a.cleanData=function(b){for(var g=0,f;(f=b[g])!=null;g++){a(f).triggerHandler("remove")}d(b)}}else{var c=a.fn.remove;a.fn.remove=function(b,f){return this.each(function(){if(!f){if(!b||a.filter(b,[this]).length){a("*",this).add([this]).each(function(){a(this).triggerHandler("remove")})}}return c.call(a(this),b,f)})}}a.widget=function(b,j,i){var h=b.split(".")[0],g;b=b.split(".")[1];g=h+"-"+b;if(!i){i=j;j=a.Widget}a.expr[":"][g]=function(f){return !!a.data(f,b)};a[h]=a[h]||{};a[h][b]=function(f,k){arguments.length&&this._createWidget(f,k)};j=new j;j.options=a.extend(true,{},j.options);a[h][b].prototype=a.extend(true,j,{namespace:h,widgetName:b,widgetEventPrefix:a[h][b].prototype.widgetEventPrefix||b,widgetBaseClass:g},i);a.widget.bridge(b,a[h][b])};a.widget.bridge=function(b,f){a.fn[b]=function(k){var j=typeof k==="string",i=Array.prototype.slice.call(arguments,1),g=this;k=!j&&i.length?a.extend.apply(null,[true,k].concat(i)):k;if(j&&k.charAt(0)==="_"){return g}j?this.each(function(){var l=a.data(this,b),h=l&&a.isFunction(l[k])?l[k].apply(l,i):l;if(h!==l&&h!==e){g=h;return false}}):this.each(function(){var h=a.data(this,b);h?h.option(k||{})._init():a.data(this,b,new f(k,this))});return g}};a.Widget=function(b,f){arguments.length&&this._createWidget(b,f)};a.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",options:{disabled:false},_createWidget:function(b,g){a.data(g,this.widgetName,this);this.element=a(g);this.options=a.extend(true,{},this.options,this._getCreateOptions(),b);var f=this;this.element.bind("remove."+this.widgetName,function(){f.destroy()});this._create();this._trigger("create");this._init()},_getCreateOptions:function(){return a.metadata&&a.metadata.get(this.element[0])[this.widgetName]},_create:function(){},_init:function(){},destroy:function(){this.element.unbind("."+this.widgetName).removeData(this.widgetName);this.widget().unbind("."+this.widgetName).removeAttr("aria-disabled").removeClass(this.widgetBaseClass+"-disabled ui-state-disabled")},widget:function(){return this.element},option:function(b,g){var f=b;if(arguments.length===0){return a.extend({},this.options)}if(typeof b==="string"){if(g===e){return this.options[b]}f={};f[b]=g}this._setOptions(f);return this},_setOptions:function(b){var f=this;a.each(b,function(h,g){f._setOption(h,g)});return this},_setOption:function(b,f){this.options[b]=f;if(b==="disabled"){this.widget()[f?"addClass":"removeClass"](this.widgetBaseClass+"-disabled ui-state-disabled").attr("aria-disabled",f)}return this},enable:function(){return this._setOption("disabled",false)},disable:function(){return this._setOption("disabled",true)},_trigger:function(b,j,i){var h=this.options[b];j=a.Event(j);j.type=(b===this.widgetEventPrefix?b:this.widgetEventPrefix+b).toLowerCase();i=i||{};if(j.originalEvent){b=a.event.props.length;for(var g;b;){g=a.event.props[--b];j[g]=j.originalEvent[g]}}this.element.trigger(j,i);return !(a.isFunction(h)&&h.call(this.element[0],j,i)===false||j.isDefaultPrevented())}}})(jQuery);
/*!
 * jQuery UI Mouse 1.8.13
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Mouse
 *
 * Depends:
 *	jquery.ui.widget.js
 */
(function(a){var c=false;a(document).mousedown(function(){c=false});a.widget("ui.mouse",{options:{cancel:":input,option",distance:1,delay:0},_mouseInit:function(){var b=this;this.element.bind("mousedown."+this.widgetName,function(d){return b._mouseDown(d)}).bind("click."+this.widgetName,function(d){if(true===a.data(d.target,b.widgetName+".preventClickEvent")){a.removeData(d.target,b.widgetName+".preventClickEvent");d.stopImmediatePropagation();return false}});this.started=false},_mouseDestroy:function(){this.element.unbind("."+this.widgetName)},_mouseDown:function(b){if(!c){this._mouseStarted&&this._mouseUp(b);this._mouseDownEvent=b;var h=this,e=b.which==1,d=typeof this.options.cancel=="string"?a(b.target).parents().add(b.target).filter(this.options.cancel).length:false;if(!e||d||!this._mouseCapture(b)){return true}this.mouseDelayMet=!this.options.delay;if(!this.mouseDelayMet){this._mouseDelayTimer=setTimeout(function(){h.mouseDelayMet=true},this.options.delay)}if(this._mouseDistanceMet(b)&&this._mouseDelayMet(b)){this._mouseStarted=this._mouseStart(b)!==false;if(!this._mouseStarted){b.preventDefault();return true}}true===a.data(b.target,this.widgetName+".preventClickEvent")&&a.removeData(b.target,this.widgetName+".preventClickEvent");this._mouseMoveDelegate=function(f){return h._mouseMove(f)};this._mouseUpDelegate=function(f){return h._mouseUp(f)};a(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate);b.preventDefault();return c=true}},_mouseMove:function(b){if(a.browser.msie&&!(document.documentMode>=9)&&!b.button){return this._mouseUp(b)}if(this._mouseStarted){this._mouseDrag(b);return b.preventDefault()}if(this._mouseDistanceMet(b)&&this._mouseDelayMet(b)){(this._mouseStarted=this._mouseStart(this._mouseDownEvent,b)!==false)?this._mouseDrag(b):this._mouseUp(b)}return !this._mouseStarted},_mouseUp:function(b){a(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate);if(this._mouseStarted){this._mouseStarted=false;b.target==this._mouseDownEvent.target&&a.data(b.target,this.widgetName+".preventClickEvent",true);this._mouseStop(b)}return false},_mouseDistanceMet:function(b){return Math.max(Math.abs(this._mouseDownEvent.pageX-b.pageX),Math.abs(this._mouseDownEvent.pageY-b.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return true}})})(jQuery);(function(f){f.ui=f.ui||{};var e=/left|center|right/,d=/top|center|bottom/,b=f.fn.position,a=f.fn.offset;f.fn.position=function(c){if(!c||!c.of){return b.apply(this,arguments)}c=f.extend({},c);var i=f(c.of),q=i[0],o=(c.collision||"flip").split(" "),p=c.offset?c.offset.split(" "):[0,0],n,l,m;if(q.nodeType===9){n=i.width();l=i.height();m={top:0,left:0}}else{if(q.setTimeout){n=i.width();l=i.height();m={top:i.scrollTop(),left:i.scrollLeft()}}else{if(q.preventDefault){c.at="left top";n=l=0;m={top:c.of.pageY,left:c.of.pageX}}else{n=i.outerWidth();l=i.outerHeight();m=i.offset()}}}f.each(["my","at"],function(){var g=(c[this]||"").split(" ");if(g.length===1){g=e.test(g[0])?g.concat(["center"]):d.test(g[0])?["center"].concat(g):["center","center"]}g[0]=e.test(g[0])?g[0]:"center";g[1]=d.test(g[1])?g[1]:"center";c[this]=g});if(o.length===1){o[1]=o[0]}p[0]=parseInt(p[0],10)||0;if(p.length===1){p[1]=p[0]}p[1]=parseInt(p[1],10)||0;if(c.at[0]==="right"){m.left+=n}else{if(c.at[0]==="center"){m.left+=n/2}}if(c.at[1]==="bottom"){m.top+=l}else{if(c.at[1]==="center"){m.top+=l/2}}m.left+=p[0];m.top+=p[1];return this.each(function(){var u=f(this),s=u.outerWidth(),k=u.outerHeight(),j=parseInt(f.curCSS(this,"marginLeft",true))||0,h=parseInt(f.curCSS(this,"marginTop",true))||0,y=s+j+(parseInt(f.curCSS(this,"marginRight",true))||0),x=k+h+(parseInt(f.curCSS(this,"marginBottom",true))||0),t=f.extend({},m),g;if(c.my[0]==="right"){t.left-=s}else{if(c.my[0]==="center"){t.left-=s/2}}if(c.my[1]==="bottom"){t.top-=k}else{if(c.my[1]==="center"){t.top-=k/2}}t.left=Math.round(t.left);t.top=Math.round(t.top);g={left:t.left-j,top:t.top-h};f.each(["left","top"],function(v,r){f.ui.position[o[v]]&&f.ui.position[o[v]][r](t,{targetWidth:n,targetHeight:l,elemWidth:s,elemHeight:k,collisionPosition:g,collisionWidth:y,collisionHeight:x,offset:p,my:c.my,at:c.at})});f.fn.bgiframe&&u.bgiframe();u.offset(f.extend(t,{using:c.using}))})};f.ui.position={fit:{left:function(c,g){var h=f(window);h=g.collisionPosition.left+g.collisionWidth-h.width()-h.scrollLeft();c.left=h>0?c.left-h:Math.max(c.left-g.collisionPosition.left,c.left)},top:function(c,g){var h=f(window);h=g.collisionPosition.top+g.collisionHeight-h.height()-h.scrollTop();c.top=h>0?c.top-h:Math.max(c.top-g.collisionPosition.top,c.top)}},flip:{left:function(c,i){if(i.at[0]!=="center"){var m=f(window);m=i.collisionPosition.left+i.collisionWidth-m.width()-m.scrollLeft();var k=i.my[0]==="left"?-i.elemWidth:i.my[0]==="right"?i.elemWidth:0,l=i.at[0]==="left"?i.targetWidth:-i.targetWidth,j=-2*i.offset[0];c.left+=i.collisionPosition.left<0?k+l+j:m>0?k+l+j:0}},top:function(c,i){if(i.at[1]!=="center"){var m=f(window);m=i.collisionPosition.top+i.collisionHeight-m.height()-m.scrollTop();var k=i.my[1]==="top"?-i.elemHeight:i.my[1]==="bottom"?i.elemHeight:0,l=i.at[1]==="top"?i.targetHeight:-i.targetHeight,j=-2*i.offset[1];c.top+=i.collisionPosition.top<0?k+l+j:m>0?k+l+j:0}}}};if(!f.offset.setOffset){f.offset.setOffset=function(c,i){if(/static/.test(f.curCSS(c,"position"))){c.style.position="relative"}var m=f(c),k=m.offset(),l=parseInt(f.curCSS(c,"top",true),10)||0,j=parseInt(f.curCSS(c,"left",true),10)||0;k={top:i.top-k.top+l,left:i.left-k.left+j};"using" in i?i.using.call(c,k):m.css(k)};f.fn.offset=function(c){var g=this[0];if(!g||!g.ownerDocument){return null}if(c){return this.each(function(){f.offset.setOffset(this,c)})}return a.call(this)}}})(jQuery);(function(a){a.widget("ui.draggable",a.ui.mouse,{widgetEventPrefix:"drag",options:{addClasses:true,appendTo:"parent",axis:false,connectToSortable:false,containment:false,cursor:"auto",cursorAt:false,grid:false,handle:false,helper:"original",iframeFix:false,opacity:false,refreshPositions:false,revert:false,revertDuration:500,scope:"default",scroll:true,scrollSensitivity:20,scrollSpeed:20,snap:false,snapMode:"both",snapTolerance:20,stack:false,zIndex:false},_create:function(){if(this.options.helper=="original"&&!/^(?:r|a|f)/.test(this.element.css("position"))){this.element[0].style.position="relative"}this.options.addClasses&&this.element.addClass("ui-draggable");this.options.disabled&&this.element.addClass("ui-draggable-disabled");this._mouseInit()},destroy:function(){if(this.element.data("draggable")){this.element.removeData("draggable").unbind(".draggable").removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled");this._mouseDestroy();return this}},_mouseCapture:function(d){var c=this.options;if(this.helper||c.disabled||a(d.target).is(".ui-resizable-handle")){return false}this.handle=this._getHandle(d);if(!this.handle){return false}a(c.iframeFix===true?"iframe":c.iframeFix).each(function(){a('<div class="ui-draggable-iframeFix" style="background: #fff;"></div>').css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1000}).css(a(this).offset()).appendTo("body")});return true},_mouseStart:function(d){var c=this.options;this.helper=this._createHelper(d);this._cacheHelperProportions();if(a.ui.ddmanager){a.ui.ddmanager.current=this}this._cacheMargins();this.cssPosition=this.helper.css("position");this.scrollParent=this.helper.scrollParent();this.offset=this.positionAbs=this.element.offset();this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left};a.extend(this.offset,{click:{left:d.pageX-this.offset.left,top:d.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()});this.originalPosition=this.position=this._generatePosition(d);this.originalPageX=d.pageX;this.originalPageY=d.pageY;c.cursorAt&&this._adjustOffsetFromHelper(c.cursorAt);c.containment&&this._setContainment();if(this._trigger("start",d)===false){this._clear();return false}this._cacheHelperProportions();a.ui.ddmanager&&!c.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,d);this.helper.addClass("ui-draggable-dragging");this._mouseDrag(d,true);return true},_mouseDrag:function(d,c){this.position=this._generatePosition(d);this.positionAbs=this._convertPositionTo("absolute");if(!c){c=this._uiHash();if(this._trigger("drag",d,c)===false){this._mouseUp({});return false}this.position=c.position}if(!this.options.axis||this.options.axis!="y"){this.helper[0].style.left=this.position.left+"px"}if(!this.options.axis||this.options.axis!="x"){this.helper[0].style.top=this.position.top+"px"}a.ui.ddmanager&&a.ui.ddmanager.drag(this,d);return false},_mouseStop:function(e){var d=false;if(a.ui.ddmanager&&!this.options.dropBehaviour){d=a.ui.ddmanager.drop(this,e)}if(this.dropped){d=this.dropped;this.dropped=false}if((!this.element[0]||!this.element[0].parentNode)&&this.options.helper=="original"){return false}if(this.options.revert=="invalid"&&!d||this.options.revert=="valid"&&d||this.options.revert===true||a.isFunction(this.options.revert)&&this.options.revert.call(this.element,d)){var f=this;a(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){f._trigger("stop",e)!==false&&f._clear()})}else{this._trigger("stop",e)!==false&&this._clear()}return false},_mouseUp:function(b){this.options.iframeFix===true&&a("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)});return a.ui.mouse.prototype._mouseUp.call(this,b)},cancel:function(){this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear();return this},_getHandle:function(d){var c=!this.options.handle||!a(this.options.handle,this.element).length?true:false;a(this.options.handle,this.element).find("*").andSelf().each(function(){if(this==d.target){c=true}});return c},_createHelper:function(d){var c=this.options;d=a.isFunction(c.helper)?a(c.helper.apply(this.element[0],[d])):c.helper=="clone"?this.element.clone().removeAttr("id"):this.element;d.parents("body").length||d.appendTo(c.appendTo=="parent"?this.element[0].parentNode:c.appendTo);d[0]!=this.element[0]&&!/(fixed|absolute)/.test(d.css("position"))&&d.css("position","absolute");return d},_adjustOffsetFromHelper:function(b){if(typeof b=="string"){b=b.split(" ")}if(a.isArray(b)){b={left:+b[0],top:+b[1]||0}}if("left" in b){this.offset.click.left=b.left+this.margins.left}if("right" in b){this.offset.click.left=this.helperProportions.width-b.right+this.margins.left}if("top" in b){this.offset.click.top=b.top+this.margins.top}if("bottom" in b){this.offset.click.top=this.helperProportions.height-b.bottom+this.margins.top}},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var b=this.offsetParent.offset();if(this.cssPosition=="absolute"&&this.scrollParent[0]!=document&&a.ui.contains(this.scrollParent[0],this.offsetParent[0])){b.left+=this.scrollParent.scrollLeft();b.top+=this.scrollParent.scrollTop()}if(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()=="html"&&a.browser.msie){b={top:0,left:0}}return{top:b.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:b.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition=="relative"){var b=this.element.position();return{top:b.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:b.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}else{return{top:0,left:0}}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e=this.options;if(e.containment=="parent"){e.containment=this.helper[0].parentNode}if(e.containment=="document"||e.containment=="window"){this.containment=[(e.containment=="document"?0:a(window).scrollLeft())-this.offset.relative.left-this.offset.parent.left,(e.containment=="document"?0:a(window).scrollTop())-this.offset.relative.top-this.offset.parent.top,(e.containment=="document"?0:a(window).scrollLeft())+a(e.containment=="document"?document:window).width()-this.helperProportions.width-this.margins.left,(e.containment=="document"?0:a(window).scrollTop())+(a(e.containment=="document"?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]}if(!/^(document|window|parent)$/.test(e.containment)&&e.containment.constructor!=Array){e=a(e.containment);var d=e[0];if(d){e.offset();var f=a(d).css("overflow")!="hidden";this.containment=[(parseInt(a(d).css("borderLeftWidth"),10)||0)+(parseInt(a(d).css("paddingLeft"),10)||0),(parseInt(a(d).css("borderTopWidth"),10)||0)+(parseInt(a(d).css("paddingTop"),10)||0),(f?Math.max(d.scrollWidth,d.offsetWidth):d.offsetWidth)-(parseInt(a(d).css("borderLeftWidth"),10)||0)-(parseInt(a(d).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(f?Math.max(d.scrollHeight,d.offsetHeight):d.offsetHeight)-(parseInt(a(d).css("borderTopWidth"),10)||0)-(parseInt(a(d).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom];this.relative_container=e}}else{if(e.containment.constructor==Array){this.containment=e.containment}}},_convertPositionTo:function(e,d){if(!d){d=this.position}e=e=="absolute"?1:-1;var h=this.cssPosition=="absolute"&&!(this.scrollParent[0]!=document&&a.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,g=/(html|body)/i.test(h[0].tagName);return{top:d.top+this.offset.relative.top*e+this.offset.parent.top*e-(a.browser.safari&&a.browser.version<526&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():g?0:h.scrollTop())*e),left:d.left+this.offset.relative.left*e+this.offset.parent.left*e-(a.browser.safari&&a.browser.version<526&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():g?0:h.scrollLeft())*e)}},_generatePosition:function(i){var d=this.options,n=this.cssPosition=="absolute"&&!(this.scrollParent[0]!=document&&a.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,l=/(html|body)/i.test(n[0].tagName),m=i.pageX,j=i.pageY;if(this.originalPosition){var k;if(this.containment){if(this.relative_container){k=this.relative_container.offset();k=[this.containment[0]+k.left,this.containment[1]+k.top,this.containment[2]+k.left,this.containment[3]+k.top]}else{k=this.containment}if(i.pageX-this.offset.click.left<k[0]){m=k[0]+this.offset.click.left}if(i.pageY-this.offset.click.top<k[1]){j=k[1]+this.offset.click.top}if(i.pageX-this.offset.click.left>k[2]){m=k[2]+this.offset.click.left}if(i.pageY-this.offset.click.top>k[3]){j=k[3]+this.offset.click.top}}if(d.grid){j=this.originalPageY+Math.round((j-this.originalPageY)/d.grid[1])*d.grid[1];j=k?!(j-this.offset.click.top<k[1]||j-this.offset.click.top>k[3])?j:!(j-this.offset.click.top<k[1])?j-d.grid[1]:j+d.grid[1]:j;m=this.originalPageX+Math.round((m-this.originalPageX)/d.grid[0])*d.grid[0];m=k?!(m-this.offset.click.left<k[0]||m-this.offset.click.left>k[2])?m:!(m-this.offset.click.left<k[0])?m-d.grid[0]:m+d.grid[0]:m}}return{top:j-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(a.browser.safari&&a.browser.version<526&&this.cssPosition=="fixed"?0:this.cssPosition=="fixed"?-this.scrollParent.scrollTop():l?0:n.scrollTop()),left:m-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(a.browser.safari&&a.browser.version<526&&this.cssPosition=="fixed"?0:this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():l?0:n.scrollLeft())}},_clear:function(){this.helper.removeClass("ui-draggable-dragging");this.helper[0]!=this.element[0]&&!this.cancelHelperRemoval&&this.helper.remove();this.helper=null;this.cancelHelperRemoval=false},_trigger:function(e,d,f){f=f||this._uiHash();a.ui.plugin.call(this,e,[d,f]);if(e=="drag"){this.positionAbs=this._convertPositionTo("absolute")}return a.Widget.prototype._trigger.call(this,e,d,f)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}});a.extend(a.ui.draggable,{version:"1.8.13"});a.ui.plugin.add("draggable","connectToSortable",{start:function(g,d){var j=a(this).data("draggable"),h=j.options,i=a.extend({},d,{item:j.element});j.sortables=[];a(h.connectToSortable).each(function(){var b=a.data(this,"sortable");if(b&&!b.options.disabled){j.sortables.push({instance:b,shouldRevert:b.options.revert});b.refreshPositions();b._trigger("activate",g,i)}})},stop:function(e,d){var h=a(this).data("draggable"),g=a.extend({},d,{item:h.element});a.each(h.sortables,function(){if(this.instance.isOver){this.instance.isOver=0;h.cancelHelperRemoval=true;this.instance.cancelHelperRemoval=false;if(this.shouldRevert){this.instance.options.revert=true}this.instance._mouseStop(e);this.instance.options.helper=this.instance.options._helper;h.options.helper=="original"&&this.instance.currentItem.css({top:"auto",left:"auto"})}else{this.instance.cancelHelperRemoval=false;this.instance._trigger("deactivate",e,g)}})},drag:function(e,d){var h=a(this).data("draggable"),g=this;a.each(h.sortables,function(){this.instance.positionAbs=h.positionAbs;this.instance.helperProportions=h.helperProportions;this.instance.offset.click=h.offset.click;if(this.instance._intersectsWith(this.instance.containerCache)){if(!this.instance.isOver){this.instance.isOver=1;this.instance.currentItem=a(g).clone().removeAttr("id").appendTo(this.instance.element).data("sortable-item",true);this.instance.options._helper=this.instance.options.helper;this.instance.options.helper=function(){return d.helper[0]};e.target=this.instance.currentItem[0];this.instance._mouseCapture(e,true);this.instance._mouseStart(e,true,true);this.instance.offset.click.top=h.offset.click.top;this.instance.offset.click.left=h.offset.click.left;this.instance.offset.parent.left-=h.offset.parent.left-this.instance.offset.parent.left;this.instance.offset.parent.top-=h.offset.parent.top-this.instance.offset.parent.top;h._trigger("toSortable",e);h.dropped=this.instance.element;h.currentItem=h.element;this.instance.fromOutside=h}this.instance.currentItem&&this.instance._mouseDrag(e)}else{if(this.instance.isOver){this.instance.isOver=0;this.instance.cancelHelperRemoval=true;this.instance.options.revert=false;this.instance._trigger("out",e,this.instance._uiHash(this.instance));this.instance._mouseStop(e,true);this.instance.options.helper=this.instance.options._helper;this.instance.currentItem.remove();this.instance.placeholder&&this.instance.placeholder.remove();h._trigger("fromSortable",e);h.dropped=false}}})}});a.ui.plugin.add("draggable","cursor",{start:function(){var d=a("body"),c=a(this).data("draggable").options;if(d.css("cursor")){c._cursor=d.css("cursor")}d.css("cursor",c.cursor)},stop:function(){var b=a(this).data("draggable").options;b._cursor&&a("body").css("cursor",b._cursor)}});a.ui.plugin.add("draggable","opacity",{start:function(d,c){d=a(c.helper);c=a(this).data("draggable").options;if(d.css("opacity")){c._opacity=d.css("opacity")}d.css("opacity",c.opacity)},stop:function(d,c){d=a(this).data("draggable").options;d._opacity&&a(c.helper).css("opacity",d._opacity)}});a.ui.plugin.add("draggable","scroll",{start:function(){var b=a(this).data("draggable");if(b.scrollParent[0]!=document&&b.scrollParent[0].tagName!="HTML"){b.overflowOffset=b.scrollParent.offset()}},drag:function(e){var d=a(this).data("draggable"),h=d.options,g=false;if(d.scrollParent[0]!=document&&d.scrollParent[0].tagName!="HTML"){if(!h.axis||h.axis!="x"){if(d.overflowOffset.top+d.scrollParent[0].offsetHeight-e.pageY<h.scrollSensitivity){d.scrollParent[0].scrollTop=g=d.scrollParent[0].scrollTop+h.scrollSpeed}else{if(e.pageY-d.overflowOffset.top<h.scrollSensitivity){d.scrollParent[0].scrollTop=g=d.scrollParent[0].scrollTop-h.scrollSpeed}}}if(!h.axis||h.axis!="y"){if(d.overflowOffset.left+d.scrollParent[0].offsetWidth-e.pageX<h.scrollSensitivity){d.scrollParent[0].scrollLeft=g=d.scrollParent[0].scrollLeft+h.scrollSpeed}else{if(e.pageX-d.overflowOffset.left<h.scrollSensitivity){d.scrollParent[0].scrollLeft=g=d.scrollParent[0].scrollLeft-h.scrollSpeed}}}}else{if(!h.axis||h.axis!="x"){if(e.pageY-a(document).scrollTop()<h.scrollSensitivity){g=a(document).scrollTop(a(document).scrollTop()-h.scrollSpeed)}else{if(a(window).height()-(e.pageY-a(document).scrollTop())<h.scrollSensitivity){g=a(document).scrollTop(a(document).scrollTop()+h.scrollSpeed)}}}if(!h.axis||h.axis!="y"){if(e.pageX-a(document).scrollLeft()<h.scrollSensitivity){g=a(document).scrollLeft(a(document).scrollLeft()-h.scrollSpeed)}else{if(a(window).width()-(e.pageX-a(document).scrollLeft())<h.scrollSensitivity){g=a(document).scrollLeft(a(document).scrollLeft()+h.scrollSpeed)}}}}g!==false&&a.ui.ddmanager&&!h.dropBehaviour&&a.ui.ddmanager.prepareOffsets(d,e)}});a.ui.plugin.add("draggable","snap",{start:function(){var d=a(this).data("draggable"),c=d.options;d.snapElements=[];a(c.snap.constructor!=String?c.snap.items||":data(draggable)":c.snap).each(function(){var e=a(this),b=e.offset();this!=d.element[0]&&d.snapElements.push({item:this,width:e.outerWidth(),height:e.outerHeight(),top:b.top,left:b.left})})},drag:function(L,K){for(var J=a(this).data("draggable"),H=J.options,I=H.snapTolerance,F=K.offset.left,G=F+J.helperProportions.width,z=K.offset.top,y=z+J.helperProportions.height,E=J.snapElements.length-1;E>=0;E--){var D=J.snapElements[E].left,B=D+J.snapElements[E].width,C=J.snapElements[E].top,A=C+J.snapElements[E].height;if(D-I<F&&F<B+I&&C-I<z&&z<A+I||D-I<F&&F<B+I&&C-I<y&&y<A+I||D-I<G&&G<B+I&&C-I<z&&z<A+I||D-I<G&&G<B+I&&C-I<y&&y<A+I){if(H.snapMode!="inner"){var x=Math.abs(C-y)<=I,w=Math.abs(A-z)<=I,v=Math.abs(D-G)<=I,u=Math.abs(B-F)<=I;if(x){K.position.top=J._convertPositionTo("relative",{top:C-J.helperProportions.height,left:0}).top-J.margins.top}if(w){K.position.top=J._convertPositionTo("relative",{top:A,left:0}).top-J.margins.top}if(v){K.position.left=J._convertPositionTo("relative",{top:0,left:D-J.helperProportions.width}).left-J.margins.left}if(u){K.position.left=J._convertPositionTo("relative",{top:0,left:B}).left-J.margins.left}}var d=x||w||v||u;if(H.snapMode!="outer"){x=Math.abs(C-z)<=I;w=Math.abs(A-y)<=I;v=Math.abs(D-F)<=I;u=Math.abs(B-G)<=I;if(x){K.position.top=J._convertPositionTo("relative",{top:C,left:0}).top-J.margins.top}if(w){K.position.top=J._convertPositionTo("relative",{top:A-J.helperProportions.height,left:0}).top-J.margins.top}if(v){K.position.left=J._convertPositionTo("relative",{top:0,left:D}).left-J.margins.left}if(u){K.position.left=J._convertPositionTo("relative",{top:0,left:B-J.helperProportions.width}).left-J.margins.left}}if(!J.snapElements[E].snapping&&(x||w||v||u||d)){J.options.snap.snap&&J.options.snap.snap.call(J.element,L,a.extend(J._uiHash(),{snapItem:J.snapElements[E].item}))}J.snapElements[E].snapping=x||w||v||u||d}else{J.snapElements[E].snapping&&J.options.snap.release&&J.options.snap.release.call(J.element,L,a.extend(J._uiHash(),{snapItem:J.snapElements[E].item}));J.snapElements[E].snapping=false}}}});a.ui.plugin.add("draggable","stack",{start:function(){var d=a(this).data("draggable").options;d=a.makeArray(a(d.stack)).sort(function(e,b){return(parseInt(a(e).css("zIndex"),10)||0)-(parseInt(a(b).css("zIndex"),10)||0)});if(d.length){var c=parseInt(d[0].style.zIndex)||0;a(d).each(function(b){this.style.zIndex=c+b});this[0].style.zIndex=c+d.length}}});a.ui.plugin.add("draggable","zIndex",{start:function(d,c){d=a(c.helper);c=a(this).data("draggable").options;if(d.css("zIndex")){c._zIndex=d.css("zIndex")}d.css("zIndex",c.zIndex)},stop:function(d,c){d=a(this).data("draggable").options;d._zIndex&&a(c.helper).css("zIndex",d._zIndex)}})})(jQuery);(function(a){a.widget("ui.droppable",{widgetEventPrefix:"drop",options:{accept:"*",activeClass:false,addClasses:true,greedy:false,hoverClass:false,scope:"default",tolerance:"intersect"},_create:function(){var d=this.options,c=d.accept;this.isover=0;this.isout=1;this.accept=a.isFunction(c)?c:function(b){return b.is(c)};this.proportions={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight};a.ui.ddmanager.droppables[d.scope]=a.ui.ddmanager.droppables[d.scope]||[];a.ui.ddmanager.droppables[d.scope].push(this);d.addClasses&&this.element.addClass("ui-droppable")},destroy:function(){for(var d=a.ui.ddmanager.droppables[this.options.scope],c=0;c<d.length;c++){d[c]==this&&d.splice(c,1)}this.element.removeClass("ui-droppable ui-droppable-disabled").removeData("droppable").unbind(".droppable");return this},_setOption:function(d,c){if(d=="accept"){this.accept=a.isFunction(c)?c:function(b){return b.is(c)}}a.Widget.prototype._setOption.apply(this,arguments)},_activate:function(d){var c=a.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass);c&&this._trigger("activate",d,this.ui(c))},_deactivate:function(d){var c=a.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass);c&&this._trigger("deactivate",d,this.ui(c))},_over:function(d){var c=a.ui.ddmanager.current;if(!(!c||(c.currentItem||c.element)[0]==this.element[0])){if(this.accept.call(this.element[0],c.currentItem||c.element)){this.options.hoverClass&&this.element.addClass(this.options.hoverClass);this._trigger("over",d,this.ui(c))}}},_out:function(d){var c=a.ui.ddmanager.current;if(!(!c||(c.currentItem||c.element)[0]==this.element[0])){if(this.accept.call(this.element[0],c.currentItem||c.element)){this.options.hoverClass&&this.element.removeClass(this.options.hoverClass);this._trigger("out",d,this.ui(c))}}},_drop:function(f,d){var h=d||a.ui.ddmanager.current;if(!h||(h.currentItem||h.element)[0]==this.element[0]){return false}var g=false;this.element.find(":data(droppable)").not(".ui-draggable-dragging").each(function(){var b=a.data(this,"droppable");if(b.options.greedy&&!b.options.disabled&&b.options.scope==h.options.scope&&b.accept.call(b.element[0],h.currentItem||h.element)&&a.ui.intersect(h,a.extend(b,{offset:b.element.offset()}),b.options.tolerance)){g=true;return false}});if(g){return false}if(this.accept.call(this.element[0],h.currentItem||h.element)){this.options.activeClass&&this.element.removeClass(this.options.activeClass);this.options.hoverClass&&this.element.removeClass(this.options.hoverClass);this._trigger("drop",f,this.ui(h));return this.element}return false},ui:function(b){return{draggable:b.currentItem||b.element,helper:b.helper,position:b.position,offset:b.positionAbs}}});a.extend(a.ui.droppable,{version:"1.8.13"});a.ui.intersect=function(v,u,t){if(!u.offset){return false}var s=(v.positionAbs||v.position.absolute).left,q=s+v.helperProportions.width,r=(v.positionAbs||v.position.absolute).top,p=r+v.helperProportions.height,o=u.offset.left,m=o+u.proportions.width,n=u.offset.top,d=n+u.proportions.height;switch(t){case"fit":return o<=s&&q<=m&&n<=r&&p<=d;case"intersect":return o<s+v.helperProportions.width/2&&q-v.helperProportions.width/2<m&&n<r+v.helperProportions.height/2&&p-v.helperProportions.height/2<d;case"pointer":return a.ui.isOver((v.positionAbs||v.position.absolute).top+(v.clickOffset||v.offset.click).top,(v.positionAbs||v.position.absolute).left+(v.clickOffset||v.offset.click).left,n,o,u.proportions.height,u.proportions.width);case"touch":return(r>=n&&r<=d||p>=n&&p<=d||r<n&&p>d)&&(s>=o&&s<=m||q>=o&&q<=m||s<o&&q>m);default:return false}};a.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(i,d){var n=a.ui.ddmanager.droppables[i.options.scope]||[],m=d?d.type:null,k=(i.currentItem||i.element).find(":data(droppable)").andSelf(),l=0;i:for(;l<n.length;l++){if(!(n[l].options.disabled||i&&!n[l].accept.call(n[l].element[0],i.currentItem||i.element))){for(var j=0;j<k.length;j++){if(k[j]==n[l].element[0]){n[l].proportions.height=0;continue i}}n[l].visible=n[l].element.css("display")!="none";if(n[l].visible){m=="mousedown"&&n[l]._activate.call(n[l],d);n[l].offset=n[l].element.offset();n[l].proportions={width:n[l].element[0].offsetWidth,height:n[l].element[0].offsetHeight}}}}},drop:function(e,d){var f=false;a.each(a.ui.ddmanager.droppables[e.options.scope]||[],function(){if(this.options){if(!this.options.disabled&&this.visible&&a.ui.intersect(e,this,this.options.tolerance)){f=f||this._drop.call(this,d)}if(!this.options.disabled&&this.visible&&this.accept.call(this.element[0],e.currentItem||e.element)){this.isout=1;this.isover=0;this._deactivate.call(this,d)}}});return f},drag:function(d,c){d.options.refreshPositions&&a.ui.ddmanager.prepareOffsets(d,c);a.each(a.ui.ddmanager.droppables[d.options.scope]||[],function(){if(!(this.options.disabled||this.greedyChild||!this.visible)){var h=a.ui.intersect(d,this,this.options.tolerance);if(h=!h&&this.isover==1?"isout":h&&this.isover==0?"isover":null){var f;if(this.options.greedy){var b=this.element.parents(":data(droppable):eq(0)");if(b.length){f=a.data(b[0],"droppable");f.greedyChild=h=="isover"?1:0}}if(f&&h=="isover"){f.isover=0;f.isout=1;f._out.call(f,c)}this[h]=1;this[h=="isout"?"isover":"isout"]=0;this[h=="isover"?"_over":"_out"].call(this,c);if(f&&h=="isout"){f.isout=0;f.isover=1;f._over.call(f,c)}}}})}}})(jQuery);(function(c){c.widget("ui.resizable",c.ui.mouse,{widgetEventPrefix:"resize",options:{alsoResize:false,animate:false,animateDuration:"slow",animateEasing:"swing",aspectRatio:false,autoHide:false,containment:false,ghost:false,grid:false,handles:"e,s,se",helper:false,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:1000},_create:function(){var e=this,h=this.options;this.element.addClass("ui-resizable");c.extend(this,{_aspectRatio:!!h.aspectRatio,aspectRatio:h.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:h.helper||h.ghost||h.animate?h.helper||"ui-resizable-helper":null});if(this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)){/relative/.test(this.element.css("position"))&&c.browser.opera&&this.element.css({position:"relative",top:"auto",left:"auto"});this.element.wrap(c('<div class="ui-wrapper" style="overflow: hidden;"></div>').css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")}));this.element=this.element.parent().data("resizable",this.element.data("resizable"));this.elementIsWrapper=true;this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")});this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0});this.originalResizeStyle=this.originalElement.css("resize");this.originalElement.css("resize","none");this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"}));this.originalElement.css({margin:this.originalElement.css("margin")});this._proportionallyResize()}this.handles=h.handles||(!c(".ui-resizable-handle",this.element).length?"e,s,se":{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"});if(this.handles.constructor==String){if(this.handles=="all"){this.handles="n,e,s,w,se,sw,ne,nw"}var l=this.handles.split(",");this.handles={};for(var k=0;k<l.length;k++){var j=c.trim(l[k]),i=c('<div class="ui-resizable-handle '+("ui-resizable-"+j)+'"></div>');/sw|se|ne|nw/.test(j)&&i.css({zIndex:++h.zIndex});"se"==j&&i.addClass("ui-icon ui-icon-gripsmall-diagonal-se");this.handles[j]=".ui-resizable-"+j;this.element.append(i)}}this._renderAxis=function(m){m=m||this.element;for(var g in this.handles){if(this.handles[g].constructor==String){this.handles[g]=c(this.handles[g],this.element).show()}if(this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)){var f=c(this.handles[g],this.element),d=0;d=/sw|ne|nw|se|n|s/.test(g)?f.outerHeight():f.outerWidth();f=["padding",/ne|nw|n/.test(g)?"Top":/se|sw|s/.test(g)?"Bottom":/^e$/.test(g)?"Right":"Left"].join("");m.css(f,d);this._proportionallyResize()}c(this.handles[g])}};this._renderAxis(this.element);this._handles=c(".ui-resizable-handle",this.element).disableSelection();this._handles.mouseover(function(){if(!e.resizing){if(this.className){var d=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)}e.axis=d&&d[1]?d[1]:"se"}});if(h.autoHide){this._handles.hide();c(this.element).addClass("ui-resizable-autohide").hover(function(){if(!h.disabled){c(this).removeClass("ui-resizable-autohide");e._handles.show()}},function(){if(!h.disabled){if(!e.resizing){c(this).addClass("ui-resizable-autohide");e._handles.hide()}}})}this._mouseInit()},destroy:function(){this._mouseDestroy();var d=function(f){c(f).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};if(this.elementIsWrapper){d(this.element);var e=this.element;e.after(this.originalElement.css({position:e.css("position"),width:e.outerWidth(),height:e.outerHeight(),top:e.css("top"),left:e.css("left")})).remove()}this.originalElement.css("resize",this.originalResizeStyle);d(this.originalElement);return this},_mouseCapture:function(d){var e=false;for(var f in this.handles){if(c(this.handles[f])[0]==d.target){e=true}}return !this.options.disabled&&e},_mouseStart:function(e){var g=this.options,j=this.element.position(),i=this.element;this.resizing=true;this.documentScroll={top:c(document).scrollTop(),left:c(document).scrollLeft()};if(i.is(".ui-draggable")||/absolute/.test(i.css("position"))){i.css({position:"absolute",top:j.top,left:j.left})}c.browser.opera&&/relative/.test(i.css("position"))&&i.css({position:"relative",top:"auto",left:"auto"});this._renderProxy();j=a(this.helper.css("left"));var h=a(this.helper.css("top"));if(g.containment){j+=c(g.containment).scrollLeft()||0;h+=c(g.containment).scrollTop()||0}this.offset=this.helper.offset();this.position={left:j,top:h};this.size=this._helper?{width:i.outerWidth(),height:i.outerHeight()}:{width:i.width(),height:i.height()};this.originalSize=this._helper?{width:i.outerWidth(),height:i.outerHeight()}:{width:i.width(),height:i.height()};this.originalPosition={left:j,top:h};this.sizeDiff={width:i.outerWidth()-i.width(),height:i.outerHeight()-i.height()};this.originalMousePosition={left:e.pageX,top:e.pageY};this.aspectRatio=typeof g.aspectRatio=="number"?g.aspectRatio:this.originalSize.width/this.originalSize.height||1;g=c(".ui-resizable-"+this.axis).css("cursor");c("body").css("cursor",g=="auto"?this.axis+"-resize":g);i.addClass("ui-resizable-resizing");this._propagate("start",e);return true},_mouseDrag:function(e){var f=this.helper,h=this.originalMousePosition,g=this._change[this.axis];if(!g){return false}h=g.apply(this,[e,e.pageX-h.left||0,e.pageY-h.top||0]);if(this._aspectRatio||e.shiftKey){h=this._updateRatio(h,e)}h=this._respectSize(h,e);this._propagate("resize",e);f.css({top:this.position.top+"px",left:this.position.left+"px",width:this.size.width+"px",height:this.size.height+"px"});!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize();this._updateCache(h);this._trigger("resize",e,this.ui());return false},_mouseStop:function(e){this.resizing=false;var h=this.options,l=this;if(this._helper){var k=this._proportionallyResizeElements,j=k.length&&/textarea/i.test(k[0].nodeName);k=j&&c.ui.hasScroll(k[0],"left")?0:l.sizeDiff.height;j=j?0:l.sizeDiff.width;j={width:l.helper.width()-j,height:l.helper.height()-k};k=parseInt(l.element.css("left"),10)+(l.position.left-l.originalPosition.left)||null;var i=parseInt(l.element.css("top"),10)+(l.position.top-l.originalPosition.top)||null;h.animate||this.element.css(c.extend(j,{top:i,left:k}));l.helper.height(l.size.height);l.helper.width(l.size.width);this._helper&&!h.animate&&this._proportionallyResize()}c("body").css("cursor","auto");this.element.removeClass("ui-resizable-resizing");this._propagate("stop",e);this._helper&&this.helper.remove();return false},_updateCache:function(d){this.offset=this.helper.offset();if(b(d.left)){this.position.left=d.left}if(b(d.top)){this.position.top=d.top}if(b(d.height)){this.size.height=d.height}if(b(d.width)){this.size.width=d.width}},_updateRatio:function(e){var f=this.position,h=this.size,g=this.axis;if(e.height){e.width=h.height*this.aspectRatio}else{if(e.width){e.height=h.width/this.aspectRatio}}if(g=="sw"){e.left=f.left+(h.width-e.width);e.top=null}if(g=="nw"){e.top=f.top+(h.height-e.height);e.left=f.left+(h.width-e.width)}return e},_respectSize:function(s){var t=this.options,r=this.axis,q=b(s.width)&&t.maxWidth&&t.maxWidth<s.width,p=b(s.height)&&t.maxHeight&&t.maxHeight<s.height,o=b(s.width)&&t.minWidth&&t.minWidth>s.width,n=b(s.height)&&t.minHeight&&t.minHeight>s.height;if(o){s.width=t.minWidth}if(n){s.height=t.minHeight}if(q){s.width=t.maxWidth}if(p){s.height=t.maxHeight}var m=this.originalPosition.left+this.originalSize.width,l=this.position.top+this.size.height,e=/sw|nw|w/.test(r);r=/nw|ne|n/.test(r);if(o&&e){s.left=m-t.minWidth}if(q&&e){s.left=m-t.maxWidth}if(n&&r){s.top=l-t.minHeight}if(p&&r){s.top=l-t.maxHeight}if((t=!s.width&&!s.height)&&!s.left&&s.top){s.top=null}else{if(t&&!s.top&&s.left){s.left=null}}return s},_proportionallyResize:function(){if(this._proportionallyResizeElements.length){for(var e=this.helper||this.element,g=0;g<this._proportionallyResizeElements.length;g++){var j=this._proportionallyResizeElements[g];if(!this.borderDif){var i=[j.css("borderTopWidth"),j.css("borderRightWidth"),j.css("borderBottomWidth"),j.css("borderLeftWidth")],h=[j.css("paddingTop"),j.css("paddingRight"),j.css("paddingBottom"),j.css("paddingLeft")];this.borderDif=c.map(i,function(f,d){f=parseInt(f,10)||0;d=parseInt(h[d],10)||0;return f+d})}c.browser.msie&&(c(e).is(":hidden")||c(e).parents(":hidden").length)||j.css({height:e.height()-this.borderDif[0]-this.borderDif[2]||0,width:e.width()-this.borderDif[1]-this.borderDif[3]||0})}}},_renderProxy:function(){var d=this.options;this.elementOffset=this.element.offset();if(this._helper){this.helper=this.helper||c('<div style="overflow:hidden;"></div>');var e=c.browser.msie&&c.browser.version<7,f=e?1:0;e=e?2:-1;this.helper.addClass(this._helper).css({width:this.element.outerWidth()+e,height:this.element.outerHeight()+e,position:"absolute",left:this.elementOffset.left-f+"px",top:this.elementOffset.top-f+"px",zIndex:++d.zIndex});this.helper.appendTo("body").disableSelection()}else{this.helper=this.element}},_change:{e:function(d,e){return{width:this.originalSize.width+e}},w:function(d,e){return{left:this.originalPosition.left+e,width:this.originalSize.width-e}},n:function(d,e,f){return{top:this.originalPosition.top+f,height:this.originalSize.height-f}},s:function(d,e,f){return{height:this.originalSize.height+f}},se:function(d,e,f){return c.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[d,e,f]))},sw:function(d,e,f){return c.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[d,e,f]))},ne:function(d,e,f){return c.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[d,e,f]))},nw:function(d,e,f){return c.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[d,e,f]))}},_propagate:function(d,e){c.ui.plugin.call(this,d,[e,this.ui()]);d!="resize"&&this._trigger(d,e,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}});c.extend(c.ui.resizable,{version:"1.8.13"});c.ui.plugin.add("resizable","alsoResize",{start:function(){var d=c(this).data("resizable").options,e=function(f){c(f).each(function(){var g=c(this);g.data("resizable-alsoresize",{width:parseInt(g.width(),10),height:parseInt(g.height(),10),left:parseInt(g.css("left"),10),top:parseInt(g.css("top"),10),position:g.css("position")})})};if(typeof d.alsoResize=="object"&&!d.alsoResize.parentNode){if(d.alsoResize.length){d.alsoResize=d.alsoResize[0];e(d.alsoResize)}else{c.each(d.alsoResize,function(f){e(f)})}}else{e(d.alsoResize)}},resize:function(e,i){var n=c(this).data("resizable");e=n.options;var m=n.originalSize,l=n.originalPosition,k={height:n.size.height-m.height||0,width:n.size.width-m.width||0,top:n.position.top-l.top||0,left:n.position.left-l.left||0},j=function(f,d){c(f).each(function(){var g=c(this),o=c(this).data("resizable-alsoresize"),s={},h=d&&d.length?d:g.parents(i.originalElement[0]).length?["width","height"]:["width","height","top","left"];c.each(h,function(q,p){if((q=(o[p]||0)+(k[p]||0))&&q>=0){s[p]=q||null}});if(c.browser.opera&&/relative/.test(g.css("position"))){n._revertToRelativePosition=true;g.css({position:"absolute",top:"auto",left:"auto"})}g.css(s)})};typeof e.alsoResize=="object"&&!e.alsoResize.nodeType?c.each(e.alsoResize,function(f,d){j(f,d)}):j(e.alsoResize)},stop:function(){var d=c(this).data("resizable"),e=d.options,f=function(g){c(g).each(function(){var h=c(this);h.css({position:h.data("resizable-alsoresize").position})})};if(d._revertToRelativePosition){d._revertToRelativePosition=false;typeof e.alsoResize=="object"&&!e.alsoResize.nodeType?c.each(e.alsoResize,function(g){f(g)}):f(e.alsoResize)}c(this).removeData("resizable-alsoresize")}});c.ui.plugin.add("resizable","animate",{stop:function(e){var i=c(this).data("resizable"),n=i.options,m=i._proportionallyResizeElements,l=m.length&&/textarea/i.test(m[0].nodeName),k=l&&c.ui.hasScroll(m[0],"left")?0:i.sizeDiff.height;l={width:i.size.width-(l?0:i.sizeDiff.width),height:i.size.height-k};k=parseInt(i.element.css("left"),10)+(i.position.left-i.originalPosition.left)||null;var j=parseInt(i.element.css("top"),10)+(i.position.top-i.originalPosition.top)||null;i.element.animate(c.extend(l,j&&k?{top:j,left:k}:{}),{duration:n.animateDuration,easing:n.animateEasing,step:function(){var d={width:parseInt(i.element.css("width"),10),height:parseInt(i.element.css("height"),10),top:parseInt(i.element.css("top"),10),left:parseInt(i.element.css("left"),10)};m&&m.length&&c(m[0]).css({width:d.width,height:d.height});i._updateCache(d);i._propagate("resize",e)}})}});c.ui.plugin.add("resizable","containment",{start:function(){var e=c(this).data("resizable"),i=e.element,n=e.options.containment;if(i=n instanceof c?n.get(0):/parent/.test(n)?i.parent().get(0):n){e.containerElement=c(i);if(/document/.test(n)||n==document){e.containerOffset={left:0,top:0};e.containerPosition={left:0,top:0};e.parentData={element:c(document),left:0,top:0,width:c(document).width(),height:c(document).height()||document.body.parentNode.scrollHeight}}else{var m=c(i),l=[];c(["Top","Right","Left","Bottom"]).each(function(f,d){l[f]=a(m.css("padding"+d))});e.containerOffset=m.offset();e.containerPosition=m.position();e.containerSize={height:m.innerHeight()-l[3],width:m.innerWidth()-l[1]};n=e.containerOffset;var k=e.containerSize.height,j=e.containerSize.width;j=c.ui.hasScroll(i,"left")?i.scrollWidth:j;k=c.ui.hasScroll(i)?i.scrollHeight:k;e.parentData={element:i,left:n.left,top:n.top,width:j,height:k}}}},resize:function(e){var i=c(this).data("resizable"),n=i.options,m=i.containerOffset,l=i.position;e=i._aspectRatio||e.shiftKey;var k={top:0,left:0},j=i.containerElement;if(j[0]!=document&&/static/.test(j.css("position"))){k=m}if(l.left<(i._helper?m.left:0)){i.size.width+=i._helper?i.position.left-m.left:i.position.left-k.left;if(e){i.size.height=i.size.width/n.aspectRatio}i.position.left=n.helper?m.left:0}if(l.top<(i._helper?m.top:0)){i.size.height+=i._helper?i.position.top-m.top:i.position.top;if(e){i.size.width=i.size.height*n.aspectRatio}i.position.top=i._helper?m.top:0}i.offset.left=i.parentData.left+i.position.left;i.offset.top=i.parentData.top+i.position.top;n=Math.abs((i._helper?i.offset.left-k.left:i.offset.left-k.left)+i.sizeDiff.width);m=Math.abs((i._helper?i.offset.top-k.top:i.offset.top-m.top)+i.sizeDiff.height);l=i.containerElement.get(0)==i.element.parent().get(0);k=/relative|absolute/.test(i.containerElement.css("position"));if(l&&k){n-=i.parentData.left}if(n+i.size.width>=i.parentData.width){i.size.width=i.parentData.width-n;if(e){i.size.height=i.size.width/i.aspectRatio}}if(m+i.size.height>=i.parentData.height){i.size.height=i.parentData.height-m;if(e){i.size.width=i.size.height*i.aspectRatio}}},stop:function(){var e=c(this).data("resizable"),j=e.options,p=e.containerOffset,o=e.containerPosition,n=e.containerElement,m=c(e.helper),l=m.offset(),k=m.outerWidth()-e.sizeDiff.width;m=m.outerHeight()-e.sizeDiff.height;e._helper&&!j.animate&&/relative/.test(n.css("position"))&&c(this).css({left:l.left-o.left-p.left,width:k,height:m});e._helper&&!j.animate&&/static/.test(n.css("position"))&&c(this).css({left:l.left-o.left-p.left,width:k,height:m})}});c.ui.plugin.add("resizable","ghost",{start:function(){var d=c(this).data("resizable"),e=d.options,f=d.size;d.ghost=d.originalElement.clone();d.ghost.css({opacity:0.25,display:"block",position:"relative",height:f.height,width:f.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass(typeof e.ghost=="string"?e.ghost:"");d.ghost.appendTo(d.helper)},resize:function(){var d=c(this).data("resizable");d.ghost&&d.ghost.css({position:"relative",height:d.size.height,width:d.size.width})},stop:function(){var d=c(this).data("resizable");d.ghost&&d.helper&&d.helper.get(0).removeChild(d.ghost.get(0))}});c.ui.plugin.add("resizable","grid",{resize:function(){var e=c(this).data("resizable"),i=e.options,n=e.size,m=e.originalSize,l=e.originalPosition,k=e.axis;i.grid=typeof i.grid=="number"?[i.grid,i.grid]:i.grid;var j=Math.round((n.width-m.width)/(i.grid[0]||1))*(i.grid[0]||1);i=Math.round((n.height-m.height)/(i.grid[1]||1))*(i.grid[1]||1);if(/^(se|s|e)$/.test(k)){e.size.width=m.width+j;e.size.height=m.height+i}else{if(/^(ne)$/.test(k)){e.size.width=m.width+j;e.size.height=m.height+i;e.position.top=l.top-i}else{if(/^(sw)$/.test(k)){e.size.width=m.width+j;e.size.height=m.height+i}else{e.size.width=m.width+j;e.size.height=m.height+i;e.position.top=l.top-i}e.position.left=l.left-j}}}});var a=function(d){return parseInt(d,10)||0},b=function(d){return !isNaN(parseInt(d,10))}})(jQuery);(function(a){a.widget("ui.selectable",a.ui.mouse,{options:{appendTo:"body",autoRefresh:true,distance:0,filter:"*",tolerance:"touch"},_create:function(){var d=this;this.element.addClass("ui-selectable");this.dragged=false;var b;this.refresh=function(){b=a(d.options.filter,d.element[0]);b.each(function(){var e=a(this),c=e.offset();a.data(this,"selectable-item",{element:this,$element:e,left:c.left,top:c.top,right:c.left+e.outerWidth(),bottom:c.top+e.outerHeight(),startselected:false,selected:e.hasClass("ui-selected"),selecting:e.hasClass("ui-selecting"),unselecting:e.hasClass("ui-unselecting")})})};this.refresh();this.selectees=b.addClass("ui-selectee");this._mouseInit();this.helper=a("<div class='ui-selectable-helper'></div>")},destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item");this.element.removeClass("ui-selectable ui-selectable-disabled").removeData("selectable").unbind(".selectable");this._mouseDestroy();return this},_mouseStart:function(g){var b=this;this.opos=[g.pageX,g.pageY];if(!this.options.disabled){var e=this.options;this.selectees=a(e.filter,this.element[0]);this._trigger("start",g);a(e.appendTo).append(this.helper);this.helper.css({left:g.clientX,top:g.clientY,width:0,height:0});e.autoRefresh&&this.refresh();this.selectees.filter(".ui-selected").each(function(){var c=a.data(this,"selectable-item");c.startselected=true;if(!g.metaKey){c.$element.removeClass("ui-selected");c.selected=false;c.$element.addClass("ui-unselecting");c.unselecting=true;b._trigger("unselecting",g,{unselecting:c.element})}});a(g.target).parents().andSelf().each(function(){var c=a.data(this,"selectable-item");if(c){var d=!g.metaKey||!c.$element.hasClass("ui-selected");c.$element.removeClass(d?"ui-unselecting":"ui-selected").addClass(d?"ui-selecting":"ui-unselecting");c.unselecting=!d;c.selecting=d;(c.selected=d)?b._trigger("selecting",g,{selecting:c.element}):b._trigger("unselecting",g,{unselecting:c.element});return false}})}},_mouseDrag:function(q){var o=this;this.dragged=true;if(!this.options.disabled){var p=this.options,e=this.opos[0],n=this.opos[1],m=q.pageX,l=q.pageY;if(e>m){var k=m;m=e;e=k}if(n>l){k=l;l=n;n=k}this.helper.css({left:e,top:n,width:m-e,height:l-n});this.selectees.each(function(){var b=a.data(this,"selectable-item");if(!(!b||b.element==o.element[0])){var c=false;if(p.tolerance=="touch"){c=!(b.left>m||b.right<e||b.top>l||b.bottom<n)}else{if(p.tolerance=="fit"){c=b.left>e&&b.right<m&&b.top>n&&b.bottom<l}}if(c){if(b.selected){b.$element.removeClass("ui-selected");b.selected=false}if(b.unselecting){b.$element.removeClass("ui-unselecting");b.unselecting=false}if(!b.selecting){b.$element.addClass("ui-selecting");b.selecting=true;o._trigger("selecting",q,{selecting:b.element})}}else{if(b.selecting){if(q.metaKey&&b.startselected){b.$element.removeClass("ui-selecting");b.selecting=false;b.$element.addClass("ui-selected");b.selected=true}else{b.$element.removeClass("ui-selecting");b.selecting=false;if(b.startselected){b.$element.addClass("ui-unselecting");b.unselecting=true}o._trigger("unselecting",q,{unselecting:b.element})}}if(b.selected){if(!q.metaKey&&!b.startselected){b.$element.removeClass("ui-selected");b.selected=false;b.$element.addClass("ui-unselecting");b.unselecting=true;o._trigger("unselecting",q,{unselecting:b.element})}}}}});return false}},_mouseStop:function(d){var b=this;this.dragged=false;a(".ui-unselecting",this.element[0]).each(function(){var c=a.data(this,"selectable-item");c.$element.removeClass("ui-unselecting");c.unselecting=false;c.startselected=false;b._trigger("unselected",d,{unselected:c.element})});a(".ui-selecting",this.element[0]).each(function(){var c=a.data(this,"selectable-item");c.$element.removeClass("ui-selecting").addClass("ui-selected");c.selecting=false;c.selected=true;c.startselected=true;b._trigger("selected",d,{selected:c.element})});this._trigger("stop",d);this.helper.remove();return false}});a.extend(a.ui.selectable,{version:"1.8.13"})})(jQuery);(function(a){a.widget("ui.sortable",a.ui.mouse,{widgetEventPrefix:"sort",options:{appendTo:"parent",axis:false,connectWith:false,containment:false,cursor:"auto",cursorAt:false,dropOnEmpty:true,forcePlaceholderSize:false,forceHelperSize:false,grid:false,handle:false,helper:"original",items:"> *",opacity:false,placeholder:false,revert:false,scroll:true,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1000},_create:function(){var b=this.options;this.containerCache={};this.element.addClass("ui-sortable");this.refresh();this.floating=this.items.length?b.axis==="x"||/left|right/.test(this.items[0].item.css("float"))||/inline|table-cell/.test(this.items[0].item.css("display")):false;this.offset=this.element.offset();this._mouseInit()},destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled").removeData("sortable").unbind(".sortable");this._mouseDestroy();for(var b=this.items.length-1;b>=0;b--){this.items[b].item.removeData("sortable-item")}return this},_setOption:function(d,c){if(d==="disabled"){this.options[d]=c;this.widget()[c?"addClass":"removeClass"]("ui-sortable-disabled")}else{a.Widget.prototype._setOption.apply(this,arguments)}},_mouseCapture:function(g,d){if(this.reverting){return false}if(this.options.disabled||this.options.type=="static"){return false}this._refreshItems(g);var j=null,i=this;a(g.target).parents().each(function(){if(a.data(this,"sortable-item")==i){j=a(this);return false}});if(a.data(g.target,"sortable-item")==i){j=a(g.target)}if(!j){return false}if(this.options.handle&&!d){var h=false;a(this.options.handle,j).find("*").andSelf().each(function(){if(this==g.target){h=true}});if(!h){return false}}this.currentItem=j;this._removeCurrentsFromItems();return true},_mouseStart:function(f,d,h){d=this.options;var g=this;this.currentContainer=this;this.refreshPositions();this.helper=this._createHelper(f);this._cacheHelperProportions();this._cacheMargins();this.scrollParent=this.helper.scrollParent();this.offset=this.currentItem.offset();this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left};this.helper.css("position","absolute");this.cssPosition=this.helper.css("position");a.extend(this.offset,{click:{left:f.pageX-this.offset.left,top:f.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()});this.originalPosition=this._generatePosition(f);this.originalPageX=f.pageX;this.originalPageY=f.pageY;d.cursorAt&&this._adjustOffsetFromHelper(d.cursorAt);this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]};this.helper[0]!=this.currentItem[0]&&this.currentItem.hide();this._createPlaceholder();d.containment&&this._setContainment();if(d.cursor){if(a("body").css("cursor")){this._storedCursor=a("body").css("cursor")}a("body").css("cursor",d.cursor)}if(d.opacity){if(this.helper.css("opacity")){this._storedOpacity=this.helper.css("opacity")}this.helper.css("opacity",d.opacity)}if(d.zIndex){if(this.helper.css("zIndex")){this._storedZIndex=this.helper.css("zIndex")}this.helper.css("zIndex",d.zIndex)}if(this.scrollParent[0]!=document&&this.scrollParent[0].tagName!="HTML"){this.overflowOffset=this.scrollParent.offset()}this._trigger("start",f,this._uiHash());this._preserveHelperProportions||this._cacheHelperProportions();if(!h){for(h=this.containers.length-1;h>=0;h--){this.containers[h]._trigger("activate",f,g._uiHash(this))}}if(a.ui.ddmanager){a.ui.ddmanager.current=this}a.ui.ddmanager&&!d.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,f);this.dragging=true;this.helper.addClass("ui-sortable-helper");this._mouseDrag(f);return true},_mouseDrag:function(g){this.position=this._generatePosition(g);this.positionAbs=this._convertPositionTo("absolute");if(!this.lastPositionAbs){this.lastPositionAbs=this.positionAbs}if(this.options.scroll){var d=this.options,j=false;if(this.scrollParent[0]!=document&&this.scrollParent[0].tagName!="HTML"){if(this.overflowOffset.top+this.scrollParent[0].offsetHeight-g.pageY<d.scrollSensitivity){this.scrollParent[0].scrollTop=j=this.scrollParent[0].scrollTop+d.scrollSpeed}else{if(g.pageY-this.overflowOffset.top<d.scrollSensitivity){this.scrollParent[0].scrollTop=j=this.scrollParent[0].scrollTop-d.scrollSpeed}}if(this.overflowOffset.left+this.scrollParent[0].offsetWidth-g.pageX<d.scrollSensitivity){this.scrollParent[0].scrollLeft=j=this.scrollParent[0].scrollLeft+d.scrollSpeed}else{if(g.pageX-this.overflowOffset.left<d.scrollSensitivity){this.scrollParent[0].scrollLeft=j=this.scrollParent[0].scrollLeft-d.scrollSpeed}}}else{if(g.pageY-a(document).scrollTop()<d.scrollSensitivity){j=a(document).scrollTop(a(document).scrollTop()-d.scrollSpeed)}else{if(a(window).height()-(g.pageY-a(document).scrollTop())<d.scrollSensitivity){j=a(document).scrollTop(a(document).scrollTop()+d.scrollSpeed)}}if(g.pageX-a(document).scrollLeft()<d.scrollSensitivity){j=a(document).scrollLeft(a(document).scrollLeft()-d.scrollSpeed)}else{if(a(window).width()-(g.pageX-a(document).scrollLeft())<d.scrollSensitivity){j=a(document).scrollLeft(a(document).scrollLeft()+d.scrollSpeed)}}}j!==false&&a.ui.ddmanager&&!d.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,g)}this.positionAbs=this._convertPositionTo("absolute");if(!this.options.axis||this.options.axis!="y"){this.helper[0].style.left=this.position.left+"px"}if(!this.options.axis||this.options.axis!="x"){this.helper[0].style.top=this.position.top+"px"}for(d=this.items.length-1;d>=0;d--){j=this.items[d];var i=j.item[0],h=this._intersectsWithPointer(j);if(h){if(i!=this.currentItem[0]&&this.placeholder[h==1?"next":"prev"]()[0]!=i&&!a.ui.contains(this.placeholder[0],i)&&(this.options.type=="semi-dynamic"?!a.ui.contains(this.element[0],i):true)){this.direction=h==1?"down":"up";if(this.options.tolerance=="pointer"||this._intersectsWithSides(j)){this._rearrange(g,j)}else{break}this._trigger("change",g,this._uiHash());break}}}this._contactContainers(g);a.ui.ddmanager&&a.ui.ddmanager.drag(this,g);this._trigger("sort",g,this._uiHash());this.lastPositionAbs=this.positionAbs;return false},_mouseStop:function(e,d){if(e){a.ui.ddmanager&&!this.options.dropBehaviour&&a.ui.ddmanager.drop(this,e);if(this.options.revert){var f=this;d=f.placeholder.offset();f.reverting=true;a(this.helper).animate({left:d.left-this.offset.parent.left-f.margins.left+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollLeft),top:d.top-this.offset.parent.top-f.margins.top+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollTop)},parseInt(this.options.revert,10)||500,function(){f._clear(e)})}else{this._clear(e,d)}return false}},cancel:function(){var d=this;if(this.dragging){this._mouseUp({target:null});this.options.helper=="original"?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var c=this.containers.length-1;c>=0;c--){this.containers[c]._trigger("deactivate",null,d._uiHash(this));if(this.containers[c].containerCache.over){this.containers[c]._trigger("out",null,d._uiHash(this));this.containers[c].containerCache.over=0}}}if(this.placeholder){this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]);this.options.helper!="original"&&this.helper&&this.helper[0].parentNode&&this.helper.remove();a.extend(this,{helper:null,dragging:false,reverting:false,_noFinalSort:null});this.domPosition.prev?a(this.domPosition.prev).after(this.currentItem):a(this.domPosition.parent).prepend(this.currentItem)}return this},serialize:function(e){var d=this._getItemsAsjQuery(e&&e.connected),f=[];e=e||{};a(d).each(function(){var b=(a(e.item||this).attr(e.attribute||"id")||"").match(e.expression||/(.+)[-=_](.+)/);if(b){f.push((e.key||b[1]+"[]")+"="+(e.key&&e.expression?b[1]:b[2]))}});!f.length&&e.key&&f.push(e.key+"=");return f.join("&")},toArray:function(e){var d=this._getItemsAsjQuery(e&&e.connected),f=[];e=e||{};d.each(function(){f.push(a(e.item||this).attr(e.attribute||"id")||"")});return f},_intersectsWith:function(v){var u=this.positionAbs.left,t=u+this.helperProportions.width,s=this.positionAbs.top,r=s+this.helperProportions.height,q=v.left,p=q+v.width,o=v.top,m=o+v.height,n=this.offset.click.top,d=this.offset.click.left;n=s+n>o&&s+n<m&&u+d>q&&u+d<p;return this.options.tolerance=="pointer"||this.options.forcePointerForContainers||this.options.tolerance!="pointer"&&this.helperProportions[this.floating?"width":"height"]>v[this.floating?"width":"height"]?n:q<u+this.helperProportions.width/2&&t-this.helperProportions.width/2<p&&o<s+this.helperProportions.height/2&&r-this.helperProportions.height/2<m},_intersectsWithPointer:function(e){var d=a.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,e.top,e.height);e=a.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,e.left,e.width);d=d&&e;e=this._getDragVerticalDirection();var f=this._getDragHorizontalDirection();if(!d){return false}return this.floating?f&&f=="right"||e=="down"?2:1:e&&(e=="down"?2:1)},_intersectsWithSides:function(f){var d=a.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,f.top+f.height/2,f.height);f=a.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,f.left+f.width/2,f.width);var h=this._getDragVerticalDirection(),g=this._getDragHorizontalDirection();return this.floating&&g?g=="right"&&f||g=="left"&&!f:h&&(h=="down"&&d||h=="up"&&!d)},_getDragVerticalDirection:function(){var b=this.positionAbs.top-this.lastPositionAbs.top;return b!=0&&(b>0?"down":"up")},_getDragHorizontalDirection:function(){var b=this.positionAbs.left-this.lastPositionAbs.left;return b!=0&&(b>0?"right":"left")},refresh:function(b){this._refreshItems(b);this.refreshPositions();return this},_connectWith:function(){var b=this.options;return b.connectWith.constructor==String?[b.connectWith]:b.connectWith},_getItemsAsjQuery:function(i){var d=[],n=[],m=this._connectWith();if(m&&i){for(i=m.length-1;i>=0;i--){for(var l=a(m[i]),k=l.length-1;k>=0;k--){var j=a.data(l[k],"sortable");if(j&&j!=this&&!j.options.disabled){n.push([a.isFunction(j.options.items)?j.options.items.call(j.element):a(j.options.items,j.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),j])}}}}n.push([a.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):a(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]);for(i=n.length-1;i>=0;i--){n[i][0].each(function(){d.push(this)})}return a(d)},_removeCurrentsFromItems:function(){for(var e=this.currentItem.find(":data(sortable-item)"),d=0;d<this.items.length;d++){for(var f=0;f<e.length;f++){e[f]==this.items[d].item[0]&&this.items.splice(d,1)}}},_refreshItems:function(j){this.items=[];this.containers=[this];var d=this.items,p=[[a.isFunction(this.options.items)?this.options.items.call(this.element[0],j,{item:this.currentItem}):a(this.options.items,this.element),this]],o=this._connectWith();if(o){for(var n=o.length-1;n>=0;n--){for(var m=a(o[n]),l=m.length-1;l>=0;l--){var k=a.data(m[l],"sortable");if(k&&k!=this&&!k.options.disabled){p.push([a.isFunction(k.options.items)?k.options.items.call(k.element[0],j,{item:this.currentItem}):a(k.options.items,k.element),k]);this.containers.push(k)}}}}for(n=p.length-1;n>=0;n--){j=p[n][1];o=p[n][0];l=0;for(m=o.length;l<m;l++){k=a(o[l]);k.data("sortable-item",j);d.push({item:k,instance:j,width:0,height:0,left:0,top:0})}}},refreshPositions:function(f){if(this.offsetParent&&this.helper){this.offset.parent=this._getParentOffset()}for(var d=this.items.length-1;d>=0;d--){var h=this.items[d];if(!(h.instance!=this.currentContainer&&this.currentContainer&&h.item[0]!=this.currentItem[0])){var g=this.options.toleranceElement?a(this.options.toleranceElement,h.item):h.item;if(!f){h.width=g.outerWidth();h.height=g.outerHeight()}g=g.offset();h.left=g.left;h.top=g.top}}if(this.options.custom&&this.options.custom.refreshContainers){this.options.custom.refreshContainers.call(this)}else{for(d=this.containers.length-1;d>=0;d--){g=this.containers[d].element.offset();this.containers[d].containerCache.left=g.left;this.containers[d].containerCache.top=g.top;this.containers[d].containerCache.width=this.containers[d].element.outerWidth();this.containers[d].containerCache.height=this.containers[d].element.outerHeight()}}return this},_createPlaceholder:function(f){var d=f||this,h=d.options;if(!h.placeholder||h.placeholder.constructor==String){var g=h.placeholder;h.placeholder={element:function(){var b=a(document.createElement(d.currentItem[0].nodeName)).addClass(g||d.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper")[0];if(!g){b.style.visibility="hidden"}return b},update:function(c,b){if(!(g&&!h.forcePlaceholderSize)){b.height()||b.height(d.currentItem.innerHeight()-parseInt(d.currentItem.css("paddingTop")||0,10)-parseInt(d.currentItem.css("paddingBottom")||0,10));b.width()||b.width(d.currentItem.innerWidth()-parseInt(d.currentItem.css("paddingLeft")||0,10)-parseInt(d.currentItem.css("paddingRight")||0,10))}}}}d.placeholder=a(h.placeholder.element.call(d.element,d.currentItem));d.currentItem.after(d.placeholder);h.placeholder.update(d,d.placeholder)},_contactContainers:function(i){for(var d=null,n=null,m=this.containers.length-1;m>=0;m--){if(!a.ui.contains(this.currentItem[0],this.containers[m].element[0])){if(this._intersectsWith(this.containers[m].containerCache)){if(!(d&&a.ui.contains(this.containers[m].element[0],d.element[0]))){d=this.containers[m];n=m}}else{if(this.containers[m].containerCache.over){this.containers[m]._trigger("out",i,this._uiHash(this));this.containers[m].containerCache.over=0}}}}if(d){if(this.containers.length===1){this.containers[n]._trigger("over",i,this._uiHash(this));this.containers[n].containerCache.over=1}else{if(this.currentContainer!=this.containers[n]){d=10000;m=null;for(var l=this.positionAbs[this.containers[n].floating?"left":"top"],k=this.items.length-1;k>=0;k--){if(a.ui.contains(this.containers[n].element[0],this.items[k].item[0])){var j=this.items[k][this.containers[n].floating?"left":"top"];if(Math.abs(j-l)<d){d=Math.abs(j-l);m=this.items[k]}}}if(m||this.options.dropOnEmpty){this.currentContainer=this.containers[n];m?this._rearrange(i,m,null,true):this._rearrange(i,null,this.containers[n].element,true);this._trigger("change",i,this._uiHash());this.containers[n]._trigger("change",i,this._uiHash(this));this.options.placeholder.update(this.currentContainer,this.placeholder);this.containers[n]._trigger("over",i,this._uiHash(this));this.containers[n].containerCache.over=1}}}}},_createHelper:function(d){var c=this.options;d=a.isFunction(c.helper)?a(c.helper.apply(this.element[0],[d,this.currentItem])):c.helper=="clone"?this.currentItem.clone():this.currentItem;d.parents("body").length||a(c.appendTo!="parent"?c.appendTo:this.currentItem[0].parentNode)[0].appendChild(d[0]);if(d[0]==this.currentItem[0]){this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}}if(d[0].style.width==""||c.forceHelperSize){d.width(this.currentItem.width())}if(d[0].style.height==""||c.forceHelperSize){d.height(this.currentItem.height())}return d},_adjustOffsetFromHelper:function(b){if(typeof b=="string"){b=b.split(" ")}if(a.isArray(b)){b={left:+b[0],top:+b[1]||0}}if("left" in b){this.offset.click.left=b.left+this.margins.left}if("right" in b){this.offset.click.left=this.helperProportions.width-b.right+this.margins.left}if("top" in b){this.offset.click.top=b.top+this.margins.top}if("bottom" in b){this.offset.click.top=this.helperProportions.height-b.bottom+this.margins.top}},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var b=this.offsetParent.offset();if(this.cssPosition=="absolute"&&this.scrollParent[0]!=document&&a.ui.contains(this.scrollParent[0],this.offsetParent[0])){b.left+=this.scrollParent.scrollLeft();b.top+=this.scrollParent.scrollTop()}if(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()=="html"&&a.browser.msie){b={top:0,left:0}}return{top:b.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:b.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition=="relative"){var b=this.currentItem.position();return{top:b.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:b.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}else{return{top:0,left:0}}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e=this.options;if(e.containment=="parent"){e.containment=this.helper[0].parentNode}if(e.containment=="document"||e.containment=="window"){this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,a(e.containment=="document"?document:window).width()-this.helperProportions.width-this.margins.left,(a(e.containment=="document"?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]}if(!/^(document|window|parent)$/.test(e.containment)){var d=a(e.containment)[0];e=a(e.containment).offset();var f=a(d).css("overflow")!="hidden";this.containment=[e.left+(parseInt(a(d).css("borderLeftWidth"),10)||0)+(parseInt(a(d).css("paddingLeft"),10)||0)-this.margins.left,e.top+(parseInt(a(d).css("borderTopWidth"),10)||0)+(parseInt(a(d).css("paddingTop"),10)||0)-this.margins.top,e.left+(f?Math.max(d.scrollWidth,d.offsetWidth):d.offsetWidth)-(parseInt(a(d).css("borderLeftWidth"),10)||0)-(parseInt(a(d).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,e.top+(f?Math.max(d.scrollHeight,d.offsetHeight):d.offsetHeight)-(parseInt(a(d).css("borderTopWidth"),10)||0)-(parseInt(a(d).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top]}},_convertPositionTo:function(f,d){if(!d){d=this.position}f=f=="absolute"?1:-1;var h=this.cssPosition=="absolute"&&!(this.scrollParent[0]!=document&&a.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,g=/(html|body)/i.test(h[0].tagName);return{top:d.top+this.offset.relative.top*f+this.offset.parent.top*f-(a.browser.safari&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():g?0:h.scrollTop())*f),left:d.left+this.offset.relative.left*f+this.offset.parent.left*f-(a.browser.safari&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():g?0:h.scrollLeft())*f)}},_generatePosition:function(h){var d=this.options,l=this.cssPosition=="absolute"&&!(this.scrollParent[0]!=document&&a.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,k=/(html|body)/i.test(l[0].tagName);if(this.cssPosition=="relative"&&!(this.scrollParent[0]!=document&&this.scrollParent[0]!=this.offsetParent[0])){this.offset.relative=this._getRelativeOffset()}var j=h.pageX,i=h.pageY;if(this.originalPosition){if(this.containment){if(h.pageX-this.offset.click.left<this.containment[0]){j=this.containment[0]+this.offset.click.left}if(h.pageY-this.offset.click.top<this.containment[1]){i=this.containment[1]+this.offset.click.top}if(h.pageX-this.offset.click.left>this.containment[2]){j=this.containment[2]+this.offset.click.left}if(h.pageY-this.offset.click.top>this.containment[3]){i=this.containment[3]+this.offset.click.top}}if(d.grid){i=this.originalPageY+Math.round((i-this.originalPageY)/d.grid[1])*d.grid[1];i=this.containment?!(i-this.offset.click.top<this.containment[1]||i-this.offset.click.top>this.containment[3])?i:!(i-this.offset.click.top<this.containment[1])?i-d.grid[1]:i+d.grid[1]:i;j=this.originalPageX+Math.round((j-this.originalPageX)/d.grid[0])*d.grid[0];j=this.containment?!(j-this.offset.click.left<this.containment[0]||j-this.offset.click.left>this.containment[2])?j:!(j-this.offset.click.left<this.containment[0])?j-d.grid[0]:j+d.grid[0]:j}}return{top:i-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(a.browser.safari&&this.cssPosition=="fixed"?0:this.cssPosition=="fixed"?-this.scrollParent.scrollTop():k?0:l.scrollTop()),left:j-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(a.browser.safari&&this.cssPosition=="fixed"?0:this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():k?0:l.scrollLeft())}},_rearrange:function(h,d,l,k){l?l[0].appendChild(this.placeholder[0]):d.item[0].parentNode.insertBefore(this.placeholder[0],this.direction=="down"?d.item[0]:d.item[0].nextSibling);this.counter=this.counter?++this.counter:1;var j=this,i=this.counter;window.setTimeout(function(){i==j.counter&&j.refreshPositions(!k)},0)},_clear:function(f,d){this.reverting=false;var h=[];!this._noFinalSort&&this.currentItem[0].parentNode&&this.placeholder.before(this.currentItem);this._noFinalSort=null;if(this.helper[0]==this.currentItem[0]){for(var g in this._storedCSS){if(this._storedCSS[g]=="auto"||this._storedCSS[g]=="static"){this._storedCSS[g]=""}}this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else{this.currentItem.show()}this.fromOutside&&!d&&h.push(function(b){this._trigger("receive",b,this._uiHash(this.fromOutside))});if((this.fromOutside||this.domPosition.prev!=this.currentItem.prev().not(".ui-sortable-helper")[0]||this.domPosition.parent!=this.currentItem.parent()[0])&&!d){h.push(function(b){this._trigger("update",b,this._uiHash())})}if(!a.ui.contains(this.element[0],this.currentItem[0])){d||h.push(function(b){this._trigger("remove",b,this._uiHash())});for(g=this.containers.length-1;g>=0;g--){if(a.ui.contains(this.containers[g].element[0],this.currentItem[0])&&!d){h.push(function(b){return function(c){b._trigger("receive",c,this._uiHash(this))}}.call(this,this.containers[g]));h.push(function(b){return function(c){b._trigger("update",c,this._uiHash(this))}}.call(this,this.containers[g]))}}}for(g=this.containers.length-1;g>=0;g--){d||h.push(function(b){return function(c){b._trigger("deactivate",c,this._uiHash(this))}}.call(this,this.containers[g]));if(this.containers[g].containerCache.over){h.push(function(b){return function(c){b._trigger("out",c,this._uiHash(this))}}.call(this,this.containers[g]));this.containers[g].containerCache.over=0}}this._storedCursor&&a("body").css("cursor",this._storedCursor);this._storedOpacity&&this.helper.css("opacity",this._storedOpacity);if(this._storedZIndex){this.helper.css("zIndex",this._storedZIndex=="auto"?"":this._storedZIndex)}this.dragging=false;if(this.cancelHelperRemoval){if(!d){this._trigger("beforeStop",f,this._uiHash());for(g=0;g<h.length;g++){h[g].call(this,f)}this._trigger("stop",f,this._uiHash())}return false}d||this._trigger("beforeStop",f,this._uiHash());this.placeholder[0].parentNode.removeChild(this.placeholder[0]);this.helper[0]!=this.currentItem[0]&&this.helper.remove();this.helper=null;if(!d){for(g=0;g<h.length;g++){h[g].call(this,f)}this._trigger("stop",f,this._uiHash())}this.fromOutside=false;return true},_trigger:function(){a.Widget.prototype._trigger.apply(this,arguments)===false&&this.cancel()},_uiHash:function(d){var c=d||this;return{helper:c.helper,placeholder:c.placeholder||a([]),position:c.position,originalPosition:c.originalPosition,offset:c.positionAbs,item:c.currentItem,sender:d?d.element:null}}});a.extend(a.ui.sortable,{version:"1.8.13"})})(jQuery);(function(b){var a;b.rails=a={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote]",formSubmitSelector:"form",formInputClickSelector:"form input[type=submit], form input[type=image], form button[type=submit], form button:not([type])",disableSelector:"input[data-disable-with], button[data-disable-with], textarea[data-disable-with]",enableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled",requiredInputSelector:"input[name][required],textarea[name][required]",fileInputSelector:"input:file",CSRFProtection:function(d){var c=b('meta[name="csrf-token"]').attr("content");if(c){d.setRequestHeader("X-CSRF-Token",c)}},fire:function(f,c,e){var d=b.Event(c);f.trigger(d,e);return d.result!==false},confirm:function(c){return confirm(c)},ajax:function(c){return b.ajax(c)},handleRemote:function(f){var h,d,g,c=f.data("type")||(b.ajaxSettings&&b.ajaxSettings.dataType);if(a.fire(f,"ajax:before")){if(f.is("form")){h=f.attr("method");d=f.attr("action");g=f.serializeArray();var e=f.data("ujs:submit-button");if(e){g.push(e);f.data("ujs:submit-button",null)}}else{h=f.data("method");d=f.attr("href");g=null}a.ajax({url:d,type:h||"GET",data:g,dataType:c,beforeSend:function(j,i){if(i.dataType===undefined){j.setRequestHeader("accept","*/*;q=0.5, "+i.accepts.script)}return a.fire(f,"ajax:beforeSend",[j,i])},success:function(j,i,k){f.trigger("ajax:success",[j,i,k])},complete:function(j,i){f.trigger("ajax:complete",[j,i])},error:function(k,i,j){f.trigger("ajax:error",[k,i,j])}})}},handleMethod:function(g){var d=g.attr("href"),i=g.data("method"),e=b("meta[name=csrf-token]").attr("content"),h=b("meta[name=csrf-param]").attr("content"),f=b('<form method="post" action="'+d+'"></form>'),c='<input name="_method" value="'+i+'" type="hidden" />';if(h!==undefined&&e!==undefined){c+='<input name="'+h+'" value="'+e+'" type="hidden" />'}f.hide().append(c).appendTo("body");f.submit()},disableFormElements:function(c){c.find(a.disableSelector).each(function(){var d=b(this),e=d.is("button")?"html":"val";d.data("ujs:enable-with",d[e]());d[e](d.data("disable-with"));d.attr("disabled","disabled")})},enableFormElements:function(c){c.find(a.enableSelector).each(function(){var d=b(this),e=d.is("button")?"html":"val";if(d.data("ujs:enable-with")){d[e](d.data("ujs:enable-with"))}d.removeAttr("disabled")})},allowAction:function(c){var d=c.data("confirm"),e=false,f;if(!d){return true}if(a.fire(c,"confirm")){e=a.confirm(d);f=a.fire(c,"confirm:complete",[e])}return e&&f},blankInputs:function(h,e,g){var d=b(),f,c=e||"input,textarea";h.find(c).each(function(){f=b(this);if(g?f.val():!f.val()){d=d.add(f)}});return d.length?d:false},nonBlankInputs:function(d,c){return a.blankInputs(d,c,true)},stopEverything:function(c){c.stopImmediatePropagation();return false},callFormSubmitBindings:function(d){var c=d.data("events"),e=true;if(c!==undefined&&c.submit!==undefined){b.each(c.submit,function(f,g){if(typeof g.handler==="function"){return e=g.handler(g.data)}})}return e}};if("ajaxPrefilter" in b){b.ajaxPrefilter(function(c,e,d){a.CSRFProtection(d)})}else{b(document).ajaxSend(function(c,d){a.CSRFProtection(d)})}b(a.linkClickSelector).live("click.rails",function(d){var c=b(this);if(!a.allowAction(c)){return a.stopEverything(d)}if(c.data("remote")!==undefined){a.handleRemote(c);return false}else{if(c.data("method")){a.handleMethod(c);return false}}});b(a.formSubmitSelector).live("submit.rails",function(h){var f=b(this),g=f.data("remote")!==undefined,d=a.blankInputs(f,a.requiredInputSelector),c=a.nonBlankInputs(f,a.fileInputSelector);if(!a.allowAction(f)){return a.stopEverything(h)}if(d&&a.fire(f,"ajax:aborted:required",[d])){return !g}if(g){if(c){return a.fire(f,"ajax:aborted:file",[c])}if(!b.support.submitBubbles&&a.callFormSubmitBindings(f)===false){return a.stopEverything(h)}a.handleRemote(f);return false}else{setTimeout(function(){a.disableFormElements(f)},13)}});b(a.formInputClickSelector).live("click.rails",function(e){var d=b(this);if(!a.allowAction(d)){return a.stopEverything(e)}var c=d.attr("name"),f=c?{name:c,value:d.val()}:null;d.closest("form").data("ujs:submit-button",f)});b(a.formSubmitSelector).live("ajax:beforeSend.rails",function(c){if(this==c.target){a.disableFormElements(b(this))}});b(a.formSubmitSelector).live("ajax:complete.rails",function(c){if(this==c.target){a.enableFormElements(b(this))}})})(jQuery);(function(a){a.fn.equalHeight=function(){tallest=0;this.each(function(){thisHeight=a(this).height();if(thisHeight>tallest){tallest=thisHeight}});this.each(function(){a(this).attr("min-height",tallest)})}})(jQuery);(function(){if(window.CKEDITOR&&window.CKEDITOR.dom){return}if(!window.CKEDITOR){window.CKEDITOR=(function(){var a={timestamp:"B49E5BQ",version:"3.6",revision:"6902",_:{},status:"unloaded",basePath:(function(){var d=window.CKEDITOR_BASEPATH||"";if(!d){var e=document.getElementsByTagName("script");for(var f=0;f<e.length;f++){var g=e[f].src.match(/(^|.*[\\\/])ckeditor(?:_basic)?(?:_source)?.js(?:\?.*)?$/i);if(g){d=g[1];break}}}if(d.indexOf(":/")==-1){if(d.indexOf("/")===0){d=location.href.match(/^.*?:\/\/[^\/]*/)[0]+d}else{d=location.href.match(/^[^\?]*\/(?:)/)[0]+d}}if(!d){throw'The CKEditor installation path could not be automatically detected. Please set the global variable "CKEDITOR_BASEPATH" before creating editor instances.'}return d})(),getUrl:function(d){if(d.indexOf(":/")==-1&&d.indexOf("/")!==0){d=this.basePath+d}if(this.timestamp&&d.charAt(d.length-1)!="/"&&!/[&?]t=/.test(d)){d+=(d.indexOf("?")>=0?"&":"?")+"t="+this.timestamp}return d}},b=window.CKEDITOR_GETURL;if(b){var c=a.getUrl;a.getUrl=function(d){return b.call(a,d)||c.call(a,d)}}return a})()}var a=CKEDITOR;if(!a.event){a.event=function(){};a.event.implementOn=function(b){var c=a.event.prototype;for(var d in c){if(b[d]==undefined){b[d]=c[d]}}};a.event.prototype=(function(){var b=function(d){var e=d.getPrivate&&d.getPrivate()||d._||(d._={});return e.events||(e.events={})},c=function(d){this.name=d;this.listeners=[]};c.prototype={getListenerIndex:function(d){for(var e=0,f=this.listeners;e<f.length;e++){if(f[e].fn==d){return e}}return -1}};return{on:function(d,e,f,g,h){var i=b(this),j=i[d]||(i[d]=new c(d));if(j.getListenerIndex(e)<0){var k=j.listeners;if(!f){f=this}if(isNaN(h)){h=10}var l=this,m=function(o,p,q,r){var s={name:d,sender:this,editor:o,data:p,listenerData:g,stop:q,cancel:r,removeListener:function(){l.removeListener(d,e)}};e.call(f,s);return s.data};m.fn=e;m.priority=h;for(var n=k.length-1;n>=0;n--){if(k[n].priority<=h){k.splice(n+1,0,m);return}}k.unshift(m)}},fire:(function(){var d=false,e=function(){d=true},f=false,g=function(){f=true};return function(h,i,j){var k=b(this)[h],l=d,m=f;d=f=false;if(k){var n=k.listeners;if(n.length){n=n.slice(0);for(var o=0;o<n.length;o++){var p=n[o].call(this,j,i,e,g);if(typeof p!="undefined"){i=p}if(d||f){break}}}}var q=f||(typeof i=="undefined"?false:i);d=l;f=m;return q}})(),fireOnce:function(d,e,f){var g=this.fire(d,e,f);delete b(this)[d];return g},removeListener:function(d,e){var f=b(this)[d];if(f){var g=f.getListenerIndex(e);if(g>=0){f.listeners.splice(g,1)}}},hasListeners:function(d){var e=b(this)[d];return e&&e.listeners.length>0}}})()}if(!a.editor){a.ELEMENT_MODE_NONE=0;a.ELEMENT_MODE_REPLACE=1;a.ELEMENT_MODE_APPENDTO=2;a.editor=function(b,c,d,e){var f=this;f._={instanceConfig:b,element:c,data:e};f.elementMode=d||0;a.event.call(f);f._init()};a.editor.replace=function(b,c){var d=b;if(typeof d!="object"){d=document.getElementById(b);if(d&&d.tagName.toLowerCase() in {style:1,script:1,base:1,link:1,meta:1,title:1}){d=null}if(!d){var e=0,f=document.getElementsByName(b);while((d=f[e++])&&d.tagName.toLowerCase()!="textarea"){}}if(!d){throw'[CKEDITOR.editor.replace] The element with id or name "'+b+'" was not found.'}}d.style.visibility="hidden";return new a.editor(c,d,1)};a.editor.appendTo=function(b,c,d){var e=b;if(typeof e!="object"){e=document.getElementById(b);if(!e){throw'[CKEDITOR.editor.appendTo] The element with id "'+b+'" was not found.'}}return new a.editor(c,e,2,d)};a.editor.prototype={_init:function(){var b=a.editor._pending||(a.editor._pending=[]);b.push(this)},fire:function(b,c){return a.event.prototype.fire.call(this,b,c,this)},fireOnce:function(b,c){return a.event.prototype.fireOnce.call(this,b,c,this)}};a.event.implementOn(a.editor.prototype,true)}if(!a.env){a.env=(function(){var b=navigator.userAgent.toLowerCase(),c=window.opera,d={ie:
/*@cc_on!@*/
false,opera:!!c&&c.version,webkit:b.indexOf(" applewebkit/")>-1,air:b.indexOf(" adobeair/")>-1,mac:b.indexOf("macintosh")>-1,quirks:document.compatMode=="BackCompat",mobile:b.indexOf("mobile")>-1,isCustomDomain:function(){if(!this.ie){return false}var g=document.domain,h=window.location.hostname;return g!=h&&g!="["+h+"]"}};d.gecko=navigator.product=="Gecko"&&!d.webkit&&!d.opera;var e=0;if(d.ie){e=parseFloat(b.match(/msie (\d+)/)[1]);d.ie8=!!document.documentMode;d.ie8Compat=document.documentMode==8;d.ie9Compat=document.documentMode==9;d.ie7Compat=e==7&&!document.documentMode||document.documentMode==7;d.ie6Compat=e<7||d.quirks}if(d.gecko){var f=b.match(/rv:([\d\.]+)/);if(f){f=f[1].split(".");e=f[0]*10000+(f[1]||0)*100+ +(f[2]||0)}}if(d.opera){e=parseFloat(c.version())}if(d.air){e=parseFloat(b.match(/ adobeair\/(\d+)/)[1])}if(d.webkit){e=parseFloat(b.match(/ applewebkit\/(\d+)/)[1])}d.version=e;d.isCompatible=!d.mobile&&(d.ie&&e>=6||d.gecko&&e>=10801||d.opera&&e>=9.5||d.air&&e>=1||d.webkit&&e>=522||false);d.cssClass="cke_browser_"+(d.ie?"ie":d.gecko?"gecko":d.opera?"opera":d.webkit?"webkit":"unknown");if(d.quirks){d.cssClass+=" cke_browser_quirks"}if(d.ie){d.cssClass+=" cke_browser_ie"+(d.version<7?"6":d.version>=8?document.documentMode:"7");if(d.quirks){d.cssClass+=" cke_browser_iequirks"}}if(d.gecko&&e<10900){d.cssClass+=" cke_browser_gecko18"}if(d.air){d.cssClass+=" cke_browser_air"}return d})()}var b=a.env;var c=b.ie;if(a.status=="unloaded"){(function(){a.event.implementOn(a);a.loadFullCore=function(){if(a.status!="basic_ready"){a.loadFullCore._load=1;return}delete a.loadFullCore;var e=document.createElement("script");e.type="text/javascript";e.src=a.basePath+"ckeditor.js";document.getElementsByTagName("head")[0].appendChild(e)};a.loadFullCoreTimeout=0;a.replaceClass="ckeditor";a.replaceByClassEnabled=1;var d=function(e,f,g,h){if(b.isCompatible){if(a.loadFullCore){a.loadFullCore()}var i=g(e,f,h);a.add(i);return i}return null};a.replace=function(e,f){return d(e,f,a.editor.replace)};a.appendTo=function(e,f,g){return d(e,f,a.editor.appendTo,g)};a.add=function(e){var f=this._.pending||(this._.pending=[]);f.push(e)};a.replaceAll=function(){var e=document.getElementsByTagName("textarea");for(var f=0;f<e.length;f++){var g=null,h=e[f];if(!h.name&&!h.id){continue}if(typeof arguments[0]=="string"){var i=new RegExp("(?:^|\\s)"+arguments[0]+"(?:$|\\s)");if(!i.test(h.className)){continue}}else{if(typeof arguments[0]=="function"){g={};if(arguments[0](h,g)===false){continue}}}this.replace(h,g)}};(function(){var e=function(){var f=a.loadFullCore,g=a.loadFullCoreTimeout;if(a.replaceByClassEnabled){a.replaceAll(a.replaceClass)}a.status="basic_ready";if(f&&f._load){f()}else{if(g){setTimeout(function(){if(a.loadFullCore){a.loadFullCore()}},g*1000)}}};if(window.addEventListener){window.addEventListener("load",e,false)}else{if(window.attachEvent){window.attachEvent("onload",e)}}})();a.status="basic_loaded"})()}a.dom={};var d=a.dom;(function(){var e=[];a.on("reset",function(){e=[]});a.tools={arrayCompare:function(f,g){if(!f&&!g){return true}if(!f||!g||f.length!=g.length){return false}for(var h=0;h<f.length;h++){if(f[h]!=g[h]){return false}}return true},clone:function(f){var g;if(f&&f instanceof Array){g=[];for(var h=0;h<f.length;h++){g[h]=this.clone(f[h])}return g}if(f===null||typeof f!="object"||f instanceof String||f instanceof Number||f instanceof Boolean||f instanceof Date||f instanceof RegExp){return f}g=new f.constructor();for(var i in f){var j=f[i];g[i]=this.clone(j)}return g},capitalize:function(f){return f.charAt(0).toUpperCase()+f.substring(1).toLowerCase()},extend:function(f){var g=arguments.length,h,i;if(typeof(h=arguments[g-1])=="boolean"){g--}else{if(typeof(h=arguments[g-2])=="boolean"){i=arguments[g-1];g-=2}}for(var j=1;j<g;j++){var k=arguments[j];for(var l in k){if(h===true||f[l]==undefined){if(!i||l in i){f[l]=k[l]}}}}return f},prototypedCopy:function(f){var g=function(){};g.prototype=f;return new g()},isArray:function(f){return !!f&&f instanceof Array},isEmpty:function(f){for(var g in f){if(f.hasOwnProperty(g)){return false}}return true},cssStyleToDomStyle:(function(){var f=document.createElement("div").style,g=typeof f.cssFloat!="undefined"?"cssFloat":typeof f.styleFloat!="undefined"?"styleFloat":"float";return function(h){if(h=="float"){return g}else{return h.replace(/-./g,function(i){return i.substr(1).toUpperCase()})}}})(),buildStyleHtml:function(f){f=[].concat(f);var g,h=[];for(var i=0;i<f.length;i++){g=f[i];if(/@import|[{}]/.test(g)){h.push("<style>"+g+"</style>")}else{h.push('<link type="text/css" rel=stylesheet href="'+g+'">')}}return h.join("")},htmlEncode:function(f){var g=function(k){var l=new d.element("span");l.setText(k);return l.getHtml()},h=g("\n").toLowerCase()=="<br>"?function(k){return g(k).replace(/<br>/gi,"\n")}:g,i=g(">")==">"?function(k){return h(k).replace(/>/g,"&gt;")}:h,j=g("  ")=="&nbsp; "?function(k){return i(k).replace(/&nbsp;/g," ")}:i;this.htmlEncode=j;return this.htmlEncode(f)},htmlEncodeAttr:function(f){return f.replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},getNextNumber:(function(){var f=0;return function(){return ++f}})(),getNextId:function(){return"cke_"+this.getNextNumber()},override:function(f,g){return g(f)},setTimeout:function(f,g,h,i,j){if(!j){j=window}if(!h){h=j}return j.setTimeout(function(){if(i){f.apply(h,[].concat(i))}else{f.apply(h)}},g||0)},trim:(function(){var f=/(?:^[ \t\n\r]+)|(?:[ \t\n\r]+$)/g;return function(g){return g.replace(f,"")}})(),ltrim:(function(){var f=/^[ \t\n\r]+/g;return function(g){return g.replace(f,"")}})(),rtrim:(function(){var f=/[ \t\n\r]+$/g;return function(g){return g.replace(f,"")}})(),indexOf:Array.prototype.indexOf?function(f,g){return f.indexOf(g)}:function(f,g){for(var h=0,i=f.length;h<i;h++){if(f[h]===g){return h}}return -1},bind:function(f,g){return function(){return f.apply(g,arguments)}},createClass:function(f){var g=f.$,h=f.base,i=f.privates||f._,j=f.proto,k=f.statics;if(i){var l=g;g=function(){var p=this;var m=p._||(p._={});for(var n in i){var o=i[n];m[n]=typeof o=="function"?a.tools.bind(o,p):o}l.apply(p,arguments)}}if(h){g.prototype=this.prototypedCopy(h.prototype);g.prototype.constructor=g;g.prototype.base=function(){this.base=h.prototype.base;h.apply(this,arguments);this.base=arguments.callee}}if(j){this.extend(g.prototype,j,true)}if(k){this.extend(g,k,true)}return g},addFunction:function(f,g){return e.push(function(){return f.apply(g||this,arguments)})-1},removeFunction:function(f){e[f]=null},callFunction:function(f){var g=e[f];return g&&g.apply(window,Array.prototype.slice.call(arguments,1))},cssLength:(function(){var f=/^\d+(?:\.\d+)?$/;return function(g){return g+(f.test(g)?"px":"")}})(),repeat:function(f,g){return new Array(g+1).join(f)},tryThese:function(){var f;for(var g=0,h=arguments.length;g<h;g++){var i=arguments[g];try{f=i();break}catch(j){}}return f},genKey:function(){return Array.prototype.slice.call(arguments).join("-")}}})();var e=a.tools;a.dtd=(function(){var f=e.extend,g={isindex:1,fieldset:1},h={input:1,button:1,select:1,textarea:1,label:1},i=f({a:1},h),j=f({iframe:1},i),k={hr:1,ul:1,menu:1,div:1,blockquote:1,noscript:1,table:1,center:1,address:1,dir:1,pre:1,h5:1,dl:1,h4:1,noframes:1,h6:1,ol:1,h1:1,h3:1,h2:1},l={ins:1,del:1,script:1,style:1},m=f({b:1,acronym:1,bdo:1,"var":1,"#":1,abbr:1,code:1,br:1,i:1,cite:1,kbd:1,u:1,strike:1,s:1,tt:1,strong:1,q:1,samp:1,em:1,dfn:1,span:1},l),n=f({sub:1,img:1,object:1,sup:1,basefont:1,map:1,applet:1,font:1,big:1,small:1},m),o=f({p:1},n),p=f({iframe:1},n,h),q={img:1,noscript:1,br:1,kbd:1,center:1,button:1,basefont:1,h5:1,h4:1,samp:1,h6:1,ol:1,h1:1,h3:1,h2:1,form:1,font:1,"#":1,select:1,menu:1,ins:1,abbr:1,label:1,code:1,table:1,script:1,cite:1,input:1,iframe:1,strong:1,textarea:1,noframes:1,big:1,small:1,span:1,hr:1,sub:1,bdo:1,"var":1,div:1,object:1,sup:1,strike:1,dir:1,map:1,dl:1,applet:1,del:1,isindex:1,fieldset:1,ul:1,b:1,acronym:1,a:1,blockquote:1,i:1,u:1,s:1,tt:1,address:1,q:1,pre:1,p:1,em:1,dfn:1},r=f({a:1},p),s={tr:1},t={"#":1},u=f({param:1},q),v=f({form:1},g,j,k,o),w={li:1},x={style:1,script:1},y={base:1,link:1,meta:1,title:1},z=f(y,x),A={head:1,body:1},B={html:1},C={address:1,blockquote:1,center:1,dir:1,div:1,dl:1,fieldset:1,form:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1,hr:1,isindex:1,menu:1,noframes:1,ol:1,p:1,pre:1,table:1,ul:1};return{$nonBodyContent:f(B,A,y),$block:C,$blockLimit:{body:1,div:1,td:1,th:1,caption:1,form:1},$inline:r,$body:f({script:1,style:1},C),$cdata:{script:1,style:1},$empty:{area:1,base:1,br:1,col:1,hr:1,img:1,input:1,link:1,meta:1,param:1},$listItem:{dd:1,dt:1,li:1},$list:{ul:1,ol:1,dl:1},$nonEditable:{applet:1,button:1,embed:1,iframe:1,map:1,object:1,option:1,script:1,textarea:1,param:1},$removeEmpty:{abbr:1,acronym:1,address:1,b:1,bdo:1,big:1,cite:1,code:1,del:1,dfn:1,em:1,font:1,i:1,ins:1,label:1,kbd:1,q:1,s:1,samp:1,small:1,span:1,strike:1,strong:1,sub:1,sup:1,tt:1,u:1,"var":1},$tabIndex:{a:1,area:1,button:1,input:1,object:1,select:1,textarea:1},$tableContent:{caption:1,col:1,colgroup:1,tbody:1,td:1,tfoot:1,th:1,thead:1,tr:1},html:A,head:z,style:t,script:t,body:v,base:{},link:{},meta:{},title:t,col:{},tr:{td:1,th:1},img:{},colgroup:{col:1},noscript:v,td:v,br:{},th:v,center:v,kbd:r,button:f(o,k),basefont:{},h5:r,h4:r,samp:r,h6:r,ol:w,h1:r,h3:r,option:t,h2:r,form:f(g,j,k,o),select:{optgroup:1,option:1},font:r,ins:r,menu:w,abbr:r,label:r,table:{thead:1,col:1,tbody:1,tr:1,colgroup:1,caption:1,tfoot:1},code:r,tfoot:s,cite:r,li:v,input:{},iframe:v,strong:r,textarea:t,noframes:v,big:r,small:r,span:r,hr:{},dt:r,sub:r,optgroup:{option:1},param:{},bdo:r,"var":r,div:v,object:u,sup:r,dd:v,strike:r,area:{},dir:w,map:f({area:1,form:1,p:1},g,l,k),applet:u,dl:{dt:1,dd:1},del:r,isindex:{},fieldset:f({legend:1},q),thead:s,ul:w,acronym:r,b:r,a:p,blockquote:v,caption:r,i:r,u:r,tbody:s,s:r,address:f(j,o),tt:r,legend:r,q:r,pre:f(m,i),p:r,em:r,dfn:r}})();var f=a.dtd;d.event=function(g){this.$=g};d.event.prototype={getKey:function(){return this.$.keyCode||this.$.which},getKeystroke:function(){var h=this;var g=h.getKey();if(h.$.ctrlKey||h.$.metaKey){g+=1000}if(h.$.shiftKey){g+=2000}if(h.$.altKey){g+=4000}return g},preventDefault:function(g){var h=this.$;if(h.preventDefault){h.preventDefault()}else{h.returnValue=false}if(g){this.stopPropagation()}},stopPropagation:function(){var g=this.$;if(g.stopPropagation){g.stopPropagation()}else{g.cancelBubble=true}},getTarget:function(){var g=this.$.target||this.$.srcElement;return g?new d.node(g):null}};a.CTRL=1000;a.SHIFT=2000;a.ALT=4000;d.domObject=function(g){if(g){this.$=g}};d.domObject.prototype=(function(){var g=function(h,i){return function(j){if(typeof a!="undefined"){h.fire(i,new d.event(j))}}};return{getPrivate:function(){var h;if(!(h=this.getCustomData("_"))){this.setCustomData("_",h={})}return h},on:function(h){var k=this;var i=k.getCustomData("_cke_nativeListeners");if(!i){i={};k.setCustomData("_cke_nativeListeners",i)}if(!i[h]){var j=i[h]=g(k,h);if(k.$.attachEvent){k.$.attachEvent("on"+h,j)}else{if(k.$.addEventListener){k.$.addEventListener(h,j,!!a.event.useCapture)}}}return a.event.prototype.on.apply(k,arguments)},removeListener:function(h){var k=this;a.event.prototype.removeListener.apply(k,arguments);if(!k.hasListeners(h)){var i=k.getCustomData("_cke_nativeListeners"),j=i&&i[h];if(j){if(k.$.detachEvent){k.$.detachEvent("on"+h,j)}else{if(k.$.removeEventListener){k.$.removeEventListener(h,j,false)}}delete i[h]}}},removeAllListeners:function(){var k=this;var h=k.getCustomData("_cke_nativeListeners");for(var i in h){var j=h[i];if(k.$.detachEvent){k.$.detachEvent("on"+i,j)}else{if(k.$.removeEventListener){k.$.removeEventListener(i,j,false)}}delete h[i]}}}})();(function(g){var h={};a.on("reset",function(){h={}});g.equals=function(i){return i&&i.$===this.$};g.setCustomData=function(i,j){var k=this.getUniqueId(),l=h[k]||(h[k]={});l[i]=j;return this};g.getCustomData=function(i){var j=this.$["data-cke-expando"],k=j&&h[j];return k&&k[i]};g.removeCustomData=function(i){var j=this.$["data-cke-expando"],k=j&&h[j],l=k&&k[i];if(typeof l!="undefined"){delete k[i]}return l||null};g.clearCustomData=function(){this.removeAllListeners();var i=this.$["data-cke-expando"];i&&delete h[i]};g.getUniqueId=function(){return this.$["data-cke-expando"]||(this.$["data-cke-expando"]=e.getNextNumber())};a.event.implementOn(g)})(d.domObject.prototype);d.window=function(g){d.domObject.call(this,g)};d.window.prototype=new d.domObject();e.extend(d.window.prototype,{focus:function(){if(b.webkit&&this.$.parent){this.$.parent.focus()}this.$.focus()},getViewPaneSize:function(){var g=this.$.document,h=g.compatMode=="CSS1Compat";return{width:(h?g.documentElement.clientWidth:g.body.clientWidth)||0,height:(h?g.documentElement.clientHeight:g.body.clientHeight)||0}},getScrollPosition:function(){var g=this.$;if("pageXOffset" in g){return{x:g.pageXOffset||0,y:g.pageYOffset||0}}else{var h=g.document;return{x:h.documentElement.scrollLeft||h.body.scrollLeft||0,y:h.documentElement.scrollTop||h.body.scrollTop||0}}}});d.document=function(g){d.domObject.call(this,g)};var g=d.document;g.prototype=new d.domObject();e.extend(g.prototype,{appendStyleSheet:function(h){if(this.$.createStyleSheet){this.$.createStyleSheet(h)}else{var i=new d.element("link");i.setAttributes({rel:"stylesheet",type:"text/css",href:h});this.getHead().append(i)}},appendStyleText:function(h){var k=this;if(k.$.createStyleSheet){var i=k.$.createStyleSheet("");i.cssText=h}else{var j=new d.element("style",k);j.append(new d.text(h,k));k.getHead().append(j)}},createElement:function(h,i){var j=new d.element(h,this);if(i){if(i.attributes){j.setAttributes(i.attributes)}if(i.styles){j.setStyles(i.styles)}}return j},createText:function(h){return new d.text(h,this)},focus:function(){this.getWindow().focus()},getById:function(h){var i=this.$.getElementById(h);return i?new d.element(i):null},getByAddress:function(h,i){var j=this.$.documentElement;for(var k=0;j&&k<h.length;k++){var l=h[k];if(!i){j=j.childNodes[l];continue}var m=-1;for(var n=0;n<j.childNodes.length;n++){var o=j.childNodes[n];if(i===true&&o.nodeType==3&&o.previousSibling&&o.previousSibling.nodeType==3){continue}m++;if(m==l){j=o;break}}}return j?new d.node(j):null},getElementsByTag:function(h,i){if(!(c&&!(document.documentMode>8))&&i){h=i+":"+h}return new d.nodeList(this.$.getElementsByTagName(h))},getHead:function(){var h=this.$.getElementsByTagName("head")[0];if(!h){h=this.getDocumentElement().append(new d.element("head"),true)}else{h=new d.element(h)}return(this.getHead=function(){return h})()},getBody:function(){var h=new d.element(this.$.body);return(this.getBody=function(){return h})()},getDocumentElement:function(){var h=new d.element(this.$.documentElement);return(this.getDocumentElement=function(){return h})()},getWindow:function(){var h=new d.window(this.$.parentWindow||this.$.defaultView);return(this.getWindow=function(){return h})()},write:function(h){var i=this;i.$.open("text/html","replace");b.isCustomDomain()&&(i.$.domain=document.domain);i.$.write(h);i.$.close()}});d.node=function(h){if(h){switch(h.nodeType){case 9:return new g(h);case 1:return new d.element(h);case 3:return new d.text(h)}d.domObject.call(this,h)}return this};d.node.prototype=new d.domObject();a.NODE_ELEMENT=1;a.NODE_DOCUMENT=9;a.NODE_TEXT=3;a.NODE_COMMENT=8;a.NODE_DOCUMENT_FRAGMENT=11;a.POSITION_IDENTICAL=0;a.POSITION_DISCONNECTED=1;a.POSITION_FOLLOWING=2;a.POSITION_PRECEDING=4;a.POSITION_IS_CONTAINED=8;a.POSITION_CONTAINS=16;e.extend(d.node.prototype,{appendTo:function(h,i){h.append(this,i);return h},clone:function(h,i){var j=this.$.cloneNode(h),k=function(l){if(l.nodeType!=1){return}if(!i){l.removeAttribute("id",false)}l.removeAttribute("data-cke-expando",false);if(h){var m=l.childNodes;for(var n=0;n<m.length;n++){k(m[n])}}};k(j);return new d.node(j)},hasPrevious:function(){return !!this.$.previousSibling},hasNext:function(){return !!this.$.nextSibling},insertAfter:function(h){h.$.parentNode.insertBefore(this.$,h.$.nextSibling);return h},insertBefore:function(h){h.$.parentNode.insertBefore(this.$,h.$);return h},insertBeforeMe:function(h){this.$.parentNode.insertBefore(h.$,this.$);return h},getAddress:function(h){var i=[],j=this.getDocument().$.documentElement,k=this.$;while(k&&k!=j){var l=k.parentNode;if(l){i.unshift(this.getIndex.call({$:k},h))}k=l}return i},getDocument:function(){return new g(this.$.ownerDocument||this.$.parentNode.ownerDocument)},getIndex:function(h){var i=this.$,j=0;while(i=i.previousSibling){if(h&&i.nodeType==3&&(!i.nodeValue.length||i.previousSibling&&i.previousSibling.nodeType==3)){continue}j++}return j},getNextSourceNode:function(h,i,j){if(j&&!j.call){var k=j;j=function(n){return !n.equals(k)}}var l=!h&&this.getFirst&&this.getFirst(),m;if(!l){if(this.type==1&&j&&j(this,true)===false){return null}l=this.getNext()}while(!l&&(m=(m||this).getParent())){if(j&&j(m,true)===false){return null}l=m.getNext()}if(!l){return null}if(j&&j(l)===false){return null}if(i&&i!=l.type){return l.getNextSourceNode(false,i,j)}return l},getPreviousSourceNode:function(h,i,j){if(j&&!j.call){var k=j;j=function(n){return !n.equals(k)}}var l=!h&&this.getLast&&this.getLast(),m;if(!l){if(this.type==1&&j&&j(this,true)===false){return null}l=this.getPrevious()}while(!l&&(m=(m||this).getParent())){if(j&&j(m,true)===false){return null}l=m.getPrevious()}if(!l){return null}if(j&&j(l)===false){return null}if(i&&l.type!=i){return l.getPreviousSourceNode(false,i,j)}return l},getPrevious:function(h){var i=this.$,j;do{i=i.previousSibling;j=i&&new d.node(i)}while(j&&h&&!h(j));return j},getNext:function(h){var i=this.$,j;do{i=i.nextSibling;j=i&&new d.node(i)}while(j&&h&&!h(j));return j},getParent:function(){var h=this.$.parentNode;return h&&h.nodeType==1?new d.node(h):null},getParents:function(h){var i=this,j=[];do{j[h?"push":"unshift"](i)}while(i=i.getParent());return j},getCommonAncestor:function(h){var j=this;if(h.equals(j)){return j}if(h.contains&&h.contains(j)){return h}var i=j.contains?j:j.getParent();do{if(i.contains(h)){return i}}while(i=i.getParent());return null},getPosition:function(h){var i=this.$,j=h.$;if(i.compareDocumentPosition){return i.compareDocumentPosition(j)}if(i==j){return 0}if(this.type==1&&h.type==1){if(i.contains){if(i.contains(j)){return 16+4}if(j.contains(i)){return 8+2}}if("sourceIndex" in i){return i.sourceIndex<0||j.sourceIndex<0?1:i.sourceIndex<j.sourceIndex?4:2}}var k=this.getAddress(),l=h.getAddress(),m=Math.min(k.length,l.length);for(var n=0;n<=m-1;n++){if(k[n]!=l[n]){if(n<m){return k[n]<l[n]?4:2}break}}return k.length<l.length?16+4:8+2},getAscendant:function(h,i){var j=this.$;if(!i){j=j.parentNode}while(j){if(j.nodeName&&j.nodeName.toLowerCase()==h){return new d.node(j)}j=j.parentNode}return null},hasAscendant:function(h,i){var j=this.$;if(!i){j=j.parentNode}while(j){if(j.nodeName&&j.nodeName.toLowerCase()==h){return true}j=j.parentNode}return false},move:function(h,i){h.append(this.remove(),i)},remove:function(h){var i=this.$,j=i.parentNode;if(j){if(h){for(var k;k=i.firstChild;){j.insertBefore(i.removeChild(k),i)}}j.removeChild(i)}return this},replace:function(h){this.insertBefore(h);h.remove()},trim:function(){this.ltrim();this.rtrim()},ltrim:function(){var k=this;var h;while(k.getFirst&&(h=k.getFirst())){if(h.type==3){var i=e.ltrim(h.getText()),j=h.getLength();if(!i){h.remove();continue}else{if(i.length<j){h.split(j-i.length);k.$.removeChild(k.$.firstChild)}}}break}},rtrim:function(){var k=this;var h;while(k.getLast&&(h=k.getLast())){if(h.type==3){var i=e.rtrim(h.getText()),j=h.getLength();if(!i){h.remove();continue}else{if(i.length<j){h.split(i.length);k.$.lastChild.parentNode.removeChild(k.$.lastChild)}}}break}if(!c&&!b.opera){h=k.$.lastChild;if(h&&h.type==1&&h.nodeName.toLowerCase()=="br"){h.parentNode.removeChild(h)}}},isReadOnly:function(){var h=this;while(h){if(h.type==1){if(h.is("body")||!!h.data("cke-editable")){break}if(h.getAttribute("contentEditable")=="false"){return h}else{if(h.getAttribute("contentEditable")=="true"){break}}}h=h.getParent()}return false}});d.nodeList=function(h){this.$=h};d.nodeList.prototype={count:function(){return this.$.length},getItem:function(h){var i=this.$[h];return i?new d.node(i):null}};d.element=function(h,i){if(typeof h=="string"){h=(i?i.$:document).createElement(h)}d.domObject.call(this,h)};var h=d.element;h.get=function(i){return i&&(i.$?i:new h(i))};h.prototype=new d.node();h.createFromHtml=function(i,j){var k=new h("div",j);k.setHtml(i);return k.getFirst().remove()};h.setMarker=function(i,j,k,l){var m=j.getCustomData("list_marker_id")||j.setCustomData("list_marker_id",e.getNextNumber()).getCustomData("list_marker_id"),n=j.getCustomData("list_marker_names")||j.setCustomData("list_marker_names",{}).getCustomData("list_marker_names");i[m]=j;n[k]=1;return j.setCustomData(k,l)};h.clearAllMarkers=function(i){for(var j in i){h.clearMarkers(i,i[j],1)}};h.clearMarkers=function(i,j,k){var l=j.getCustomData("list_marker_names"),m=j.getCustomData("list_marker_id");for(var n in l){j.removeCustomData(n)}j.removeCustomData("list_marker_names");if(k){j.removeCustomData("list_marker_id");delete i[m]}};e.extend(h.prototype,{type:1,addClass:function(i){var j=this.$.className;if(j){var k=new RegExp("(?:^|\\s)"+i+"(?:\\s|$)","");if(!k.test(j)){j+=" "+i}}this.$.className=j||i},removeClass:function(i){var j=this.getAttribute("class");if(j){var k=new RegExp("(?:^|\\s+)"+i+"(?=\\s|$)","i");if(k.test(j)){j=j.replace(k,"").replace(/^\s+/,"");if(j){this.setAttribute("class",j)}else{this.removeAttribute("class")}}}},hasClass:function(i){var j=new RegExp("(?:^|\\s+)"+i+"(?=\\s|$)","");return j.test(this.getAttribute("class"))},append:function(i,j){var k=this;if(typeof i=="string"){i=k.getDocument().createElement(i)}if(j){k.$.insertBefore(i.$,k.$.firstChild)}else{k.$.appendChild(i.$)}return i},appendHtml:function(i){var k=this;if(!k.$.childNodes.length){k.setHtml(i)}else{var j=new h("div",k.getDocument());j.setHtml(i);j.moveChildren(k)}},appendText:function(i){if(this.$.text!=undefined){this.$.text+=i}else{this.append(new d.text(i))}},appendBogus:function(){var k=this;var i=k.getLast();while(i&&i.type==3&&!e.rtrim(i.getText())){i=i.getPrevious()}if(!i||!i.is||!i.is("br")){var j=b.opera?k.getDocument().createText(""):k.getDocument().createElement("br");b.gecko&&j.setAttribute("type","_moz");k.append(j)}},breakParent:function(i){var l=this;var j=new d.range(l.getDocument());j.setStartAfter(l);j.setEndAfter(i);var k=j.extractContents();j.insertNode(l.remove());k.insertAfterNode(l)},contains:c||b.webkit?function(i){var j=this.$;return i.type!=1?j.contains(i.getParent().$):j!=i.$&&j.contains(i.$)}:function(i){return !!(this.$.compareDocumentPosition(i.$)&16)},focus:(function(){function i(){try{this.$.focus()}catch(j){}}return function(j){if(j){e.setTimeout(i,100,this)}else{i.call(this)}}})(),getHtml:function(){var i=this.$.innerHTML;return c?i.replace(/<\?[^>]*>/g,""):i},getOuterHtml:function(){var j=this;if(j.$.outerHTML){return j.$.outerHTML.replace(/<\?[^>]*>/,"")}var i=j.$.ownerDocument.createElement("div");i.appendChild(j.$.cloneNode(true));return i.innerHTML},setHtml:function(i){return this.$.innerHTML=i},setText:function(i){h.prototype.setText=this.$.innerText!=undefined?function(j){return this.$.innerText=j}:function(j){return this.$.textContent=j};return this.setText(i)},getAttribute:(function(){var i=function(j){return this.$.getAttribute(j,2)};if(c&&(b.ie7Compat||b.ie6Compat)){return function(j){var n=this;switch(j){case"class":j="className";break;case"http-equiv":j="httpEquiv";break;case"name":return n.$.name;case"tabindex":var k=i.call(n,j);if(k!==0&&n.$.tabIndex===0){k=null}return k;break;case"checked":var l=n.$.attributes.getNamedItem(j),m=l.specified?l.nodeValue:n.$.checked;return m?"checked":null;case"hspace":case"value":return n.$[j];case"style":return n.$.style.cssText}return i.call(n,j)}}else{return i}})(),getChildren:function(){return new d.nodeList(this.$.childNodes)},getComputedStyle:c?function(i){return this.$.currentStyle[e.cssStyleToDomStyle(i)]}:function(i){return this.getWindow().$.getComputedStyle(this.$,"").getPropertyValue(i)},getDtd:function(){var i=f[this.getName()];this.getDtd=function(){return i};return i},getElementsByTag:g.prototype.getElementsByTag,getTabIndex:c?function(){var i=this.$.tabIndex;if(i===0&&!f.$tabIndex[this.getName()]&&parseInt(this.getAttribute("tabindex"),10)!==0){i=-1}return i}:b.webkit?function(){var i=this.$.tabIndex;if(i==undefined){i=parseInt(this.getAttribute("tabindex"),10);if(isNaN(i)){i=-1}}return i}:function(){return this.$.tabIndex},getText:function(){return this.$.textContent||this.$.innerText||""},getWindow:function(){return this.getDocument().getWindow()},getId:function(){return this.$.id||null},getNameAtt:function(){return this.$.name||null},getName:function(){var i=this.$.nodeName.toLowerCase();if(c&&!(document.documentMode>8)){var j=this.$.scopeName;if(j!="HTML"){i=j.toLowerCase()+":"+i}}return(this.getName=function(){return i})()},getValue:function(){return this.$.value},getFirst:function(i){var j=this.$.firstChild,k=j&&new d.node(j);if(k&&i&&!i(k)){k=k.getNext(i)}return k},getLast:function(i){var j=this.$.lastChild,k=j&&new d.node(j);if(k&&i&&!i(k)){k=k.getPrevious(i)}return k},getStyle:function(i){return this.$.style[e.cssStyleToDomStyle(i)]},is:function(){var i=this.getName();for(var j=0;j<arguments.length;j++){if(arguments[j]==i){return true}}return false},isEditable:function(){if(this.isReadOnly()){return false}var i=this.getName(),j=!f.$nonEditable[i]&&(f[i]||f.span);return j&&j["#"]},isIdentical:function(i){if(this.getName()!=i.getName()){return false}var j=this.$.attributes,k=i.$.attributes,l=j.length,m=k.length;for(var n=0;n<l;n++){var o=j[n];if(o.nodeName=="_moz_dirty"){continue}if((!c||o.specified&&o.nodeName!="data-cke-expando")&&o.nodeValue!=i.getAttribute(o.nodeName)){return false}}if(c){for(n=0;n<m;n++){o=k[n];if(o.specified&&o.nodeName!="data-cke-expando"&&o.nodeValue!=this.getAttribute(o.nodeName)){return false}}}return true},isVisible:function(){var i=!!this.$.offsetHeight&&this.getComputedStyle("visibility")!="hidden",j,k;if(i&&(b.webkit||b.opera)){j=this.getWindow();if(!j.equals(a.document.getWindow())&&(k=j.$.frameElement)){i=new h(k).isVisible()}}return i},isEmptyInlineRemoveable:function(){if(!f.$removeEmpty[this.getName()]){return false}var i=this.getChildren();for(var j=0,k=i.count();j<k;j++){var l=i.getItem(j);if(l.type==1&&l.data("cke-bookmark")){continue}if(l.type==1&&!l.isEmptyInlineRemoveable()||l.type==3&&e.trim(l.getText())){return false}}return true},hasAttributes:c&&(b.ie7Compat||b.ie6Compat)?function(){var i=this.$.attributes;for(var j=0;j<i.length;j++){var k=i[j];switch(k.nodeName){case"class":if(this.getAttribute("class")){return true}case"data-cke-expando":continue;default:if(k.specified){return true}}}return false}:function(){var i=this.$.attributes,j=i.length,k={"data-cke-expando":1,_moz_dirty:1};return j>0&&(j>2||!k[i[0].nodeName]||j==2&&!k[i[1].nodeName])},hasAttribute:(function(){function i(j){var k=this.$.attributes.getNamedItem(j);return !!(k&&k.specified)}return c&&b.version<8?function(j){if(j=="name"){return !!this.$.name}return i.call(this,j)}:i})(),hide:function(){this.setStyle("display","none")},moveChildren:function(i,j){var k=this.$;i=i.$;if(k==i){return}var l;if(j){while(l=k.lastChild){i.insertBefore(k.removeChild(l),i.firstChild)}}else{while(l=k.firstChild){i.appendChild(k.removeChild(l))}}},mergeSiblings:(function(){function i(j,k,l){if(k&&k.type==1){var m=[];while(k.data("cke-bookmark")||k.isEmptyInlineRemoveable()){m.push(k);k=l?k.getNext():k.getPrevious();if(!k||k.type!=1){return}}if(j.isIdentical(k)){var n=l?j.getLast():j.getFirst();while(m.length){m.shift().move(j,!l)}k.moveChildren(j,!l);k.remove();if(n&&n.type==1){n.mergeSiblings()}}}}return function(j){var k=this;if(!(j===false||f.$removeEmpty[k.getName()]||k.is("a"))){return}i(k,k.getNext(),true);i(k,k.getPrevious())}})(),show:function(){this.setStyles({display:"",visibility:""})},setAttribute:(function(){var i=function(j,k){this.$.setAttribute(j,k);return this};if(c&&(b.ie7Compat||b.ie6Compat)){return function(j,k){var l=this;if(j=="class"){l.$.className=k}else{if(j=="style"){l.$.style.cssText=k}else{if(j=="tabindex"){l.$.tabIndex=k}else{if(j=="checked"){l.$.checked=k}else{i.apply(l,arguments)}}}}return l}}else{return i}})(),setAttributes:function(i){for(var j in i){this.setAttribute(j,i[j])}return this},setValue:function(i){this.$.value=i;return this},removeAttribute:(function(){var i=function(j){this.$.removeAttribute(j)};if(c&&(b.ie7Compat||b.ie6Compat)){return function(j){if(j=="class"){j="className"}else{if(j=="tabindex"){j="tabIndex"}}i.call(this,j)}}else{return i}})(),removeAttributes:function(i){if(e.isArray(i)){for(var j=0;j<i.length;j++){this.removeAttribute(i[j])}}else{for(var k in i){i.hasOwnProperty(k)&&this.removeAttribute(k)}}},removeStyle:function(i){var j=this;j.setStyle(i,"");if(j.$.style.removeAttribute){j.$.style.removeAttribute(e.cssStyleToDomStyle(i))}if(!j.$.style.cssText){j.removeAttribute("style")}},setStyle:function(i,j){this.$.style[e.cssStyleToDomStyle(i)]=j;return this},setStyles:function(i){for(var j in i){this.setStyle(j,i[j])}return this},setOpacity:function(i){if(c){i=Math.round(i*100);this.setStyle("filter",i>=100?"":"progid:DXImageTransform.Microsoft.Alpha(opacity="+i+")")}else{this.setStyle("opacity",i)}},unselectable:b.gecko?function(){this.$.style.MozUserSelect="none";this.on("dragstart",function(i){i.data.preventDefault()})}:b.webkit?function(){this.$.style.KhtmlUserSelect="none";this.on("dragstart",function(i){i.data.preventDefault()})}:function(){if(c||b.opera){var i=this.$,j,k=0;i.unselectable="on";while(j=i.all[k++]){switch(j.tagName.toLowerCase()){case"iframe":case"textarea":case"input":case"select":break;default:j.unselectable="on"}}}},getPositionedAncestor:function(){var i=this;while(i.getName()!="html"){if(i.getComputedStyle("position")!="static"){return i}i=i.getParent()}return null},getDocumentPosition:function(i){var D=this;var j=0,k=0,l=D.getDocument().getBody(),m=D.getDocument().$.compatMode=="BackCompat",n=D.getDocument();if(document.documentElement.getBoundingClientRect){var o=D.$.getBoundingClientRect(),p=n.$,q=p.documentElement,r=q.clientTop||l.$.clientTop||0,s=q.clientLeft||l.$.clientLeft||0,t=true;if(c){var u=n.getDocumentElement().contains(D),v=n.getBody().contains(D);t=m&&v||!m&&u}if(t){j=o.left+(!m&&q.scrollLeft||l.$.scrollLeft);j-=s;k=o.top+(!m&&q.scrollTop||l.$.scrollTop);k-=r}}else{var w=D,x=null,y;while(w&&!(w.getName()=="body"||w.getName()=="html")){j+=w.$.offsetLeft-w.$.scrollLeft;k+=w.$.offsetTop-w.$.scrollTop;if(!w.equals(D)){j+=w.$.clientLeft||0;k+=w.$.clientTop||0}var z=x;while(z&&!z.equals(w)){j-=z.$.scrollLeft;k-=z.$.scrollTop;z=z.getParent()}x=w;w=(y=w.$.offsetParent)?new h(y):null}}if(i){var A=D.getWindow(),B=i.getWindow();if(!A.equals(B)&&A.$.frameElement){var C=new h(A.$.frameElement).getDocumentPosition(i);j+=C.x;k+=C.y}}if(!document.documentElement.getBoundingClientRect){if(b.gecko&&!m){j+=D.$.clientLeft?1:0;k+=D.$.clientTop?1:0}}return{x:j,y:k}},scrollIntoView:function(i){var o=this;var j=o.getWindow(),k=j.getViewPaneSize().height,l=k*-1;if(i){l+=k}else{l+=o.$.offsetHeight||0;l+=parseInt(o.getComputedStyle("marginBottom")||0,10)||0}var m=o.getDocumentPosition();l+=m.y;l=l<0?0:l;var n=j.getScrollPosition().y;if(l>n||l<n-k){j.$.scrollTo(0,l)}},setState:function(i){var j=this;switch(i){case 1:j.addClass("cke_on");j.removeClass("cke_off");j.removeClass("cke_disabled");break;case 0:j.addClass("cke_disabled");j.removeClass("cke_off");j.removeClass("cke_on");break;default:j.addClass("cke_off");j.removeClass("cke_on");j.removeClass("cke_disabled");break}},getFrameDocument:function(){var i=this.$;try{i.contentWindow.document}catch(j){i.src=i.src;if(c&&b.version<7){window.showModalDialog('javascript:document.write("<script>window.setTimeout(function(){window.close();},50);<\/script>")')}}return i&&new g(i.contentWindow.document)},copyAttributes:function(i,j){var p=this;var k=p.$.attributes;j=j||{};for(var l=0;l<k.length;l++){var m=k[l],n=m.nodeName.toLowerCase(),o;if(n in j){continue}if(n=="checked"&&(o=p.getAttribute(n))){i.setAttribute(n,o)}else{if(m.specified||c&&m.nodeValue&&n=="value"){o=p.getAttribute(n);if(o===null){o=m.nodeValue}i.setAttribute(n,o)}}}if(p.$.style.cssText!==""){i.$.style.cssText=p.$.style.cssText}},renameNode:function(i){var l=this;if(l.getName()==i){return}var j=l.getDocument(),k=new h(i,j);l.copyAttributes(k);l.moveChildren(k);l.getParent()&&l.$.parentNode.replaceChild(k.$,l.$);k.$["data-cke-expando"]=l.$["data-cke-expando"];l.$=k.$},getChild:function(i){var j=this.$;if(!i.slice){j=j.childNodes[i]}else{while(i.length>0&&j){j=j.childNodes[i.shift()]}}return j?new d.node(j):null},getChildCount:function(){return this.$.childNodes.length},disableContextMenu:function(){this.on("contextmenu",function(i){if(!i.data.getTarget().hasClass("cke_enable_context_menu")){i.data.preventDefault()}})},getDirection:function(i){return i?this.getComputedStyle("direction"):this.getStyle("direction")||this.getAttribute("dir")},data:function(i,j){i="data-"+i;if(j===undefined){return this.getAttribute(i)}else{if(j===false){this.removeAttribute(i)}else{this.setAttribute(i,j)}}return null}});(function(){var i={width:["border-left-width","border-right-width","padding-left","padding-right"],height:["border-top-width","border-bottom-width","padding-top","padding-bottom"]};function j(k){var l=0;for(var m=0,n=i[k].length;m<n;m++){l+=parseInt(this.getComputedStyle(i[k][m])||0,10)||0}return l}h.prototype.setSize=function(k,l,m){if(typeof l=="number"){if(m&&!(c&&b.quirks)){l-=j.call(this,k)}this.setStyle(k,l+"px")}};h.prototype.getSize=function(k,l){var m=Math.max(this.$["offset"+e.capitalize(k)],this.$["client"+e.capitalize(k)])||0;if(l){m-=j.call(this,k)}return m}})();a.command=function(i,j){this.uiItems=[];this.exec=function(k){if(this.state==0){return false}if(this.editorFocus){i.focus()}return j.exec.call(this,i,k)!==false};e.extend(this,j,{modes:{wysiwyg:1},editorFocus:1,state:2});a.event.call(this)};a.command.prototype={enable:function(){var i=this;if(i.state==0){i.setState(!i.preserveState||typeof i.previousState=="undefined"?2:i.previousState)}},disable:function(){this.setState(0)},setState:function(i){var j=this;if(j.state==i){return false}j.previousState=j.state;j.state=i;j.fire("state");return true},toggleState:function(){var i=this;if(i.state==2){i.setState(1)}else{if(i.state==1){i.setState(2)}}}};a.event.implementOn(a.command.prototype,true);a.ENTER_P=1;a.ENTER_BR=2;a.ENTER_DIV=3;a.config={customConfig:"config.js",autoUpdateElement:true,baseHref:"",contentsCss:a.basePath+"contents.css",contentsLangDirection:"ui",contentsLanguage:"",language:"",defaultLanguage:"en",enterMode:1,forceEnterMode:false,shiftEnterMode:2,corePlugins:"",docType:'<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">',bodyId:"",bodyClass:"",fullPage:false,height:200,plugins:"about,a11yhelp,basicstyles,bidi,blockquote,button,clipboard,colorbutton,colordialog,contextmenu,dialogadvtab,div,elementspath,enterkey,entities,filebrowser,find,flash,font,format,forms,horizontalrule,htmldataprocessor,iframe,image,indent,justify,keystrokes,link,list,liststyle,maximize,newpage,pagebreak,pastefromword,pastetext,popup,preview,print,removeformat,resize,save,scayt,smiley,showblocks,showborders,sourcearea,stylescombo,table,tabletools,specialchar,tab,templates,toolbar,undo,wysiwygarea,wsc",extraPlugins:"",removePlugins:"",protectedSource:[],tabIndex:0,theme:"default",skin:"kama",width:"",baseFloatZIndex:10000};var i=a.config;a.focusManager=function(j){if(j.focusManager){return j.focusManager}this.hasFocus=false;this._={editor:j};return this};a.focusManager.prototype={focus:function(){var k=this;if(k._.timer){clearTimeout(k._.timer)}if(!k.hasFocus){if(a.currentInstance){a.currentInstance.focusManager.forceBlur()}var j=k._.editor;j.container.getChild(1).addClass("cke_focus");k.hasFocus=true;j.fire("focus")}},blur:function(){var j=this;if(j._.timer){clearTimeout(j._.timer)}j._.timer=setTimeout(function(){delete j._.timer;j.forceBlur()},100)},forceBlur:function(){if(this.hasFocus){var j=this._.editor;j.container.getChild(1).removeClass("cke_focus");this.hasFocus=false;j.fire("blur")}}};(function(){var j={};a.lang={languages:{af:1,ar:1,bg:1,bn:1,bs:1,ca:1,cs:1,cy:1,da:1,de:1,el:1,"en-au":1,"en-ca":1,"en-gb":1,en:1,eo:1,es:1,et:1,eu:1,fa:1,fi:1,fo:1,"fr-ca":1,fr:1,gl:1,gu:1,he:1,hi:1,hr:1,hu:1,is:1,it:1,ja:1,ka:1,km:1,ko:1,lt:1,lv:1,mn:1,ms:1,nb:1,nl:1,no:1,pl:1,"pt-br":1,pt:1,ro:1,ru:1,sk:1,sl:1,"sr-latn":1,sr:1,sv:1,th:1,tr:1,uk:1,vi:1,"zh-cn":1,zh:1},load:function(k,l,m){if(!k||!a.lang.languages[k]){k=this.detect(l,k)}if(!this[k]){a.scriptLoader.load(a.getUrl("lang/"+k+".js"),function(){m(k,this[k])},this)}else{m(k,this[k])}},detect:function(k,l){var m=this.languages;l=l||navigator.userLanguage||navigator.language;var n=l.toLowerCase().match(/([a-z]+)(?:-([a-z]+))?/),o=n[1],p=n[2];if(m[o+"-"+p]){o=o+"-"+p}else{if(!m[o]){o=null}}a.lang.detect=o?function(){return o}:function(q){return q};return o||k}}})();a.scriptLoader=(function(){var j={},k={};return{load:function(l,m,n,o){var p=typeof l=="string";if(p){l=[l]}if(!n){n=a}var q=l.length,r=[],s=[],t=function(y){if(m){if(p){m.call(n,y)}else{m.call(n,r,s)}}};if(q===0){t(true);return}var u=function(y,z){(z?r:s).push(y);if(--q<=0){o&&a.document.getDocumentElement().removeStyle("cursor");t(z)}},v=function(y,z){j[y]=1;var A=k[y];delete k[y];for(var B=0;B<A.length;B++){A[B](y,z)}},w=function(y){if(j[y]){u(y,true);return}var z=k[y]||(k[y]=[]);z.push(u);if(z.length>1){return}var A=new h("script");A.setAttributes({type:"text/javascript",src:y});if(m){if(c){A.$.onreadystatechange=function(){if(A.$.readyState=="loaded"||A.$.readyState=="complete"){A.$.onreadystatechange=null;v(y,true)}}}else{A.$.onload=function(){setTimeout(function(){v(y,true)},0)};A.$.onerror=function(){v(y,false)}}}A.appendTo(a.document.getHead())};o&&a.document.getDocumentElement().setStyle("cursor","wait");for(var x=0;x<q;x++){w(l[x])}}}})();a.resourceManager=function(j,k){var l=this;l.basePath=j;l.fileName=k;l.registered={};l.loaded={};l.externals={};l._={waitingList:{}}};a.resourceManager.prototype={add:function(j,k){if(this.registered[j]){throw'[CKEDITOR.resourceManager.add] The resource name "'+j+'" is already registered.'}a.fire(j+e.capitalize(this.fileName)+"Ready",this.registered[j]=k||{})},get:function(j){return this.registered[j]||null},getPath:function(j){var k=this.externals[j];return a.getUrl(k&&k.dir||this.basePath+j+"/")},getFilePath:function(j){var k=this.externals[j];return a.getUrl(this.getPath(j)+(k&&typeof k.file=="string"?k.file:this.fileName+".js"))},addExternal:function(j,k,l){j=j.split(",");for(var m=0;m<j.length;m++){var n=j[m];this.externals[n]={dir:k,file:l}}},load:function(j,k,l){if(!e.isArray(j)){j=j?[j]:[]}var m=this.loaded,n=this.registered,o=[],p={},q={};for(var r=0;r<j.length;r++){var s=j[r];if(!s){continue}if(!m[s]&&!n[s]){var t=this.getFilePath(s);o.push(t);if(!(t in p)){p[t]=[]}p[t].push(s)}else{q[s]=this.get(s)}}a.scriptLoader.load(o,function(u,v){if(v.length){throw'[CKEDITOR.resourceManager.load] Resource name "'+p[v[0]].join(",")+'" was not found at "'+v[0]+'".'}for(var w=0;w<u.length;w++){var x=p[u[w]];for(var y=0;y<x.length;y++){var z=x[y];q[z]=this.get(z);m[z]=1}}k.call(l,q)},this)}};a.plugins=new a.resourceManager("plugins/","plugin");var j=a.plugins;j.load=e.override(j.load,function(k){return function(l,m,n){var o={},p=function(q){k.call(this,q,function(r){e.extend(o,r);var s=[];for(var t in r){var u=r[t],v=u&&u.requires;if(v){for(var w=0;w<v.length;w++){if(!o[v[w]]){s.push(v[w])}}}}if(s.length){p.call(this,s)}else{for(t in o){u=o[t];if(u.onLoad&&!u.onLoad._called){u.onLoad();u.onLoad._called=1}}if(m){m.call(n||window,o)}}},this)};p.call(this,l)}});j.setLang=function(k,l,m){var n=this.get(k),o=n.langEntries||(n.langEntries={}),p=n.lang||(n.lang=[]);if(e.indexOf(p,l)==-1){p.push(l)}o[l]=m};a.skins=(function(){var k={},l={},m=function(n,o,p,q){var r=k[o];if(!n.skin){n.skin=r;if(r.init){r.init(n)}}var s=function(B){for(var C=0;C<B.length;C++){B[C]=a.getUrl(l[o]+B[C])}};function t(B,C){return B.replace(/url\s*\(([\s'"]*)(.*?)([\s"']*)\)/g,function(D,E,F,G){if(/^\/|^\w?:/.test(F)){return D}else{return"url("+C+E+F+G+")"}})}p=r[p];var u=!p||!!p._isLoaded;if(u){q&&q()}else{var v=p._pending||(p._pending=[]);v.push(q);if(v.length>1){return}var w=!p.css||!p.css.length,x=!p.js||!p.js.length,y=function(){if(w&&x){p._isLoaded=1;for(var B=0;B<v.length;B++){if(v[B]){v[B]()}}}};if(!w){var z=p.css;if(e.isArray(z)){s(z);for(var A=0;A<z.length;A++){a.document.appendStyleSheet(z[A])}}else{z=t(z,a.getUrl(l[o]));a.document.appendStyleText(z)}p.css=z;w=1}if(!x){s(p.js);a.scriptLoader.load(p.js,function(){x=1;y()})}y()}};return{add:function(n,o){k[n]=o;o.skinPath=l[n]||(l[n]=a.getUrl("skins/"+n+"/"))},load:function(n,o,p){var q=n.skinName,r=n.skinPath;if(k[q]){m(n,q,o,p)}else{l[q]=r;a.scriptLoader.load(a.getUrl(r+"skin.js"),function(){m(n,q,o,p)})}}}})();a.themes=new a.resourceManager("themes/","theme");a.ui=function(k){if(k.ui){return k.ui}this._={handlers:{},items:{},editor:k};return this};var k=a.ui;k.prototype={add:function(l,m,n){this._.items[l]={type:m,command:n.command||null,args:Array.prototype.slice.call(arguments,2)}},create:function(l){var q=this;var m=q._.items[l],n=m&&q._.handlers[m.type],o=m&&m.command&&q._.editor.getCommand(m.command),p=n&&n.create.apply(q,m.args);m&&(p=e.extend(p,q._.editor.skin[m.type],true));if(o){o.uiItems.push(p)}return p},addHandler:function(l,m){this._.handlers[l]=m}};a.event.implementOn(k);(function(){var l=0,m=function(){var x="editor"+ ++l;return a.instances&&a.instances[x]?m():x},n={},o=function(x){var y=x.config.customConfig;if(!y){return false}y=a.getUrl(y);var z=n[y]||(n[y]={});if(z.fn){z.fn.call(x,x.config);if(a.getUrl(x.config.customConfig)==y||!o(x)){x.fireOnce("customConfigLoaded")}}else{a.scriptLoader.load(y,function(){if(a.editorConfig){z.fn=a.editorConfig}else{z.fn=function(){}}o(x)})}return true},p=function(x,y){x.on("customConfigLoaded",function(){if(y){if(y.on){for(var z in y.on){x.on(z,y.on[z])}}e.extend(x.config,y,true);delete x.config.on}q(x)});if(y&&y.customConfig!=undefined){x.config.customConfig=y.customConfig}if(!o(x)){x.fireOnce("customConfigLoaded")}},q=function(x){var y=x.config.skin.split(","),z=y[0],A=a.getUrl(y[1]||"skins/"+z+"/");x.skinName=z;x.skinPath=A;x.skinClass="cke_skin_"+z;x.tabIndex=x.config.tabIndex||x.element.getAttribute("tabindex")||0;x.readOnly=!!(x.config.readOnly||x.element.getAttribute("disabled"));x.fireOnce("configLoaded");t(x)},r=function(x){a.lang.load(x.config.language,x.config.defaultLanguage,function(y,z){x.langCode=y;x.lang=e.prototypedCopy(z);if(b.gecko&&b.version<10900&&x.lang.dir=="rtl"){x.lang.dir="ltr"}var A=x.config;A.contentsLangDirection=="ui"&&(A.contentsLangDirection=x.lang.dir);s(x)})},s=function(x){var y=x.config,z=y.plugins,A=y.extraPlugins,B=y.removePlugins;if(A){var C=new RegExp("(?:^|,)(?:"+A.replace(/\s*,\s*/g,"|")+")(?=,|$)","g");z=z.replace(C,"");z+=","+A}if(B){C=new RegExp("(?:^|,)(?:"+B.replace(/\s*,\s*/g,"|")+")(?=,|$)","g");z=z.replace(C,"")}b.air&&(z+=",adobeair");j.load(z.split(","),function(D){var E=[],F=[],G=[];x.plugins=D;for(var H in D){var I=D[H],J=I.lang,K=j.getPath(H),L=null;I.path=K;if(J){L=e.indexOf(J,x.langCode)>=0?x.langCode:J[0];if(!I.langEntries||!I.langEntries[L]){G.push(a.getUrl(K+"lang/"+L+".js"))}else{e.extend(x.lang,I.langEntries[L]);L=null}}F.push(L);E.push(I)}a.scriptLoader.load(G,function(){var M=["beforeInit","init","afterInit"];for(var N=0;N<M.length;N++){for(var O=0;O<E.length;O++){var P=E[O];if(N===0&&F[O]&&P.lang){e.extend(x.lang,P.langEntries[F[O]])}if(P[M[N]]){P[M[N]](x)}}}x.fire("pluginsLoaded");u(x)})})},t=function(x){a.skins.load(x,"editor",function(){r(x)})},u=function(x){var y=x.config.theme;a.themes.load(y,function(){var z=x.theme=a.themes.get(y);z.path=a.themes.getPath(y);z.build(x);if(x.config.autoUpdateElement){v(x)}})},v=function(x){var y=x.element;if(x.elementMode==1&&y.is("textarea")){var z=y.$.form&&new h(y.$.form);if(z){function A(){x.updateElement()}z.on("submit",A);if(!z.$.submit.nodeName&&!z.$.submit.length){z.$.submit=e.override(z.$.submit,function(B){return function(){x.updateElement();if(B.apply){B.apply(this,arguments)}else{B()}}})}x.on("destroy",function(){z.removeListener("submit",A)})}}};function w(){var x,y=this._.commands,z=this.mode;if(!z){return}for(var A in y){x=y[A];x[x.startDisabled?"disable":this.readOnly&&!x.readOnly?"disable":x.modes[z]?"enable":"disable"]()}}a.editor.prototype._init=function(){var z=this;var x=h.get(z._.element),y=z._.instanceConfig;delete z._.element;delete z._.instanceConfig;z._.commands={};z._.styles=[];z.element=x;z.name=x&&z.elementMode==1&&(x.getId()||x.getNameAtt())||m();if(z.name in a.instances){throw'[CKEDITOR.editor] The instance "'+z.name+'" already exists.'}z.id=e.getNextId();z.config=e.prototypedCopy(i);z.ui=new k(z);z.focusManager=new a.focusManager(z);a.fire("instanceCreated",null,z);z.on("mode",w,null,null,1);z.on("readOnly",w,null,null,1);p(z,y)}})();e.extend(a.editor.prototype,{addCommand:function(l,m){return this._.commands[l]=new a.command(this,m)},addCss:function(l){this._.styles.push(l)},destroy:function(l){var m=this;if(!l){m.updateElement()}m.fire("destroy");m.theme&&m.theme.destroy(m);a.remove(m);a.fire("instanceDestroyed",null,m)},execCommand:function(l,m){var n=this.getCommand(l),o={name:l,commandData:m,command:n};if(n&&n.state!=0){if(this.fire("beforeCommandExec",o)!==true){o.returnValue=n.exec(o.commandData);if(!n.async&&this.fire("afterCommandExec",o)!==true){return o.returnValue}}}return false},getCommand:function(l){return this._.commands[l]},getData:function(){var n=this;n.fire("beforeGetData");var l=n._.data;if(typeof l!="string"){var m=n.element;if(m&&n.elementMode==1){l=m.is("textarea")?m.getValue():m.getHtml()}else{l=""}}l={dataValue:l};n.fire("getData",l);return l.dataValue},getSnapshot:function(){var l=this.fire("getSnapshot");if(typeof l!="string"){var m=this.element;if(m&&this.elementMode==1){l=m.is("textarea")?m.getValue():m.getHtml()}}return l},loadSnapshot:function(l){this.fire("loadSnapshot",l)},setData:function(l,m,n){if(m){this.on("dataReady",function(p){p.removeListener();m.call(p.editor)})}var o={dataValue:l};!n&&this.fire("setData",o);this._.data=o.dataValue;!n&&this.fire("afterSetData",o)},setReadOnly:function(l){if(this.readOnly!=!l){this.readOnly=!l;this.fire("readOnly")}},insertHtml:function(l){this.fire("insertHtml",l)},insertText:function(l){this.fire("insertText",l)},insertElement:function(l){this.fire("insertElement",l)},checkDirty:function(){return this.mayBeDirty&&this._.previousValue!==this.getSnapshot()},resetDirty:function(){if(this.mayBeDirty){this._.previousValue=this.getSnapshot()}},updateElement:function(){var n=this;var l=n.element;if(l&&n.elementMode==1){var m=n.getData();if(n.config.htmlEncodeOutput){m=e.htmlEncode(m)}if(l.is("textarea")){l.setValue(m)}else{l.setHtml(m)}}}});a.on("loaded",function(){var l=a.editor._pending;if(l){delete a.editor._pending;for(var m=0;m<l.length;m++){l[m]._init()}}});a.htmlParser=function(){this._={htmlPartsRegex:new RegExp("<(?:(?:\\/([^>]+)>)|(?:!--([\\S|\\s]*?)-->)|(?:([^\\s>]+)\\s*((?:(?:\"[^\"]*\")|(?:'[^']*')|[^\"'>])*)\\/?>))","g")}};(function(){var l=/([\w\-:.]+)(?:(?:\s*=\s*(?:(?:"([^"]*)")|(?:'([^']*)')|([^\s>]+)))|(?=\s|$))/g,m={checked:1,compact:1,declare:1,defer:1,disabled:1,ismap:1,multiple:1,nohref:1,noresize:1,noshade:1,nowrap:1,readonly:1,selected:1};a.htmlParser.prototype={onTagOpen:function(){},onTagClose:function(){},onText:function(){},onCDATA:function(){},onComment:function(){},parse:function(n){var A=this;var o,p,q=0,r;while(o=A._.htmlPartsRegex.exec(n)){var s=o.index;if(s>q){var t=n.substring(q,s);if(r){r.push(t)}else{A.onText(t)}}q=A._.htmlPartsRegex.lastIndex;if(p=o[1]){p=p.toLowerCase();if(r&&f.$cdata[p]){A.onCDATA(r.join(""));r=null}if(!r){A.onTagClose(p);continue}}if(r){r.push(o[0]);continue}if(p=o[3]){p=p.toLowerCase();if(/="/.test(p)){continue}var u={},v,w=o[4],x=!!(w&&w.charAt(w.length-1)=="/");if(w){while(v=l.exec(w)){var y=v[1].toLowerCase(),z=v[2]||v[3]||v[4]||"";if(!z&&m[y]){u[y]=y}else{u[y]=z}}}A.onTagOpen(p,u,x);if(!r&&f.$cdata[p]){r=[]}continue}if(p=o[2]){A.onComment(p)}}if(n.length>q){A.onText(n.substring(q,n.length))}}}})();a.htmlParser.comment=function(l){this.value=l;this._={isBlockLike:false}};a.htmlParser.comment.prototype={type:8,writeHtml:function(l,m){var n=this.value;if(m){if(!(n=m.onComment(n,this))){return}if(typeof n!="string"){n.parent=this.parent;n.writeHtml(l,m);return}}l.comment(n)}};(function(){var l=/[\t\r\n ]{2,}|[\t\r\n]/g;a.htmlParser.text=function(m){this.value=m;this._={isBlockLike:false}};a.htmlParser.text.prototype={type:3,writeHtml:function(m,n){var o=this.value;if(n&&!(o=n.onText(o,this))){return}m.text(o)}}})();(function(){a.htmlParser.cdata=function(l){this.value=l};a.htmlParser.cdata.prototype={type:3,writeHtml:function(l){l.write(this.value)}}})();a.htmlParser.fragment=function(){this.children=[];this.parent=null;this._={isBlockLike:true,hasInlineStarted:false}};(function(){var l=e.extend({table:1,ul:1,ol:1,dl:1},f.table,f.ul,f.ol,f.dl),m={ol:1,ul:1},n=e.extend({},{html:1},f.html,f.body,f.head,{style:1,script:1});a.htmlParser.fragment.fromHtml=function(o,p,q){var r=new a.htmlParser(),s=q||new a.htmlParser.fragment(),t=[],u=[],v=s,w=false;function x(A){var B;if(t.length>0){for(var C=0;C<t.length;C++){var D=t[C],E=D.name,F=f[E],G=v.name&&f[v.name];if((!G||G[E])&&(!A||!F||F[A]||!f[A])){if(!B){y();B=1}D=D.clone();D.parent=v;v=D;t.splice(C,1);C--}}}}function y(){while(u.length){v.add(u.shift())}}function z(A,B,C){if(A.previous!==undefined){return}B=B||v||s;var D=v;if(p&&(!B.type||B.name=="body")){var E,F;if(A.attributes&&(F=A.attributes["data-cke-real-element-type"])){E=F}else{E=A.name}if(E&&!(E in f.$body||E=="body"||A.isOrphan)){v=B;r.onTagOpen(p,{});A.returnPoint=B=v}}if(A._.isBlockLike&&A.name!="pre"){var G=A.children.length,H=A.children[G-1],I;if(H&&H.type==3){if(!(I=e.rtrim(H.value))){A.children.length=G-1}else{H.value=I}}}B.add(A);if(A.returnPoint){v=A.returnPoint;delete A.returnPoint}else{v=C?B:D}}r.onTagOpen=function(A,B,C,D){var E=new a.htmlParser.element(A,B);if(E.isUnknown&&C){E.isEmpty=true}E.isOptionalClose=D;if(f.$removeEmpty[A]){t.push(E);return}else{if(A=="pre"){w=true}else{if(A=="br"&&w){v.add(new a.htmlParser.text("\n"));return}}}if(A=="br"){u.push(E);return}while(1){var F=v.name,G=F?f[F]||(v._.isBlockLike?f.div:f.span):n;if(!E.isUnknown&&!v.isUnknown&&!G[A]){if(v.isOptionalClose){r.onTagClose(F)}else{if(A in m&&F in m){var H=v.children,I=H[H.length-1];if(!(I&&I.name=="li")){z(I=new a.htmlParser.element("li"),v)}!E.returnPoint&&(E.returnPoint=v);v=I}else{if(A in f.$listItem&&F!=A){r.onTagOpen(A=="li"?"ul":"dl",{},0,1)}else{if(F in l&&F!=A){!E.returnPoint&&(E.returnPoint=v);v=v.parent}else{if(F in f.$inline){t.unshift(v)}if(v.parent){z(v,v.parent,1)}else{E.isOrphan=1;break}}}}}}else{break}}x(A);y();E.parent=v;if(E.isEmpty){z(E)}else{v=E}};r.onTagClose=function(A){for(var B=t.length-1;B>=0;B--){if(A==t[B].name){t.splice(B,1);return}}var C=[],D=[],E=v;while(E!=s&&E.name!=A){if(!E._.isBlockLike){D.unshift(E)}C.push(E);E=E.returnPoint||E.parent}if(E!=s){for(B=0;B<C.length;B++){var F=C[B];z(F,F.parent)}v=E;if(v.name=="pre"){w=false}if(E._.isBlockLike){y()}z(E,E.parent);if(E==v){v=v.parent}t=t.concat(D)}if(A=="body"){p=false}};r.onText=function(A){if((!v._.hasInlineStarted||u.length)&&!w){A=e.ltrim(A);if(A.length===0){return}}y();x();if(p&&(!v.type||v.name=="body")&&e.trim(A)){this.onTagOpen(p,{},0,1)}if(!w){A=A.replace(/[\t\r\n ]{2,}|[\t\r\n]/g," ")}v.add(new a.htmlParser.text(A))};r.onCDATA=function(A){v.add(new a.htmlParser.cdata(A))};r.onComment=function(A){y();x();v.add(new a.htmlParser.comment(A))};r.parse(o);y(!c&&1);while(v!=s){z(v,v.parent,1)}return s};a.htmlParser.fragment.prototype={add:function(o){var r=this;var p=r.children.length,q=p>0&&r.children[p-1]||null;if(q){if(o._.isBlockLike&&q.type==3){q.value=e.rtrim(q.value);if(q.value.length===0){r.children.pop();r.add(o);return}}q.next=o}o.previous=q;o.parent=r;r.children.push(o);r._.hasInlineStarted=o.type==3||o.type==1&&!o._.isBlockLike},writeHtml:function(o,p){var q;this.filterChildren=function(){var r=new a.htmlParser.basicWriter();this.writeChildrenHtml.call(this,r,p,true);var s=r.getHtml();this.children=new a.htmlParser.fragment.fromHtml(s).children;q=1};!this.name&&p&&p.onFragment(this);this.writeChildrenHtml(o,q?null:p)},writeChildrenHtml:function(o,p){for(var q=0;q<this.children.length;q++){this.children[q].writeHtml(o,p)}}}})();a.htmlParser.element=function(l,m){var s=this;s.name=l;s.attributes=m||(m={});s.children=[];var n=m["data-cke-real-element-type"]||l||"",o=n.match(/^cke:(.*)/);o&&(n=o[1]);var p=f,q=!!(p.$nonBodyContent[n]||p.$block[n]||p.$listItem[n]||p.$tableContent[n]||p.$nonEditable[n]||n=="br"),r=!!p.$empty[l];s.isEmpty=r;s.isUnknown=!p[l];s._={isBlockLike:q,hasInlineStarted:r||!q}};(function(){var l=function(m,n){m=m[0];n=n[0];return m<n?-1:m>n?1:0};a.htmlParser.element.prototype={type:1,add:a.htmlParser.fragment.prototype.add,clone:function(){return new a.htmlParser.element(this.name,this.attributes)},writeHtml:function(m,n){var o=this.attributes,p=this,q=p.name,r,s,t,u;p.filterChildren=function(){if(!u){var z=new a.htmlParser.basicWriter();a.htmlParser.fragment.prototype.writeChildrenHtml.call(p,z,n);p.children=new a.htmlParser.fragment.fromHtml(z.getHtml(),0,p.clone()).children;u=1}};if(n){for(;;){if(!(q=n.onElementName(q))){return}p.name=q;if(!(p=n.onElement(p))){return}p.parent=this.parent;if(p.name==q){break}if(p.type!=1){p.writeHtml(m,n);return}q=p.name;if(!q){this.writeChildrenHtml.call(p,m,u?null:n);return}}o=p.attributes}m.openTag(q,o);var v=[];for(var w=0;w<2;w++){for(r in o){s=r;t=o[r];if(w==1){v.push([r,t])}else{if(n){for(;;){if(!(s=n.onAttributeName(r))){delete o[r];break}else{if(s!=r){delete o[r];r=s;continue}else{break}}}if(s){if((t=n.onAttribute(p,s,t))===false){delete o[s]}else{o[s]=t}}}}}}if(m.sortAttributes){v.sort(l)}var x=v.length;for(w=0;w<x;w++){var y=v[w];m.attribute(y[0],y[1])}m.openTagClose(q,p.isEmpty);if(!p.isEmpty){this.writeChildrenHtml.call(p,m,u?null:n);m.closeTag(q)}},writeChildrenHtml:function(m,n){a.htmlParser.fragment.prototype.writeChildrenHtml.apply(this,arguments)}}})();(function(){a.htmlParser.filter=e.createClass({$:function(q){this._={elementNames:[],attributeNames:[],elements:{$length:0},attributes:{$length:0}};if(q){this.addRules(q,10)}},proto:{addRules:function(q,r){var s=this;if(typeof r!="number"){r=10}m(s._.elementNames,q.elementNames,r);m(s._.attributeNames,q.attributeNames,r);n(s._.elements,q.elements,r);n(s._.attributes,q.attributes,r);s._.text=o(s._.text,q.text,r)||s._.text;s._.comment=o(s._.comment,q.comment,r)||s._.comment;s._.root=o(s._.root,q.root,r)||s._.root},onElementName:function(q){return l(q,this._.elementNames)},onAttributeName:function(q){return l(q,this._.attributeNames)},onText:function(q){var r=this._.text;return r?r.filter(q):q},onComment:function(q,r){var s=this._.comment;return s?s.filter(q,r):q},onFragment:function(q){var r=this._.root;return r?r.filter(q):q},onElement:function(q){var v=this;var r=[v._.elements["^"],v._.elements[q.name],v._.elements.$],s,t;for(var u=0;u<3;u++){s=r[u];if(s){t=s.filter(q,v);if(t===false){return null}if(t&&t!=q){return v.onNode(t)}if(q.parent&&!q.name){break}}}return q},onNode:function(q){var r=q.type;return r==1?this.onElement(q):r==3?new a.htmlParser.text(this.onText(q.value)):r==8?new a.htmlParser.comment(this.onComment(q.value)):null},onAttribute:function(q,r,s){var t=this._.attributes[r];if(t){var u=t.filter(s,q,this);if(u===false){return false}if(typeof u!="undefined"){return u}}return s}}});function l(q,r){for(var s=0;q&&s<r.length;s++){var t=r[s];q=q.replace(t[0],t[1])}return q}function m(q,r,s){if(typeof r=="function"){r=[r]}var t,u,v=q.length,w=r&&r.length;if(w){for(t=0;t<v&&q[t].pri<s;t++){}for(u=w-1;u>=0;u--){var x=r[u];if(x){x.pri=s;q.splice(t,0,x)}}}}function n(q,r,s){if(r){for(var t in r){var u=q[t];q[t]=o(u,r[t],s);if(!u){q.$length++}}}}function o(q,r,s){if(r){r.pri=s;if(q){if(!q.splice){if(q.pri>s){q=[r,q]}else{q=[q,r]}q.filter=p}else{m(q,r,s)}return q}else{r.filter=r;return r}}}function p(q){var r=q.type||q instanceof a.htmlParser.fragment;for(var s=0;s<this.length;s++){if(r){var t=q.type,u=q.name}var v=this[s],w=v.apply(window,arguments);if(w===false){return w}if(r){if(w&&(w.name!=u||w.type!=t)){return w}}else{if(typeof w!="string"){return w}}w!=undefined&&(q=w)}return q}})();a.htmlParser.basicWriter=e.createClass({$:function(){this._={output:[]}},proto:{openTag:function(l,m){this._.output.push("<",l)},openTagClose:function(l,m){if(m){this._.output.push(" />")}else{this._.output.push(">")}},attribute:function(l,m){if(typeof m=="string"){m=e.htmlEncodeAttr(m)}this._.output.push(" ",l,'="',m,'"')},closeTag:function(l){this._.output.push("</",l,">")},text:function(l){this._.output.push(l)},comment:function(l){this._.output.push("<!--",l,"-->")},write:function(l){this._.output.push(l)},reset:function(){this._.output=[];this._.indent=false},getHtml:function(l){var m=this._.output.join("");if(l){this.reset()}return m}}});delete a.loadFullCore;a.instances={};a.document=new g(document);a.add=function(l){a.instances[l.name]=l;l.on("focus",function(){if(a.currentInstance!=l){a.currentInstance=l;a.fire("currentInstance")}});l.on("blur",function(){if(a.currentInstance==l){a.currentInstance=null;a.fire("currentInstance")}})};a.remove=function(l){delete a.instances[l.name]};a.on("instanceDestroyed",function(){if(e.isEmpty(this.instances)){a.fire("reset")}});a.TRISTATE_ON=1;a.TRISTATE_OFF=2;a.TRISTATE_DISABLED=0;d.comment=e.createClass({base:d.node,$:function(l,m){if(typeof l=="string"){l=(m?m.$:document).createComment(l)}this.base(l)},proto:{type:8,getOuterHtml:function(){return"<!--"+this.$.nodeValue+"-->"}}});(function(){var l={address:1,blockquote:1,dl:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1,p:1,pre:1,li:1,dt:1,dd:1,legend:1},m={body:1,div:1,table:1,tbody:1,tr:1,td:1,th:1,caption:1,form:1,fieldset:1},n=function(o){var p=o.getChildren();for(var q=0,r=p.count();q<r;q++){var s=p.getItem(q);if(s.type==1&&f.$block[s.getName()]){return true}}return false};d.elementPath=function(o){var u=this;var p=null,q=null,r=[],s=o;while(s){if(s.type==1){if(!u.lastElement){u.lastElement=s}var t=s.getName();if(c&&s.$.scopeName!="HTML"){t=s.$.scopeName.toLowerCase()+":"+t}if(!q){if(!p&&l[t]){p=s}if(m[t]){if(!p&&t=="div"&&!n(s)){p=s}else{q=s}}}r.push(s);if(t=="body"){break}}s=s.getParent()}u.block=p;u.blockLimit=q;u.elements=r}})();d.elementPath.prototype={compare:function(l){var m=this.elements,n=l&&l.elements;if(!n||m.length!=n.length){return false}for(var o=0;o<m.length;o++){if(!m[o].equals(n[o])){return false}}return true},contains:function(l){var m=this.elements;for(var n=0;n<m.length;n++){if(m[n].getName() in l){return m[n]}}return null}};d.text=function(l,m){if(typeof l=="string"){l=(m?m.$:document).createTextNode(l)}this.$=l};d.text.prototype=new d.node();e.extend(d.text.prototype,{type:3,getLength:function(){return this.$.nodeValue.length},getText:function(){return this.$.nodeValue},setText:function(l){this.$.nodeValue=l},split:function(l){var q=this;if(c&&l==q.getLength()){var m=q.getDocument().createText("");m.insertAfter(q);return m}var n=q.getDocument(),o=new d.text(q.$.splitText(l),n);if(b.ie8){var p=new d.text("",n);p.insertAfter(o);p.remove()}return o},substring:function(l,m){if(typeof m!="number"){return this.$.nodeValue.substr(l)}else{return this.$.nodeValue.substring(l,m)}}});d.documentFragment=function(l){l=l||a.document;this.$=l.$.createDocumentFragment()};e.extend(d.documentFragment.prototype,h.prototype,{type:11,insertAfterNode:function(l){l=l.$;l.parentNode.insertBefore(this.$,l.nextSibling)}},true,{append:1,appendBogus:1,getFirst:1,getLast:1,appendTo:1,moveChildren:1,insertBefore:1,insertAfterNode:1,replace:1,trim:1,type:1,ltrim:1,rtrim:1,getDocument:1,getChildCount:1,getChild:1,getChildren:1});(function(){function l(s,t){if(this._.end){return null}var u,v=this.range,w,x=this.guard,y=this.type,z=s?"getPreviousSourceNode":"getNextSourceNode";if(!this._.start){this._.start=1;v.trim();if(v.collapsed){this.end();return null}}if(!s&&!this._.guardLTR){var A=v.endContainer,B=A.getChild(v.endOffset);this._.guardLTR=function(F,G){return(!G||!A.equals(F))&&(!B||!F.equals(B))&&(F.type!=1||!G||F.getName()!="body")}}if(s&&!this._.guardRTL){var C=v.startContainer,D=v.startOffset>0&&C.getChild(v.startOffset-1);this._.guardRTL=function(F,G){return(!G||!C.equals(F))&&(!D||!F.equals(D))&&(F.type!=1||!G||F.getName()!="body")}}var E=s?this._.guardRTL:this._.guardLTR;if(x){w=function(F,G){if(E(F,G)===false){return false}return x(F,G)}}else{w=E}if(this.current){u=this.current[z](false,y,w)}else{if(s){u=v.endContainer;if(v.endOffset>0){u=u.getChild(v.endOffset-1);if(w(u)===false){u=null}}else{u=w(u,true)===false?null:u.getPreviousSourceNode(true,y,w)}}else{u=v.startContainer;u=u.getChild(v.startOffset);if(u){if(w(u)===false){u=null}}else{u=w(v.startContainer,true)===false?null:v.startContainer.getNextSourceNode(true,y,w)}}}while(u&&!this._.end){this.current=u;if(!this.evaluator||this.evaluator(u)!==false){if(!t){return u}}else{if(t&&this.evaluator){return false}}u=u[z](false,y,w)}this.end();return this.current=null}function m(s){var t,u=null;while(t=l.call(this,s)){u=t}return u}d.walker=e.createClass({$:function(s){this.range=s;this._={}},proto:{end:function(){this._.end=1},next:function(){return l.call(this)},previous:function(){return l.call(this,1)},checkForward:function(){return l.call(this,0,1)!==false},checkBackward:function(){return l.call(this,1,1)!==false},lastForward:function(){return m.call(this)},lastBackward:function(){return m.call(this,1)},reset:function(){delete this.current;this._={}}}});var n={block:1,"list-item":1,table:1,"table-row-group":1,"table-header-group":1,"table-footer-group":1,"table-row":1,"table-column-group":1,"table-column":1,"table-cell":1,"table-caption":1};h.prototype.isBlockBoundary=function(s){var t=s?e.extend({},f.$block,s||{}):f.$block;return this.getComputedStyle("float")=="none"&&n[this.getComputedStyle("display")]||t[this.getName()]};d.walker.blockBoundary=function(s){return function(t,u){return !(t.type==1&&t.isBlockBoundary(s))}};d.walker.listItemBoundary=function(){return this.blockBoundary({br:1})};d.walker.bookmark=function(s,t){function u(v){return v&&v.getName&&v.getName()=="span"&&v.data("cke-bookmark")}return function(v){var w,x;w=v&&!v.getName&&(x=v.getParent())&&u(x);w=s?w:w||u(v);return !!(t^w)}};d.walker.whitespaces=function(s){return function(t){var u=t&&t.type==3&&!e.trim(t.getText());return !!(s^u)}};d.walker.invisible=function(s){var t=d.walker.whitespaces();return function(u){var v=t(u)||u.is&&!u.$.offsetHeight;return !!(s^v)}};d.walker.nodeType=function(s,t){return function(u){return !!(t^u.type==s)}};var o=/^[\t\r\n ]*(?:&nbsp;|\xa0)$/,p=d.walker.whitespaces(),q=d.walker.bookmark(),r=function(s){return q(s)||p(s)||s.type==1&&s.getName() in f.$inline&&!(s.getName() in f.$empty)};h.prototype.getBogus=function(){var s=this;do{s=s.getPreviousSourceNode()}while(r(s));if(s&&(!c?s.is&&s.is("br"):s.getText&&o.test(s.getText()))){return s}return false}})();d.range=function(l){var m=this;m.startContainer=null;m.startOffset=null;m.endContainer=null;m.endOffset=null;m.collapsed=true;m.document=l};(function(){var l=function(t){t.collapsed=t.startContainer&&t.endContainer&&t.startContainer.equals(t.endContainer)&&t.startOffset==t.endOffset},m=function(t,u,v,w){t.optimizeBookmark();var x=t.startContainer,y=t.endContainer,z=t.startOffset,A=t.endOffset,B,C;if(y.type==3){y=y.split(A)}else{if(y.getChildCount()>0){if(A>=y.getChildCount()){y=y.append(t.document.createText(""));C=true}else{y=y.getChild(A)}}}if(x.type==3){x.split(z);if(x.equals(y)){y=x.getNext()}}else{if(!z){x=x.getFirst().insertBeforeMe(t.document.createText(""));B=true}else{if(z>=x.getChildCount()){x=x.append(t.document.createText(""));B=true}else{x=x.getChild(z).getPrevious()}}}var D=x.getParents(),E=y.getParents(),F,G,H;for(F=0;F<D.length;F++){G=D[F];H=E[F];if(!G.equals(H)){break}}var I=v,J,K,L,M;for(var N=F;N<D.length;N++){J=D[N];if(I&&!J.equals(x)){K=I.append(J.clone())}L=J.getNext();while(L){if(L.equals(E[N])||L.equals(y)){break}M=L.getNext();if(u==2){I.append(L.clone(true))}else{L.remove();if(u==1){I.append(L)}}L=M}if(I){I=K}}I=v;for(var O=F;O<E.length;O++){J=E[O];if(u>0&&!J.equals(y)){K=I.append(J.clone())}if(!D[O]||J.$.parentNode!=D[O].$.parentNode){L=J.getPrevious();while(L){if(L.equals(D[O])||L.equals(x)){break}M=L.getPrevious();if(u==2){I.$.insertBefore(L.$.cloneNode(true),I.$.firstChild)}else{L.remove();if(u==1){I.$.insertBefore(L.$,I.$.firstChild)}}L=M}}if(I){I=K}}if(u==2){var P=t.startContainer;if(P.type==3){P.$.data+=P.$.nextSibling.data;P.$.parentNode.removeChild(P.$.nextSibling)}var Q=t.endContainer;if(Q.type==3&&Q.$.nextSibling){Q.$.data+=Q.$.nextSibling.data;Q.$.parentNode.removeChild(Q.$.nextSibling)}}else{if(G&&H&&(x.$.parentNode!=G.$.parentNode||y.$.parentNode!=H.$.parentNode)){var R=H.getIndex();if(B&&H.$.parentNode==x.$.parentNode){R--}if(w&&G.type==1){var S=h.createFromHtml('<span data-cke-bookmark="1" style="display:none">&nbsp;</span>',t.document);S.insertAfter(G);G.mergeSiblings(false);t.moveToBookmark({startNode:S})}else{t.setStart(H.getParent(),R)}}t.collapse(true)}if(B){x.remove()}if(C&&y.$.parentNode){y.remove()}},n={abbr:1,acronym:1,b:1,bdo:1,big:1,cite:1,code:1,del:1,dfn:1,em:1,font:1,i:1,ins:1,label:1,kbd:1,q:1,samp:1,small:1,span:1,strike:1,strong:1,sub:1,sup:1,tt:1,u:1,"var":1};function o(t){var u=false,v=d.walker.bookmark(true);return function(w){if(v(w)){return true}if(w.type==3){if(w.hasAscendant("pre")||e.trim(w.getText()).length){return false}}else{if(w.type==1){if(!n[w.getName()]){if(!t&&!c&&w.getName()=="br"&&!u){u=true}else{return false}}}}return true}}function p(t){return t.type!=3&&t.getName() in f.$removeEmpty||!e.trim(t.getText())||!!t.getParent().data("cke-bookmark")}var q=new d.walker.whitespaces(),r=new d.walker.bookmark();function s(t){return !q(t)&&!r(t)}d.range.prototype={clone:function(){var u=this;var t=new d.range(u.document);t.startContainer=u.startContainer;t.startOffset=u.startOffset;t.endContainer=u.endContainer;t.endOffset=u.endOffset;t.collapsed=u.collapsed;return t},collapse:function(t){var u=this;if(t){u.endContainer=u.startContainer;u.endOffset=u.startOffset}else{u.startContainer=u.endContainer;u.startOffset=u.endOffset}u.collapsed=true},cloneContents:function(){var t=new d.documentFragment(this.document);if(!this.collapsed){m(this,2,t)}return t},deleteContents:function(t){if(this.collapsed){return}m(this,0,null,t)},extractContents:function(t){var u=new d.documentFragment(this.document);if(!this.collapsed){m(this,1,u,t)}return u},createBookmark:function(t){var z=this;var u,v,w,x,y=z.collapsed;u=z.document.createElement("span");u.data("cke-bookmark",1);u.setStyle("display","none");u.setHtml("&nbsp;");if(t){w="cke_bm_"+e.getNextNumber();u.setAttribute("id",w+"S")}if(!y){v=u.clone();v.setHtml("&nbsp;");if(t){v.setAttribute("id",w+"E")}x=z.clone();x.collapse();x.insertNode(v)}x=z.clone();x.collapse(true);x.insertNode(u);if(v){z.setStartAfter(u);z.setEndBefore(v)}else{z.moveToPosition(u,4)}return{startNode:t?w+"S":u,endNode:t?w+"E":v,serializable:t,collapsed:y}},createBookmark2:function(t){var B=this;var u=B.startContainer,v=B.endContainer,w=B.startOffset,x=B.endOffset,y=B.collapsed,z,A;if(!u||!v){return{start:0,end:0}}if(t){if(u.type==1){z=u.getChild(w);if(z&&z.type==3&&w>0&&z.getPrevious().type==3){u=z;w=0}if(z&&z.type==1){w=z.getIndex(1)}}while(u.type==3&&(A=u.getPrevious())&&A.type==3){u=A;w+=A.getLength()}if(!y){if(v.type==1){z=v.getChild(x);if(z&&z.type==3&&x>0&&z.getPrevious().type==3){v=z;x=0}if(z&&z.type==1){x=z.getIndex(1)}}while(v.type==3&&(A=v.getPrevious())&&A.type==3){v=A;x+=A.getLength()}}}return{start:u.getAddress(t),end:y?null:v.getAddress(t),startOffset:w,endOffset:x,normalized:t,collapsed:y,is2:true}},moveToBookmark:function(t){var B=this;if(t.is2){var u=B.document.getByAddress(t.start,t.normalized),v=t.startOffset,w=t.end&&B.document.getByAddress(t.end,t.normalized),x=t.endOffset;B.setStart(u,v);if(w){B.setEnd(w,x)}else{B.collapse(true)}}else{var y=t.serializable,z=y?B.document.getById(t.startNode):t.startNode,A=y?B.document.getById(t.endNode):t.endNode;B.setStartBefore(z);z.remove();if(A){B.setEndBefore(A);A.remove()}else{B.collapse(true)}}},getBoundaryNodes:function(){var y=this;var t=y.startContainer,u=y.endContainer,v=y.startOffset,w=y.endOffset,x;if(t.type==1){x=t.getChildCount();if(x>v){t=t.getChild(v)}else{if(x<1){t=t.getPreviousSourceNode()}else{t=t.$;while(t.lastChild){t=t.lastChild}t=new d.node(t);t=t.getNextSourceNode()||t}}}if(u.type==1){x=u.getChildCount();if(x>w){u=u.getChild(w).getPreviousSourceNode(true)}else{if(x<1){u=u.getPreviousSourceNode()}else{u=u.$;while(u.lastChild){u=u.lastChild}u=new d.node(u)}}}if(t.getPosition(u)&2){t=u}return{startNode:t,endNode:u}},getCommonAncestor:function(t,u){var y=this;var v=y.startContainer,w=y.endContainer,x;if(v.equals(w)){if(t&&v.type==1&&y.startOffset==y.endOffset-1){x=v.getChild(y.startOffset)}else{x=v}}else{x=v.getCommonAncestor(w)}return u&&!x.is?x.getParent():x},optimize:function(){var v=this;var t=v.startContainer,u=v.startOffset;if(t.type!=1){if(!u){v.setStartBefore(t)}else{if(u>=t.getLength()){v.setStartAfter(t)}}}t=v.endContainer;u=v.endOffset;if(t.type!=1){if(!u){v.setEndBefore(t)}else{if(u>=t.getLength()){v.setEndAfter(t)}}}},optimizeBookmark:function(){var v=this;var t=v.startContainer,u=v.endContainer;if(t.is&&t.is("span")&&t.data("cke-bookmark")){v.setStartAt(t,3)}if(u&&u.is&&u.is("span")&&u.data("cke-bookmark")){v.setEndAt(u,4)}},trim:function(t,u){var B=this;var v=B.startContainer,w=B.startOffset,x=B.collapsed;if((!t||x)&&v&&v.type==3){if(!w){w=v.getIndex();v=v.getParent()}else{if(w>=v.getLength()){w=v.getIndex()+1;v=v.getParent()}else{var y=v.split(w);w=v.getIndex()+1;v=v.getParent();if(B.startContainer.equals(B.endContainer)){B.setEnd(y,B.endOffset-B.startOffset)}else{if(v.equals(B.endContainer)){B.endOffset+=1}}}}B.setStart(v,w);if(x){B.collapse(true);return}}var z=B.endContainer,A=B.endOffset;if(!(u||x)&&z&&z.type==3){if(!A){A=z.getIndex();z=z.getParent()}else{if(A>=z.getLength()){A=z.getIndex()+1;z=z.getParent()}else{z.split(A);A=z.getIndex()+1;z=z.getParent()}}B.setEnd(z,A)}},enlarge:function(t,u){switch(t){case 1:if(this.collapsed){return}var v=this.getCommonAncestor(),w=this.document.getBody(),x,y,z,A,B,C=false,D,E,F=this.startContainer,G=this.startOffset;if(F.type==3){if(G){F=!e.trim(F.substring(0,G)).length&&F;C=!!F}if(F){if(!(A=F.getPrevious())){z=F.getParent()}}}else{if(G){A=F.getChild(G-1)||F.getLast()}if(!A){z=F}}while(z||A){if(z&&!A){if(!B&&z.equals(v)){B=true}if(!w.contains(z)){break}if(!C||z.getComputedStyle("display")!="inline"){C=false;if(B){x=z}else{this.setStartBefore(z)}}A=z.getPrevious()}while(A){D=false;if(A.type==3){E=A.getText();if(/[^\s\ufeff]/.test(E)){A=null}D=/[\s\ufeff]$/.test(E)}else{if((A.$.offsetWidth>0||u&&A.is("br"))&&!A.data("cke-bookmark")){if(C&&f.$removeEmpty[A.getName()]){E=A.getText();if(/[^\s\ufeff]/.test(E)){A=null}else{var H=A.$.all||A.$.getElementsByTagName("*");for(var I=0,J;J=H[I++];){if(!f.$removeEmpty[J.nodeName.toLowerCase()]){A=null;break}}}if(A){D=!!E.length}}else{A=null}}}if(D){if(C){if(B){x=z}else{if(z){this.setStartBefore(z)}}}else{C=true}}if(A){var K=A.getPrevious();if(!z&&!K){z=A;A=null;break}A=K}else{z=null}}if(z){z=z.getParent()}}F=this.endContainer;G=this.endOffset;z=A=null;B=C=false;if(F.type==3){F=!e.trim(F.substring(G)).length&&F;C=!(F&&F.getLength());if(F){if(!(A=F.getNext())){z=F.getParent()}}}else{A=F.getChild(G);if(!A){z=F}}while(z||A){if(z&&!A){if(!B&&z.equals(v)){B=true}if(!w.contains(z)){break}if(!C||z.getComputedStyle("display")!="inline"){C=false;if(B){y=z}else{if(z){this.setEndAfter(z)}}}A=z.getNext()}while(A){D=false;if(A.type==3){E=A.getText();if(/[^\s\ufeff]/.test(E)){A=null}D=/^[\s\ufeff]/.test(E)}else{if((A.$.offsetWidth>0||u&&A.is("br"))&&!A.data("cke-bookmark")){if(C&&f.$removeEmpty[A.getName()]){E=A.getText();if(/[^\s\ufeff]/.test(E)){A=null}else{H=A.$.all||A.$.getElementsByTagName("*");for(I=0;J=H[I++];){if(!f.$removeEmpty[J.nodeName.toLowerCase()]){A=null;break}}}if(A){D=!!E.length}}else{A=null}}}if(D){if(C){if(B){y=z}else{this.setEndAfter(z)}}}if(A){K=A.getNext();if(!z&&!K){z=A;A=null;break}A=K}else{z=null}}if(z){z=z.getParent()}}if(x&&y){v=x.contains(y)?y:x;this.setStartBefore(v);this.setEndAfter(v)}break;case 2:case 3:var L=new d.range(this.document);w=this.document.getBody();L.setStartAt(w,1);L.setEnd(this.startContainer,this.startOffset);var M=new d.walker(L),N,O,P=d.walker.blockBoundary(t==3?{br:1}:null),Q=function(S){var T=P(S);if(!T){N=S}return T},R=function(S){var T=Q(S);if(!T&&S.is&&S.is("br")){O=S}return T};M.guard=Q;z=M.lastBackward();N=N||w;this.setStartAt(N,!N.is("br")&&(!z&&this.checkStartOfBlock()||z&&N.contains(z))?1:4);L=this.clone();L.collapse();L.setEndAt(w,2);M=new d.walker(L);M.guard=t==3?R:Q;N=null;z=M.lastForward();N=N||w;this.setEndAt(N,!z&&this.checkEndOfBlock()||z&&N.contains(z)?2:3);if(O){this.setEndAfter(O)}}},shrink:function(t,u){if(!this.collapsed){t=t||2;var v=this.clone(),w=this.startContainer,x=this.endContainer,y=this.startOffset,z=this.endOffset,A=this.collapsed,B=1,C=1;if(w&&w.type==3){if(!y){v.setStartBefore(w)}else{if(y>=w.getLength()){v.setStartAfter(w)}else{v.setStartBefore(w);B=0}}}if(x&&x.type==3){if(!z){v.setEndBefore(x)}else{if(z>=x.getLength()){v.setEndAfter(x)}else{v.setEndAfter(x);C=0}}}var D=new d.walker(v),E=d.walker.bookmark();D.evaluator=function(I){return I.type==(t==1?1:3)};var F;D.guard=function(I,J){if(E(I)){return true}if(t==1&&I.type==3){return false}if(J&&I.equals(F)){return false}if(!J&&I.type==1){F=I}return true};if(B){var G=D[t==1?"lastForward":"next"]();G&&this.setStartAt(G,u?1:3)}if(C){D.reset();var H=D[t==1?"lastBackward":"previous"]();H&&this.setEndAt(H,u?2:4)}return !!(B||C)}},insertNode:function(t){var x=this;x.optimizeBookmark();x.trim(false,true);var u=x.startContainer,v=x.startOffset,w=u.getChild(v);if(w){t.insertBefore(w)}else{u.append(t)}if(t.getParent().equals(x.endContainer)){x.endOffset++}x.setStartBefore(t)},moveToPosition:function(t,u){this.setStartAt(t,u);this.collapse(true)},selectNodeContents:function(t){this.setStart(t,0);this.setEnd(t,t.type==3?t.getLength():t.getChildCount())},setStart:function(t,u){var v=this;if(t.type==1&&f.$empty[t.getName()]){u=t.getIndex(),t=t.getParent()}v.startContainer=t;v.startOffset=u;if(!v.endContainer){v.endContainer=t;v.endOffset=u}l(v)},setEnd:function(t,u){var v=this;if(t.type==1&&f.$empty[t.getName()]){u=t.getIndex()+1,t=t.getParent()}v.endContainer=t;v.endOffset=u;if(!v.startContainer){v.startContainer=t;v.startOffset=u}l(v)},setStartAfter:function(t){this.setStart(t.getParent(),t.getIndex()+1)},setStartBefore:function(t){this.setStart(t.getParent(),t.getIndex())},setEndAfter:function(t){this.setEnd(t.getParent(),t.getIndex()+1)},setEndBefore:function(t){this.setEnd(t.getParent(),t.getIndex())},setStartAt:function(t,u){var v=this;switch(u){case 1:v.setStart(t,0);break;case 2:if(t.type==3){v.setStart(t,t.getLength())}else{v.setStart(t,t.getChildCount())}break;case 3:v.setStartBefore(t);break;case 4:v.setStartAfter(t)}l(v)},setEndAt:function(t,u){var v=this;switch(u){case 1:v.setEnd(t,0);break;case 2:if(t.type==3){v.setEnd(t,t.getLength())}else{v.setEnd(t,t.getChildCount())}break;case 3:v.setEndBefore(t);break;case 4:v.setEndAfter(t)}l(v)},fixBlock:function(t,u){var x=this;var v=x.createBookmark(),w=x.document.createElement(u);x.collapse(t);x.enlarge(2);x.extractContents().appendTo(w);w.trim();if(!c){w.appendBogus()}x.insertNode(w);x.moveToBookmark(v);return w},splitBlock:function(t){var D=this;var u=new d.elementPath(D.startContainer),v=new d.elementPath(D.endContainer),w=u.blockLimit,x=v.blockLimit,y=u.block,z=v.block,A=null;if(!w.equals(x)){return null}if(t!="br"){if(!y){y=D.fixBlock(true,t);z=new d.elementPath(D.endContainer).block}if(!z){z=D.fixBlock(false,t)}}var B=y&&D.checkStartOfBlock(),C=z&&D.checkEndOfBlock();D.deleteContents();if(y&&y.equals(z)){if(C){A=new d.elementPath(D.startContainer);D.moveToPosition(z,4);z=null}else{if(B){A=new d.elementPath(D.startContainer);D.moveToPosition(y,3);y=null}else{z=D.splitElement(y);if(!c&&!y.is("ul","ol")){y.appendBogus()}}}}return{previousBlock:y,nextBlock:z,wasStartOfBlock:B,wasEndOfBlock:C,elementPath:A}},splitElement:function(t){var w=this;if(!w.collapsed){return null}w.setEndAt(t,2);var u=w.extractContents(),v=t.clone(false);u.appendTo(v);v.insertAfter(t);w.moveToPosition(t,4);return v},checkBoundaryOfElement:function(t,u){var v=u==1,w=this.clone();w.collapse(v);w[v?"setStartAt":"setEndAt"](t,v?1:2);var x=new d.walker(w);x.evaluator=p;return x[v?"checkBackward":"checkForward"]()},checkStartOfBlock:function(){var z=this;var t=z.startContainer,u=z.startOffset;if(u&&t.type==3){var v=e.ltrim(t.substring(0,u));if(v.length){return false}}z.trim();var w=new d.elementPath(z.startContainer),x=z.clone();x.collapse(true);x.setStartAt(w.block||w.blockLimit,1);var y=new d.walker(x);y.evaluator=o(true);return y.checkBackward()},checkEndOfBlock:function(){var z=this;var t=z.endContainer,u=z.endOffset;if(t.type==3){var v=e.rtrim(t.substring(u));if(v.length){return false}}z.trim();var w=new d.elementPath(z.endContainer),x=z.clone();x.collapse(false);x.setEndAt(w.block||w.blockLimit,2);var y=new d.walker(x);y.evaluator=o(false);return y.checkForward()},checkReadOnly:(function(){function t(u,v){while(u){if(u.type==1){if(u.getAttribute("contentEditable")=="false"&&!u.data("cke-editable")){return 0}else{if(u.is("html")||u.getAttribute("contentEditable")=="true"&&(u.contains(v)||u.equals(v))){break}}}u=u.getParent()}return 1}return function(){var u=this.startContainer,v=this.endContainer;return !(t(u,v)&&t(v,u))}})(),moveToElementEditablePosition:function(t,u){var v;if(f.$empty[t.getName()]){return false}while(t&&t.type==1){v=t.isEditable();if(v){this.moveToPosition(t,u?2:1)}else{if(f.$inline[t.getName()]){this.moveToPosition(t,u?4:3);return true}}if(f.$empty[t.getName()]){t=t[u?"getPrevious":"getNext"](s)}else{t=t[u?"getLast":"getFirst"](s)}if(t&&t.type==3){this.moveToPosition(t,u?4:3);return true}}return v},moveToElementEditStart:function(t){return this.moveToElementEditablePosition(t)},moveToElementEditEnd:function(t){return this.moveToElementEditablePosition(t,true)},getEnclosedNode:function(){var t=this.clone();t.optimize();if(t.startContainer.type!=1||t.endContainer.type!=1){return null}var u=new d.walker(t),v=d.walker.bookmark(true),w=d.walker.whitespaces(true),x=function(z){return w(z)&&v(z)};t.evaluator=x;var y=u.next();u.reset();return y&&y.equals(u.previous())?y:null},getTouchedStartNode:function(){var t=this.startContainer;if(this.collapsed||t.type!=1){return t}return t.getChild(this.startOffset)||t},getTouchedEndNode:function(){var t=this.endContainer;if(this.collapsed||t.type!=1){return t}return t.getChild(this.endOffset-1)||t}}})();a.POSITION_AFTER_START=1;a.POSITION_BEFORE_END=2;a.POSITION_BEFORE_START=3;a.POSITION_AFTER_END=4;a.ENLARGE_ELEMENT=1;a.ENLARGE_BLOCK_CONTENTS=2;a.ENLARGE_LIST_ITEM_CONTENTS=3;a.START=1;a.END=2;a.STARTEND=3;a.SHRINK_ELEMENT=1;a.SHRINK_TEXT=2;(function(){d.rangeList=function(n){if(n instanceof d.rangeList){return n}if(!n){n=[]}else{if(n instanceof d.range){n=[n]}}return e.extend(n,l)};var l={createIterator:function(){var n=this,o=d.walker.bookmark(),p=function(s){return !(s.is&&s.is("tr"))},q=[],r;return{getNextRange:function(s){r=r==undefined?0:r+1;var t=n[r];if(t&&n.length>1){if(!r){for(var u=n.length-1;u>=0;u--){q.unshift(n[u].createBookmark(true))}}if(s){var v=0;while(n[r+v+1]){var w=t.document,x=0,y=w.getById(q[v].endNode),z=w.getById(q[v+1].startNode),A;while(1){A=y.getNextSourceNode(false);if(!z.equals(A)){if(o(A)||A.type==1&&A.isBlockBoundary()){y=A;continue}}else{x=1}break}if(!x){break}v++}}t.moveToBookmark(q.shift());while(v--){A=n[++r];A.moveToBookmark(q.shift());t.setEnd(A.endContainer,A.endOffset)}}return t}}},createBookmarks:function(n){var s=this;var o=[],p;for(var q=0;q<s.length;q++){o.push(p=s[q].createBookmark(n,true));for(var r=q+1;r<s.length;r++){s[r]=m(p,s[r]);s[r]=m(p,s[r],true)}}return o},createBookmarks2:function(n){var o=[];for(var p=0;p<this.length;p++){o.push(this[p].createBookmark2(n))}return o},moveToBookmarks:function(n){for(var o=0;o<this.length;o++){this[o].moveToBookmark(n[o])}}};function m(n,o,p){var q=n.serializable,r=o[p?"endContainer":"startContainer"],s=p?"endOffset":"startOffset",t=q?o.document.getById(n.startNode):n.startNode,u=q?o.document.getById(n.endNode):n.endNode;if(r.equals(t.getPrevious())){o.startOffset=o.startOffset-r.getLength()-u.getPrevious().getLength();r=u.getNext()}else{if(r.equals(u.getPrevious())){o.startOffset=o.startOffset-r.getLength();r=u.getNext()}}r.equals(t.getParent())&&o[s]++;r.equals(u.getParent())&&o[s]++;o[p?"endContainer":"startContainer"]=r;return o}})();(function(){if(b.webkit){b.hc=false;return}var l=h.createFromHtml('<div style="width:0px;height:0px;position:absolute;left:-10000px;border: 1px solid;border-color: red blue;"></div>',a.document);l.appendTo(a.document.getHead());try{b.hc=l.getComputedStyle("border-top-color")==l.getComputedStyle("border-right-color")}catch(m){b.hc=false}if(b.hc){b.cssClass+=" cke_hc"}l.remove()})();j.load(i.corePlugins.split(","),function(){a.status="loaded";a.fire("loaded");var l=a._.pending;if(l){delete a._.pending;for(var m=0;m<l.length;m++){a.add(l[m])}}});if(c){try{document.execCommand("BackgroundImageCache",false,true)}catch(l){}}a.skins.add("kama",(function(){var m="cke_ui_color";return{editor:{css:["editor.css"]},dialog:{css:["dialog.css"]},richcombo:{canGroup:false},templates:{css:["templates.css"]},margins:[0,0,0,0],init:function(n){if(n.config.width&&!isNaN(n.config.width)){n.config.width-=12}var o=[],p=/\$color/g,q="/* UI Color Support */.cke_skin_kama .cke_menuitem .cke_icon_wrapper{\tbackground-color: $color !important;\tborder-color: $color !important;}.cke_skin_kama .cke_menuitem a:hover .cke_icon_wrapper,.cke_skin_kama .cke_menuitem a:focus .cke_icon_wrapper,.cke_skin_kama .cke_menuitem a:active .cke_icon_wrapper{\tbackground-color: $color !important;\tborder-color: $color !important;}.cke_skin_kama .cke_menuitem a:hover .cke_label,.cke_skin_kama .cke_menuitem a:focus .cke_label,.cke_skin_kama .cke_menuitem a:active .cke_label{\tbackground-color: $color !important;}.cke_skin_kama .cke_menuitem a.cke_disabled:hover .cke_label,.cke_skin_kama .cke_menuitem a.cke_disabled:focus .cke_label,.cke_skin_kama .cke_menuitem a.cke_disabled:active .cke_label{\tbackground-color: transparent !important;}.cke_skin_kama .cke_menuitem a.cke_disabled:hover .cke_icon_wrapper,.cke_skin_kama .cke_menuitem a.cke_disabled:focus .cke_icon_wrapper,.cke_skin_kama .cke_menuitem a.cke_disabled:active .cke_icon_wrapper{\tbackground-color: $color !important;\tborder-color: $color !important;}.cke_skin_kama .cke_menuitem a.cke_disabled .cke_icon_wrapper{\tbackground-color: $color !important;\tborder-color: $color !important;}.cke_skin_kama .cke_menuseparator{\tbackground-color: $color !important;}.cke_skin_kama .cke_menuitem a:hover,.cke_skin_kama .cke_menuitem a:focus,.cke_skin_kama .cke_menuitem a:active{\tbackground-color: $color !important;}";if(b.webkit){q=q.split("}").slice(0,-1);for(var r=0;r<q.length;r++){q[r]=q[r].split("{")}}function s(v){var w=v.getById(m);if(!w){w=v.getHead().append("style");w.setAttribute("id",m);w.setAttribute("type","text/css")}return w}function t(v,w,x){var y,z,A;for(var B=0;B<v.length;B++){if(b.webkit){for(z=0;z<w.length;z++){A=w[z][1];for(y=0;y<x.length;y++){A=A.replace(x[y][0],x[y][1])}v[B].$.sheet.addRule(w[z][0],A)}}else{A=w;for(y=0;y<x.length;y++){A=A.replace(x[y][0],x[y][1])}if(c){v[B].$.styleSheet.cssText+=A}else{v[B].$.innerHTML+=A}}}}var u=/\$color/g;e.extend(n,{uiColor:null,getUiColor:function(){return this.uiColor},setUiColor:function(v){var w,x=s(a.document),y="."+n.id,z=[y+" .cke_wrapper",y+"_dialog .cke_dialog_contents",y+"_dialog a.cke_dialog_tab",y+"_dialog .cke_dialog_footer"].join(","),A="background-color: $color !important;";if(b.webkit){w=[[z,A]]}else{w=z+"{"+A+"}"}return(this.setUiColor=function(B){var C=[[u,B]];n.uiColor=B;t([x],w,C);t(o,q,C)})(v)}});n.on("menuShow",function(v){var w=v.data[0],x=w.element.getElementsByTag("iframe").getItem(0).getFrameDocument();if(!x.getById("cke_ui_color")){var y=s(x);o.push(y);var z=n.getUiColor();if(z){t([y],q,[[u,z]])}}});if(n.config.uiColor){n.setUiColor(n.config.uiColor)}}}})());(function(){a.dialog?m():a.on("dialogPluginReady",m);function m(){a.dialog.on("resize",function(n){var o=n.data,p=o.width,q=o.height,r=o.dialog,s=r.parts.contents;if(o.skin!="kama"){return}s.setStyles({width:p+"px",height:q+"px"})})}})();j.add("about",{requires:["dialog"],init:function(m){var n=m.addCommand("about",new a.dialogCommand("about"));n.modes={wysiwyg:1,source:1};n.canUndo=false;n.readOnly=1;m.ui.addButton("About",{label:m.lang.about.title,command:"about"});a.dialog.add("about",this.path+"dialogs/about.js")}});(function(){var m="a11yhelp",n="a11yHelp";j.add(m,{availableLangs:{en:1,he:1},init:function(o){var p=this;o.addCommand(n,{exec:function(){var q=o.langCode;q=p.availableLangs[q]?q:"en";a.scriptLoader.load(a.getUrl(p.path+"lang/"+q+".js"),function(){e.extend(o.lang,p.langEntries[q]);o.openDialog(n)})},modes:{wysiwyg:1,source:1},readOnly:1,canUndo:false});a.dialog.add(n,this.path+"dialogs/a11yhelp.js")}})})();j.add("basicstyles",{requires:["styles","button"],init:function(m){var n=function(q,r,s,t){var u=new a.style(t);m.attachStyleStateChange(u,function(v){!m.readOnly&&m.getCommand(s).setState(v)});m.addCommand(s,new a.styleCommand(u));m.ui.addButton(q,{label:r,command:s})},o=m.config,p=m.lang;n("Bold",p.bold,"bold",o.coreStyles_bold);n("Italic",p.italic,"italic",o.coreStyles_italic);n("Underline",p.underline,"underline",o.coreStyles_underline);n("Strike",p.strike,"strike",o.coreStyles_strike);n("Subscript",p.subscript,"subscript",o.coreStyles_subscript);n("Superscript",p.superscript,"superscript",o.coreStyles_superscript)}});i.coreStyles_bold={element:"strong",overrides:"b"};i.coreStyles_italic={element:"em",overrides:"i"};i.coreStyles_underline={element:"u"};i.coreStyles_strike={element:"strike"};i.coreStyles_subscript={element:"sub"};i.coreStyles_superscript={element:"sup"};(function(){var m={table:1,ul:1,ol:1,blockquote:1,div:1},n={},o={};e.extend(n,m,{tr:1,p:1,div:1,li:1});e.extend(o,n,{td:1});function p(B){q(B);r(B)}function q(B){var C=B.editor,D=B.data.path;if(C.readOnly){return}var E=C.config.useComputedState,F;E=E===undefined||E;if(!E){F=s(D.lastElement)}F=F||D.block||D.blockLimit;F.is("body")&&(F=C.getSelection().getRanges()[0].getEnclosedNode());if(!F){return}var G=E?F.getComputedStyle("direction"):F.getStyle("direction")||F.getAttribute("dir");C.getCommand("bidirtl").setState(G=="rtl"?1:2);C.getCommand("bidiltr").setState(G=="ltr"?1:2)}function r(B){var C=B.editor,D=B.data.path.block||B.data.path.blockLimit;C.fire("contentDirChanged",D?D.getComputedStyle("direction"):C.lang.dir)}function s(B){while(B&&!(B.getName() in o||B.is("body"))){var C=B.getParent();if(!C){break}B=C}return B}function t(B,C,D,E){if(B.isReadOnly()){return}h.setMarker(E,B,"bidi_processed",1);var F=B;while((F=F.getParent())&&!F.is("body")){if(F.getCustomData("bidi_processed")){B.removeStyle("direction");B.removeAttribute("dir");return}}var G="useComputedState" in D.config?D.config.useComputedState:1,H=G?B.getComputedStyle("direction"):B.getStyle("direction")||B.hasAttribute("dir");if(H==C){return}B.removeStyle("direction");if(G){B.removeAttribute("dir");if(C!=B.getComputedStyle("direction")){B.setAttribute("dir",C)}}else{B.setAttribute("dir",C)}D.forceNextSelectionCheck()}function u(B,C,D){var E=B.getCommonAncestor(false,true);B=B.clone();B.enlarge(D==2?3:2);if(B.checkBoundaryOfElement(E,1)&&B.checkBoundaryOfElement(E,2)){var F;while(E&&E.type==1&&(F=E.getParent())&&F.getChildCount()==1&&!(E.getName() in C)){E=F}return E.type==1&&E.getName() in C&&E}}function v(B){return function(C){var D=C.getSelection(),E=C.config.enterMode,F=D.getRanges();if(F&&F.length){var G={},H=D.createBookmarks(),I=F.createIterator(),J,K=0;while(J=I.getNextRange(1)){var L=J.getEnclosedNode();if(!L||L&&!(L.type==1&&L.getName() in n)){L=u(J,m,E)}L&&t(L,B,C,G);var M,N,O=new d.walker(J),P=H[K].startNode,Q=H[K++].endNode;O.evaluator=function(R){return !!(R.type==1&&R.getName() in m&&!(R.getName()==(E==1?"p":"div")&&R.getParent().type==1&&R.getParent().getName()=="blockquote")&&R.getPosition(P)&2&&(R.getPosition(Q)&4+16)==4)};while(N=O.next()){t(N,B,C,G)}M=J.createIterator();M.enlargeBr=E!=2;while(N=M.getNextParagraph(E==1?"p":"div")){t(N,B,C,G)}}h.clearAllMarkers(G);C.forceNextSelectionCheck();D.selectBookmarks(H);C.focus()}}}j.add("bidi",{requires:["styles","button"],init:function(B){var C=function(E,F,G,H){B.addCommand(G,new a.command(B,{exec:H}));B.ui.addButton(E,{label:F,command:G})},D=B.lang.bidi;C("BidiLtr",D.ltr,"bidiltr",v("ltr"));C("BidiRtl",D.rtl,"bidirtl",v("rtl"));B.on("selectionChange",p);B.on("contentDom",function(){B.document.on("dirChanged",function(E){B.fire("dirChanged",{node:E.data,dir:E.data.getDirection(1)})})})}});function w(B){var C=B.getDocument().getBody().getParent();while(B){if(B.equals(C)){return false}B=B.getParent()}return true}function x(B){var C=B==y.setAttribute,D=B==y.removeAttribute,E=/\bdirection\s*:\s*(.*?)\s*(:?$|;)/;return function(F,G){var J=this;if(!J.getDocument().equals(a.document)){var H;if((F==(C||D?"dir":"direction")||F=="style"&&(D||E.test(G)))&&!w(J)){H=J.getDirection(1);var I=B.apply(J,arguments);if(H!=J.getDirection(1)){J.getDocument().fire("dirChanged",J);return I}}}return B.apply(J,arguments)}}var y=h.prototype,z=["setStyle","removeStyle","setAttribute","removeAttribute"];for(var A=0;A<z.length;A++){y[z[A]]=e.override(y[z[A]],x)}})();(function(){function m(q,r){var s=r.block||r.blockLimit;if(!s||s.getName()=="body"){return 2}if(s.getAscendant("blockquote",true)){return 1}return 2}function n(q){var r=q.editor;if(r.readOnly){return}var s=r.getCommand("blockquote");s.state=m(r,q.data.path);s.fire("state")}function o(q){for(var r=0,s=q.getChildCount(),t;r<s&&(t=q.getChild(r));r++){if(t.type==1&&t.isBlockBoundary()){return false}}return true}var p={exec:function(q){var r=q.getCommand("blockquote").state,s=q.getSelection(),t=s&&s.getRanges(true)[0];if(!t){return}var u=s.createBookmarks();if(c){var v=u[0].startNode,w=u[0].endNode,x;if(v&&v.getParent().getName()=="blockquote"){x=v;while(x=x.getNext()){if(x.type==1&&x.isBlockBoundary()){v.move(x,true);break}}}if(w&&w.getParent().getName()=="blockquote"){x=w;while(x=x.getPrevious()){if(x.type==1&&x.isBlockBoundary()){w.move(x);break}}}}var y=t.createIterator(),z;y.enlargeBr=q.config.enterMode!=2;if(r==2){var A=[];while(z=y.getNextParagraph()){A.push(z)}if(A.length<1){var B=q.document.createElement(q.config.enterMode==1?"p":"div"),C=u.shift();t.insertNode(B);B.append(new d.text("\ufeff",q.document));t.moveToBookmark(C);t.selectNodeContents(B);t.collapse(true);C=t.createBookmark();A.push(B);u.unshift(C)}var D=A[0].getParent(),E=[];for(var F=0;F<A.length;F++){z=A[F];D=D.getCommonAncestor(z.getParent())}var G={table:1,tbody:1,tr:1,ol:1,ul:1};while(G[D.getName()]){D=D.getParent()}var H=null;while(A.length>0){z=A.shift();while(!z.getParent().equals(D)){z=z.getParent()}if(!z.equals(H)){E.push(z)}H=z}while(E.length>0){z=E.shift();if(z.getName()=="blockquote"){var I=new d.documentFragment(q.document);while(z.getFirst()){I.append(z.getFirst().remove());A.push(I.getLast())}I.replace(z)}else{A.push(z)}}var J=q.document.createElement("blockquote");J.insertBefore(A[0]);while(A.length>0){z=A.shift();J.append(z)}}else{if(r==1){var K=[],L={};while(z=y.getNextParagraph()){var M=null,N=null;while(z.getParent()){if(z.getParent().getName()=="blockquote"){M=z.getParent();N=z;break}z=z.getParent()}if(M&&N&&!N.getCustomData("blockquote_moveout")){K.push(N);h.setMarker(L,N,"blockquote_moveout",true)}}h.clearAllMarkers(L);var O=[],P=[];L={};while(K.length>0){var Q=K.shift();J=Q.getParent();if(!Q.getPrevious()){Q.remove().insertBefore(J)}else{if(!Q.getNext()){Q.remove().insertAfter(J)}else{Q.breakParent(Q.getParent());P.push(Q.getNext())}}if(!J.getCustomData("blockquote_processed")){P.push(J);h.setMarker(L,J,"blockquote_processed",true)}O.push(Q)}h.clearAllMarkers(L);for(F=P.length-1;F>=0;F--){J=P[F];if(o(J)){J.remove()}}if(q.config.enterMode==2){var R=true;while(O.length){Q=O.shift();if(Q.getName()=="div"){I=new d.documentFragment(q.document);var S=R&&Q.getPrevious()&&!(Q.getPrevious().type==1&&Q.getPrevious().isBlockBoundary());if(S){I.append(q.document.createElement("br"))}var T=Q.getNext()&&!(Q.getNext().type==1&&Q.getNext().isBlockBoundary());while(Q.getFirst()){Q.getFirst().remove().appendTo(I)}if(T){I.append(q.document.createElement("br"))}I.replace(Q);R=false}}}}}s.selectBookmarks(u);q.focus()}};j.add("blockquote",{init:function(q){q.addCommand("blockquote",p);q.ui.addButton("Blockquote",{label:q.lang.blockquote,command:"blockquote"});q.on("selectionChange",n)},requires:["domiterator"]})})();j.add("button",{beforeInit:function(m){m.ui.addHandler("button",k.button.handler)}});a.UI_BUTTON="button";k.button=function(m){e.extend(this,m,{title:m.label,className:m.className||m.command&&"cke_button_"+m.command||"",click:m.click||(function(n){n.execCommand(m.command)})});this._={}};k.button.handler={create:function(m){return new k.button(m)}};(function(){k.button.prototype={render:function(m,n){var o=b,p=this._.id=e.getNextId(),q="",r=this.command,s;this._.editor=m;var t={id:p,button:this,editor:m,focus:function(){var z=a.document.getById(p);z.focus()},execute:function(){this.button.click(m)}},u=e.addFunction(function(z){if(t.onkey){z=new d.event(z);return t.onkey(t,z.getKeystroke())!==false}}),v=e.addFunction(function(z){var A;if(t.onfocus){A=t.onfocus(t,new d.event(z))!==false}if(b.gecko&&b.version<10900){z.preventBubble()}return A});t.clickFn=s=e.addFunction(t.execute,t);if(this.modes){var w={};function x(){var z=m.mode;if(z){var A=this.modes[z]?w[z]!=undefined?w[z]:2:0;this.setState(m.readOnly&&!this.readOnly?0:A)}}m.on("beforeModeUnload",function(){if(m.mode&&this._.state!=0){w[m.mode]=this._.state}},this);m.on("mode",x,this);!this.readOnly&&m.on("readOnly",x,this)}else{if(r){r=m.getCommand(r);if(r){r.on("state",function(){this.setState(r.state)},this);q+="cke_"+(r.state==1?"on":r.state==0?"disabled":"off")}}}if(!r){q+="cke_off"}if(this.className){q+=" "+this.className}n.push('<span class="cke_button'+(this.icon&&this.icon.indexOf(".png")==-1?" cke_noalphafix":"")+'">','<a id="',p,'" class="',q,'"',o.gecko&&o.version>=10900&&!o.hc?"":'" href="javascript:void(\''+(this.title||"").replace("'","")+"')\"",' title="',this.title,'" tabindex="-1" hidefocus="true" role="button" aria-labelledby="'+p+'_label"'+(this.hasArrow?' aria-haspopup="true"':""));if(o.opera||o.gecko&&o.mac){n.push(' onkeypress="return false;"')}if(o.gecko){n.push(' onblur="this.style.cssText = this.style.cssText;"')}n.push(' onkeydown="return CKEDITOR.tools.callFunction(',u,', event);" onfocus="return CKEDITOR.tools.callFunction(',v,', event);" onclick="CKEDITOR.tools.callFunction(',s,', this); return false;"><span class="cke_icon"');if(this.icon){var y=(this.iconOffset||0)*-16;n.push(' style="background-image:url(',a.getUrl(this.icon),");background-position:0 "+y+'px;"')}n.push('>&nbsp;</span><span id="',p,'_label" class="cke_label">',this.label,"</span>");if(this.hasArrow){n.push('<span class="cke_buttonarrow">'+(b.hc?"&#9660;":"&nbsp;")+"</span>")}n.push("</a>","</span>");if(this.onRender){this.onRender()}return t},setState:function(m){if(this._.state==m){return false}this._.state=m;var n=a.document.getById(this._.id);if(n){n.setState(m);m==0?n.setAttribute("aria-disabled",true):n.removeAttribute("aria-disabled");m==1?n.setAttribute("aria-pressed",true):n.removeAttribute("aria-pressed");return true}else{return false}}}})();k.prototype.addButton=function(m,n){this.add(m,"button",n)};(function(){var m=function(y,z){var A=y.document,B=A.getBody(),C=0,D=function(){C=1};B.on(z,D);(b.version>7?A.$:A.$.selection.createRange()).execCommand(z);B.removeListener(z,D);return C},n=c?function(y,z){return m(y,z)}:function(y,z){try{return y.document.$.execCommand(z,false,null)}catch(A){return false}},o=function(y){var z=this;z.type=y;z.canUndo=z.type=="cut";z.startDisabled=true};o.prototype={exec:function(y,z){this.type=="cut"&&t(y);var A=n(y,this.type);if(!A){alert(y.lang.clipboard[this.type+"Error"])}return A}};var p={canUndo:false,exec:c?function(y){y.focus();if(!y.document.getBody().fire("beforepaste")&&!m(y,"paste")){y.fire("pasteDialog");return false}}:function(y){try{if(!y.document.getBody().fire("beforepaste")&&!y.document.$.execCommand("Paste",false,null)){throw 0}}catch(z){setTimeout(function(){y.fire("pasteDialog")},0);return false}}},q=function(y){if(this.mode!="wysiwyg"){return}switch(y.data.keyCode){case 1000+86:case 2000+45:var z=this.document.getBody();if(!c&&z.fire("beforepaste")){y.cancel()}else{if(b.opera||b.gecko&&b.version<10900){z.fire("paste")}}return;case 1000+88:case 2000+46:var A=this;this.fire("saveSnapshot");setTimeout(function(){A.fire("saveSnapshot")},0)}};function r(y){y.cancel()}function s(y,z,A){var B=this.document;if(B.getById("cke_pastebin")){return}if(z=="text"&&y.data&&y.data.$.clipboardData){var C=y.data.$.clipboardData.getData("text/plain");if(C){y.data.preventDefault();A(C);return}}var D=this.getSelection(),E=new d.range(B),F=new h(z=="text"?"textarea":b.webkit?"body":"div",B);F.setAttribute("id","cke_pastebin");b.webkit&&F.append(B.createText("\xa0"));B.getBody().append(F);F.setStyles({position:"absolute",top:D.getStartElement().getDocumentPosition().y+"px",width:"1px",height:"1px",overflow:"hidden"});F.setStyle(this.config.contentsLangDirection=="ltr"?"left":"right","-1000px");var G=D.createBookmarks();this.on("selectionChange",r,null,null,0);if(z=="text"){F.$.focus()}else{E.setStartAt(F,1);E.setEndAt(F,2);E.select(true)}var H=this;window.setTimeout(function(){z=="text"&&b.gecko&&H.focusGrabber.focus();F.remove();H.removeListener("selectionChange",r);var I;F=b.webkit&&(I=F.getFirst())&&I.is&&I.hasClass("Apple-style-span")?I:F;D.selectBookmarks(G);A(F["get"+(z=="text"?"Value":"Html")]())},0)}function t(y){if(!c||b.quirks){return}var z=y.getSelection(),A;if(z.getType()==3&&(A=z.getSelectedElement())){var B=z.getRanges()[0],C=y.document.createText("");C.insertBefore(A);B.setStartBefore(C);B.setEndAfter(A);z.selectRanges([B]);setTimeout(function(){if(A.getParent()){C.remove();z.selectElement(A)}},0)}}var u;function v(y,z){c&&(u=1);var A=2;try{A=z.document.$.queryCommandEnabled(y)?2:0}catch(B){}u=0;return A}var w;function x(){var z=this;if(z.mode!="wysiwyg"){return}z.getCommand("cut").setState(w?0:v("Cut",z));z.getCommand("copy").setState(v("Copy",z));var y=w?0:b.webkit?2:v("Paste",z);z.fire("pasteState",y)}j.add("clipboard",{requires:["dialog","htmldataprocessor"],init:function(y){y.on("paste",function(A){var B=A.data;if(B.html){y.insertHtml(B.html)}else{if(B.text){y.insertText(B.text)}}setTimeout(function(){y.fire("afterPaste")},0)},null,null,1000);y.on("pasteDialog",function(A){setTimeout(function(){y.openDialog("paste")},0)});y.on("pasteState",function(A){y.getCommand("paste").setState(A.data)});function z(A,B,C,D){var E=y.lang[B];y.addCommand(B,C);y.ui.addButton(A,{label:E,command:B});if(y.addMenuItems){y.addMenuItem(B,{label:E,command:B,group:"clipboard",order:D})}}z("Cut","cut",new o("cut"),1);z("Copy","copy",new o("copy"),4);z("Paste","paste",p,8);a.dialog.add("paste",a.getUrl(this.path+"dialogs/paste.js"));y.on("key",q,y);y.on("contentDom",function(){var A=y.document.getBody();A.on(b.webkit?"paste":"beforepaste",function(B){if(u){return}var C={mode:"html"};y.fire("beforePaste",C);s.call(y,B,C.mode,function(D){if(!(D=e.trim(D.replace(/<span[^>]+data-cke-bookmark[^<]*?<\/span>/ig,"")))){return}var E={};E[C.mode]=D;y.fire("paste",E)})});A.on("beforecut",function(){!u&&t(y)});A.on("mouseup",function(){setTimeout(function(){x.call(y)},0)},y);A.on("keyup",x,y)});y.on("selectionChange",function(A){w=A.data.selection.getRanges()[0].checkReadOnly();x.call(y)});if(y.contextMenu){y.contextMenu.addListener(function(A,B){var C=B.getRanges()[0].checkReadOnly();return{cut:!C&&v("Cut",y),copy:v("Copy",y),paste:!C&&(b.webkit?2:v("Paste",y))}})}}})})();j.add("colorbutton",{requires:["panelbutton","floatpanel","styles"],init:function(m){var n=m.config,o=m.lang.colorButton,p;if(!b.hc){q("TextColor","fore",o.textColorTitle);q("BGColor","back",o.bgColorTitle)}function q(t,u,v){var w=e.getNextId()+"_colorBox";m.ui.add(t,"panelbutton",{label:v,title:v,className:"cke_button_"+t.toLowerCase(),modes:{wysiwyg:1},panel:{css:m.skin.editor.css,attributes:{role:"listbox","aria-label":o.panelTitle}},onBlock:function(x,y){y.autoSize=true;y.element.addClass("cke_colorblock");y.element.setHtml(r(x,u,w));y.element.getDocument().getBody().setStyle("overflow","hidden");k.fire("ready",this);var z=y.keys,A=m.lang.dir=="rtl";z[A?37:39]="next";z[40]="next";z[9]="next";z[A?39:37]="prev";z[38]="prev";z[2000+9]="prev";z[32]="click"},onOpen:function(){var x=m.getSelection(),y=x&&x.getStartElement(),z=new d.elementPath(y),A;y=z.block||z.blockLimit||m.document.getBody();do{A=y&&y.getComputedStyle(u=="back"?"background-color":"color")||"transparent"}while(u=="back"&&A=="transparent"&&y&&(y=y.getParent()));if(!A||A=="transparent"){A="#ffffff"}this._.panel._.iframe.getFrameDocument().getById(w).setStyle("background-color",A)}})}function r(t,u,v){var w=[],x=n.colorButton_colors.split(","),y=x.length+(n.colorButton_enableMore?2:1),z=e.addFunction(function(F,G){if(F=="?"){var H=arguments.callee;function I(K){this.removeListener("ok",I);this.removeListener("cancel",I);K.name=="ok"&&H(this.getContentElement("picker","selectedColor").getValue(),G)}m.openDialog("colordialog",function(){this.on("ok",I);this.on("cancel",I)});return}m.focus();t.hide();m.fire("saveSnapshot");new a.style(n["colorButton_"+G+"Style"],{color:"inherit"}).remove(m.document);if(F){var J=n["colorButton_"+G+"Style"];J.childRule=G=="back"?function(K){return s(K)}:function(K){return K.getName()!="a"||s(K)};new a.style(J,{color:F}).apply(m.document)}m.fire("saveSnapshot")});w.push('<a class="cke_colorauto" _cke_focus=1 hidefocus=true title="',o.auto,'" onclick="CKEDITOR.tools.callFunction(',z,",null,'",u,"');return false;\" href=\"javascript:void('",o.auto,'\')" role="option" aria-posinset="1" aria-setsize="',y,'"><table role="presentation" cellspacing=0 cellpadding=0 width="100%"><tr><td><span class="cke_colorbox" id="',v,'"></span></td><td colspan=7 align=center>',o.auto,'</td></tr></table></a><table role="presentation" cellspacing=0 cellpadding=0 width="100%">');for(var A=0;A<x.length;A++){if(A%8===0){w.push("</tr><tr>")}var B=x[A].split("/"),C=B[0],D=B[1]||C;if(!B[1]){C="#"+C.replace(/^(.)(.)(.)$/,"$1$1$2$2$3$3")}var E=m.lang.colors[D]||D;w.push('<td><a class="cke_colorbox" _cke_focus=1 hidefocus=true title="',E,'" onclick="CKEDITOR.tools.callFunction(',z,",'",C,"','",u,"'); return false;\" href=\"javascript:void('",E,'\')" role="option" aria-posinset="',A+2,'" aria-setsize="',y,'"><span class="cke_colorbox" style="background-color:#',D,'"></span></a></td>')}if(n.colorButton_enableMore===undefined||n.colorButton_enableMore){w.push('</tr><tr><td colspan=8 align=center><a class="cke_colormore" _cke_focus=1 hidefocus=true title="',o.more,'" onclick="CKEDITOR.tools.callFunction(',z,",'?','",u,"');return false;\" href=\"javascript:void('",o.more,"')\"",' role="option" aria-posinset="',y,'" aria-setsize="',y,'">',o.more,"</a></td>")}w.push("</tr></table>");return w.join("")}function s(t){return t.getAttribute("contentEditable")=="false"||t.getAttribute("data-nostyle")}}});i.colorButton_colors="000,800000,8B4513,2F4F4F,008080,000080,4B0082,696969,B22222,A52A2A,DAA520,006400,40E0D0,0000CD,800080,808080,F00,FF8C00,FFD700,008000,0FF,00F,EE82EE,A9A9A9,FFA07A,FFA500,FFFF00,00FF00,AFEEEE,ADD8E6,DDA0DD,D3D3D3,FFF0F5,FAEBD7,FFFFE0,F0FFF0,F0FFFF,F0F8FF,E6E6FA,FFF";i.colorButton_foreStyle={element:"span",styles:{color:"#(color)"},overrides:[{element:"font",attributes:{color:null}}]};i.colorButton_backStyle={element:"span",styles:{"background-color":"#(color)"}};j.colordialog={init:function(m){m.addCommand("colordialog",new a.dialogCommand("colordialog"));a.dialog.add("colordialog",this.path+"dialogs/colordialog.js")}};j.add("colordialog",j.colordialog);j.add("contextmenu",{requires:["menu"],onLoad:function(){j.contextMenu=e.createClass({base:a.menu,$:function(m){this.base.call(this,m,{panel:{className:m.skinClass+" cke_contextmenu",attributes:{"aria-label":m.lang.contextmenu.options}}})},proto:{addTarget:function(m,n){if(b.opera&&!("oncontextmenu" in document.body)){var o;m.on("mousedown",function(s){s=s.data;if(s.$.button!=2){if(s.getKeystroke()==1000+1){m.fire("contextmenu",s)}return}if(n&&(b.mac?s.$.metaKey:s.$.ctrlKey)){return}var t=s.getTarget();if(!o){var u=t.getDocument();o=u.createElement("input");o.$.type="button";u.getBody().append(o)}o.setAttribute("style","position:absolute;top:"+(s.$.clientY-2)+"px;left:"+(s.$.clientX-2)+"px;width:5px;height:5px;opacity:0.01")});m.on("mouseup",function(s){if(o){o.remove();o=undefined;m.fire("contextmenu",s.data)}})}m.on("contextmenu",function(s){var t=s.data;if(n&&(b.webkit?p:b.mac?t.$.metaKey:t.$.ctrlKey)){return}t.preventDefault();var u=t.getTarget().getDocument().getDocumentElement(),v=t.$.clientX,w=t.$.clientY;e.setTimeout(function(){this.open(u,null,v,w)},0,this)},this);if(b.opera){m.on("keypress",function(s){var t=s.data;if(t.$.keyCode===0){t.preventDefault()}})}if(b.webkit){var p,q=function(s){p=b.mac?s.data.$.metaKey:s.data.$.ctrlKey},r=function(){p=0};m.on("keydown",q);m.on("keyup",r);m.on("contextmenu",r)}},open:function(m,n,o,p){this.editor.focus();m=m||a.document.getDocumentElement();this.show(m,n,o,p)}}})},beforeInit:function(m){m.contextMenu=new j.contextMenu(m);m.addCommand("contextMenu",{exec:function(){m.contextMenu.open(m.document.getBody())}})}});(function(){function m(o){var p=this.att,q=o&&o.hasAttribute(p)&&o.getAttribute(p)||"";if(q!==undefined){this.setValue(q)}}function n(){var o;for(var p=0;p<arguments.length;p++){if(arguments[p] instanceof h){o=arguments[p];break}}if(o){var q=this.att,r=this.getValue();if(r){o.setAttribute(q,r)}else{o.removeAttribute(q,r)}}}j.add("dialogadvtab",{createAdvancedTab:function(o,p){if(!p){p={id:1,dir:1,classes:1,styles:1}}var q=o.lang.common,r={id:"advanced",label:q.advancedTab,title:q.advancedTab,elements:[{type:"vbox",padding:1,children:[]}]},s=[];if(p.id||p.dir){if(p.id){s.push({id:"advId",att:"id",type:"text",label:q.id,setup:m,commit:n})}if(p.dir){s.push({id:"advLangDir",att:"dir",type:"select",label:q.langDir,"default":"",style:"width:100%",items:[[q.notSet,""],[q.langDirLTR,"ltr"],[q.langDirRTL,"rtl"]],setup:m,commit:n})}r.elements[0].children.push({type:"hbox",widths:["50%","50%"],children:[].concat(s)})}if(p.styles||p.classes){s=[];if(p.styles){s.push({id:"advStyles",att:"style",type:"text",label:q.styles,"default":"",getStyle:function(t,u){var v=this.getValue().match(new RegExp(t+"\\s*:s*([^;]*)","i"));return v?v[1]:u},updateStyle:function(t,u){var v=this.getValue();if(v){v=v.replace(new RegExp("\\s*"+t+"s*:[^;]*(?:$|;s*)","i"),"").replace(/^[;\s]+/,"").replace(/\s+$/,"")}if(u){v&&!/;\s*$/.test(v)&&(v+="; ");v+=t+": "+u}this.setValue(v,1)},setup:m,commit:n})}if(p.classes){s.push({type:"hbox",widths:["45%","55%"],children:[{id:"advCSSClasses",att:"class",type:"text",label:q.cssClasses,"default":"",setup:m,commit:n}]})}r.elements[0].children.push({type:"hbox",widths:["50%","50%"],children:[].concat(s)})}return r}})})();(function(){j.add("div",{requires:["editingblock","domiterator","styles"],init:function(m){var n=m.lang.div;m.addCommand("creatediv",new a.dialogCommand("creatediv"));m.addCommand("editdiv",new a.dialogCommand("editdiv"));m.addCommand("removediv",{exec:function(o){var p=o.getSelection(),q=p&&p.getRanges(),r,s=p.createBookmarks(),t,u=[];function v(x){var y=new d.elementPath(x),z=y.blockLimit,A=z.is("div")&&z;if(A&&!A.data("cke-div-added")){u.push(A);A.data("cke-div-added")}}for(var w=0;w<q.length;w++){r=q[w];if(r.collapsed){v(p.getStartElement())}else{t=new d.walker(r);t.evaluator=v;t.lastForward()}}for(w=0;w<u.length;w++){u[w].remove(true)}p.selectBookmarks(s)}});m.ui.addButton("CreateDiv",{label:n.toolbar,command:"creatediv"});if(m.addMenuItems){m.addMenuItems({editdiv:{label:n.edit,command:"editdiv",group:"div",order:1},removediv:{label:n.remove,command:"removediv",group:"div",order:5}});if(m.contextMenu){m.contextMenu.addListener(function(o,p){if(!o||o.isReadOnly()){return null}var q=new d.elementPath(o),r=q.blockLimit;if(r&&r.getAscendant("div",true)){return{editdiv:2,removediv:2}}return null})}}a.dialog.add("creatediv",this.path+"dialogs/div.js");a.dialog.add("editdiv",this.path+"dialogs/div.js")}})})();(function(){var m={toolbarFocus:{editorFocus:false,readOnly:1,exec:function(o){var p=o._.elementsPath.idBase,q=a.document.getById(p+"0");q&&q.focus(c||b.air)}}},n='<span class="cke_empty">&nbsp;</span>';j.add("elementspath",{requires:["selection"],init:function(o){var p="cke_path_"+o.name,q,r=function(){if(!q){q=a.document.getById(p)}return q},s="cke_elementspath_"+e.getNextNumber()+"_";o._.elementsPath={idBase:s,filters:[]};o.on("themeSpace",function(x){if(x.data.space=="bottom"){x.data.html+='<span id="'+p+'_label" class="cke_voice_label">'+o.lang.elementsPath.eleLabel+'</span><div id="'+p+'" class="cke_path" role="group" aria-labelledby="'+p+'_label">'+n+"</div>"}});function t(x){o.focus();var y=o._.elementsPath.list[x];if(y.is("body")){var z=new d.range(o.document);z.selectNodeContents(y);z.select()}else{o.getSelection().selectElement(y)}}var u=e.addFunction(t),v=e.addFunction(function(x,y){var z=o._.elementsPath.idBase,A;y=new d.event(y);var B=o.lang.dir=="rtl";switch(y.getKeystroke()){case B?39:37:case 9:A=a.document.getById(z+(x+1));if(!A){A=a.document.getById(z+"0")}A.focus();return false;case B?37:39:case 2000+9:A=a.document.getById(z+(x-1));if(!A){A=a.document.getById(z+(o._.elementsPath.list.length-1))}A.focus();return false;case 27:o.focus();return false;case 13:case 32:t(x);return false}return true});o.on("selectionChange",function(x){var y=b,z=x.data.selection,A=z.getStartElement(),B=[],C=x.editor,D=C._.elementsPath.list=[],E=C._.elementsPath.filters;while(A){var F=0,G;if(A.data("cke-display-name")){G=A.data("cke-display-name")}else{if(A.data("cke-real-element-type")){G=A.data("cke-real-element-type")}else{G=A.getName()}}for(var H=0;H<E.length;H++){var I=E[H](A,G);if(I===false){F=1;break}G=I||G}if(!F){var J=D.push(A)-1,K="";if(y.opera||y.gecko&&y.mac){K+=' onkeypress="return false;"'}if(y.gecko){K+=' onblur="this.style.cssText = this.style.cssText;"'}var L=C.lang.elementsPath.eleTitle.replace(/%1/,G);B.unshift('<a id="',s,J,'" href="javascript:void(\'',G,'\')" tabindex="-1" title="',L,'"'+(b.gecko&&b.version<10900?' onfocus="event.preventBubble();"':"")+' hidefocus="true"  onkeydown="return CKEDITOR.tools.callFunction(',v,",",J,', event );"'+K,' onclick="CKEDITOR.tools.callFunction('+u,",",J,'); return false;"',' role="button" aria-labelledby="'+s+J+'_label">',G,'<span id="',s,J,'_label" class="cke_label">'+L+"</span>","</a>")}if(G=="body"){break}A=A.getParent()}var M=r();M.setHtml(B.join("")+n);C.fire("elementsPathUpdate",{space:M})});function w(){q&&q.setHtml(n);delete o._.elementsPath.list}o.on("readOnly",w);o.on("contentDomUnload",w);o.addCommand("elementsPathFocus",m.toolbarFocus)}})})();(function(){j.add("enterkey",{requires:["keystrokes","indent"],init:function(t){t.addCommand("enter",{modes:{wysiwyg:1},editorFocus:false,exec:function(v){r(v)}});t.addCommand("shiftEnter",{modes:{wysiwyg:1},editorFocus:false,exec:function(v){q(v)}});var u=t.keystrokeHandler.keystrokes;u[13]="enter";u[2000+13]="shiftEnter"}});j.enterkey={enterBlock:function(t,u,v,w){v=v||s(t);if(!v){return}var x=v.document,y=v.checkStartOfBlock(),z=v.checkEndOfBlock(),A=new d.elementPath(v.startContainer),B=A.block;if(y&&z){if(B&&(B.is("li")||B.getParent().is("li"))){t.execCommand("outdent");return}}else{if(!z&&B&&B.is("pre")){n(t,u,v,w)}}var C=u==3?"div":"p",D=v.splitBlock(C);if(!D){return}var E=D.previousBlock,F=D.nextBlock,G=D.wasStartOfBlock,H=D.wasEndOfBlock,I;if(F){I=F.getParent();if(I.is("li")){F.breakParent(I);F.move(F.getNext(),1)}}else{if(E&&(I=E.getParent())&&I.is("li")){E.breakParent(I);I=E.getNext();v.moveToElementEditStart(I);E.move(E.getPrevious())}}if(!G&&!H){if(F.is("li")&&(I=F.getFirst(d.walker.invisible(true)))&&I.is&&I.is("ul","ol")){(c?x.createText("\xa0"):x.createElement("br")).insertBefore(I)}if(F){v.moveToElementEditStart(F)}}else{var J,K;if(E){if(E.is("li")||!(p.test(E.getName())||E.is("pre"))){J=E.clone();J.is("li")&&J.removeAttribute("value")}}else{if(F){J=F.clone()}}if(!J){if(I&&I.is("li")){J=I}else{J=x.createElement(C);if(E&&(K=E.getDirection())){J.setAttribute("dir",K)}}}else{if(w&&!J.is("li")){J.renameNode(C)}}var L=D.elementPath;if(L){for(var M=0,N=L.elements.length;M<N;M++){var O=L.elements[M];if(O.equals(L.block)||O.equals(L.blockLimit)){break}if(f.$removeEmpty[O.getName()]){O=O.clone();J.moveChildren(O);J.append(O)}}}if(!c){J.appendBogus()}if(!J.getParent()){v.insertNode(J)}if(c&&G&&(!H||!E.getChildCount())){v.moveToElementEditStart(H?E:J);v.select()}v.moveToElementEditStart(G&&!H?F:J)}if(!c){if(F){var P=x.createElement("span");P.setHtml("&nbsp;");v.insertNode(P);P.scrollIntoView();v.deleteContents()}else{J.scrollIntoView()}}v.select()},enterBr:function(t,u,v,w){v=v||s(t);if(!v){return}var x=v.document,y=u==3?"div":"p",z=v.checkEndOfBlock(),A=new d.elementPath(t.getSelection().getStartElement()),B=A.block,C=B&&A.block.getName(),D=false;if(!w&&C=="li"){o(t,u,v,w);return}if(!w&&z&&p.test(C)){var E,F;if(F=B.getDirection()){E=x.createElement("div");E.setAttribute("dir",F);E.insertAfter(B);v.setStart(E,0)}else{x.createElement("br").insertAfter(B);if(b.gecko){x.createText("").insertAfter(B)}v.setStartAt(B.getNext(),c?3:1)}}else{var G;D=C=="pre";if(D&&!b.gecko){G=x.createText(c?"\r":"\n")}else{G=x.createElement("br")}v.deleteContents();v.insertNode(G);if(c){v.setStartAt(G,4)}else{x.createText("\ufeff").insertAfter(G);if(z){G.getParent().appendBogus()}G.getNext().$.nodeValue="";v.setStartAt(G.getNext(),1);var H=null;if(!b.gecko){H=x.createElement("span");H.setHtml("&nbsp;")}else{H=x.createElement("br")}H.insertBefore(G.getNext());H.scrollIntoView();H.remove()}}v.collapse(true);v.select(D)}};var m=j.enterkey,n=m.enterBr,o=m.enterBlock,p=/^h[1-6]$/;function q(t){if(t.mode!="wysiwyg"){return false}return r(t,t.config.shiftEnterMode,1)}function r(t,u,v){v=t.config.forceEnterMode||v;if(t.mode!="wysiwyg"){return false}if(!u){u=t.config.enterMode}setTimeout(function(){t.fire("saveSnapshot");if(u==2){n(t,u,null,v)}else{o(t,u,null,v)}},0);return true}function s(t){var u=t.getSelection().getRanges(true);for(var v=u.length-1;v>0;v--){u[v].deleteContents()}return u[0]}})();(function(){var m="nbsp,gt,lt,amp",n="quot,iexcl,cent,pound,curren,yen,brvbar,sect,uml,copy,ordf,laquo,not,shy,reg,macr,deg,plusmn,sup2,sup3,acute,micro,para,middot,cedil,sup1,ordm,raquo,frac14,frac12,frac34,iquest,times,divide,fnof,bull,hellip,prime,Prime,oline,frasl,weierp,image,real,trade,alefsym,larr,uarr,rarr,darr,harr,crarr,lArr,uArr,rArr,dArr,hArr,forall,part,exist,empty,nabla,isin,notin,ni,prod,sum,minus,lowast,radic,prop,infin,ang,and,or,cap,cup,int,there4,sim,cong,asymp,ne,equiv,le,ge,sub,sup,nsub,sube,supe,oplus,otimes,perp,sdot,lceil,rceil,lfloor,rfloor,lang,rang,loz,spades,clubs,hearts,diams,circ,tilde,ensp,emsp,thinsp,zwnj,zwj,lrm,rlm,ndash,mdash,lsquo,rsquo,sbquo,ldquo,rdquo,bdquo,dagger,Dagger,permil,lsaquo,rsaquo,euro",o="Agrave,Aacute,Acirc,Atilde,Auml,Aring,AElig,Ccedil,Egrave,Eacute,Ecirc,Euml,Igrave,Iacute,Icirc,Iuml,ETH,Ntilde,Ograve,Oacute,Ocirc,Otilde,Ouml,Oslash,Ugrave,Uacute,Ucirc,Uuml,Yacute,THORN,szlig,agrave,aacute,acirc,atilde,auml,aring,aelig,ccedil,egrave,eacute,ecirc,euml,igrave,iacute,icirc,iuml,eth,ntilde,ograve,oacute,ocirc,otilde,ouml,oslash,ugrave,uacute,ucirc,uuml,yacute,thorn,yuml,OElig,oelig,Scaron,scaron,Yuml",p="Alpha,Beta,Gamma,Delta,Epsilon,Zeta,Eta,Theta,Iota,Kappa,Lambda,Mu,Nu,Xi,Omicron,Pi,Rho,Sigma,Tau,Upsilon,Phi,Chi,Psi,Omega,alpha,beta,gamma,delta,epsilon,zeta,eta,theta,iota,kappa,lambda,mu,nu,xi,omicron,pi,rho,sigmaf,sigma,tau,upsilon,phi,chi,psi,omega,thetasym,upsih,piv";function q(r,s){var t={},u=[],v={nbsp:"\xa0",shy:"",gt:">",lt:"<",amp:"&"};r=r.replace(/\b(nbsp|shy|gt|lt|amp)(?:,|$)/g,function(A,B){var C=s?"&"+B+";":v[B],D=s?v[B]:"&"+B+";";t[C]=D;u.push(C);return""});if(!s&&r){r=r.split(",");var w=document.createElement("div"),x;w.innerHTML="&"+r.join(";&")+";";x=w.innerHTML;w=null;for(var y=0;y<x.length;y++){var z=x.charAt(y);t[z]="&"+r[y]+";";u.push(z)}}t.regex=u.join(s?"|":"");return t}j.add("entities",{afterInit:function(r){var s=r.config,t=r.dataProcessor,u=t&&t.htmlFilter;if(u){var v="";if(s.basicEntities!==false){v+=m}if(s.entities){v+=","+n;if(s.entities_latin){v+=","+o}if(s.entities_greek){v+=","+p}if(s.entities_additional){v+=","+s.entities_additional}}var w=q(v),x=w.regex?"["+w.regex+"]":"a^";delete w.regex;if(s.entities&&s.entities_processNumerical){x="[^ -~]|"+x}x=new RegExp(x,"g");function y(C){return s.entities_processNumerical=="force"||!w[C]?"&#"+C.charCodeAt(0)+";":w[C]}var z=q([m,"shy"].join(","),true),A=new RegExp(z.regex,"g");function B(C){return z[C]}u.addRules({text:function(C){return C.replace(A,B).replace(x,y)}})}}})})();i.basicEntities=true;i.entities=true;i.entities_latin=true;i.entities_greek=true;i.entities_additional="#39";(function(){function m(v,w){var x=[];if(!w){return v}else{for(var y in w){x.push(y+"="+encodeURIComponent(w[y]))}}return v+(v.indexOf("?")!=-1?"&":"?")+x.join("&")}function n(v){v+="";var w=v.charAt(0).toUpperCase();return w+v.substr(1)}function o(v){var C=this;var w=C.getDialog(),x=w.getParentEditor();x._.filebrowserSe=C;var y=x.config["filebrowser"+n(w.getName())+"WindowWidth"]||x.config.filebrowserWindowWidth||"80%",z=x.config["filebrowser"+n(w.getName())+"WindowHeight"]||x.config.filebrowserWindowHeight||"70%",A=C.filebrowser.params||{};A.CKEditor=x.name;A.CKEditorFuncNum=x._.filebrowserFn;if(!A.langCode){A.langCode=x.langCode}var B=m(C.filebrowser.url,A);x.popup(B,y,z,x.config.fileBrowserWindowFeatures)}function p(v){var y=this;var w=y.getDialog(),x=w.getParentEditor();x._.filebrowserSe=y;if(!w.getContentElement(y["for"][0],y["for"][1]).getInputElement().$.value){return false}if(!w.getContentElement(y["for"][0],y["for"][1]).getAction()){return false}return true}function q(v,w,x){var y=x.params||{};y.CKEditor=v.name;y.CKEditorFuncNum=v._.filebrowserFn;if(!y.langCode){y.langCode=v.langCode}w.action=m(x.url,y);w.filebrowser=x}function r(v,w,x,y){var z,A;for(var B in y){z=y[B];if(z.type=="hbox"||z.type=="vbox"){r(v,w,x,z.children)}if(!z.filebrowser){continue}if(typeof z.filebrowser=="string"){var C={action:z.type=="fileButton"?"QuickUpload":"Browse",target:z.filebrowser};z.filebrowser=C}if(z.filebrowser.action=="Browse"){var D=z.filebrowser.url;if(D===undefined){D=v.config["filebrowser"+n(w)+"BrowseUrl"];if(D===undefined){D=v.config.filebrowserBrowseUrl}}if(D){z.onClick=o;z.filebrowser.url=D;z.hidden=false}}else{if(z.filebrowser.action=="QuickUpload"&&z["for"]){D=z.filebrowser.url;if(D===undefined){D=v.config["filebrowser"+n(w)+"UploadUrl"];if(D===undefined){D=v.config.filebrowserUploadUrl}}if(D){var E=z.onClick;z.onClick=function(F){var G=F.sender;if(E&&E.call(G,F)===false){return false}return p.call(G,F)};z.filebrowser.url=D;z.hidden=false;q(v,x.getContents(z["for"][0]).get(z["for"][1]),z.filebrowser)}}}}}function s(v,w){var x=w.getDialog(),y=w.filebrowser.target||null;v=v.replace(/#/g,"%23");if(y){var z=y.split(":"),A=x.getContentElement(z[0],z[1]);if(A){A.setValue(v);x.selectPage(z[0])}}}function t(v,w,x){if(x.indexOf(";")!==-1){var y=x.split(";");for(var z=0;z<y.length;z++){if(t(v,w,y[z])){return true}}return false}var A=v.getContents(w).get(x).filebrowser;return A&&A.url}function u(v,w){var A=this;var x=A._.filebrowserSe.getDialog(),y=A._.filebrowserSe["for"],z=A._.filebrowserSe.filebrowser.onSelect;if(y){x.getContentElement(y[0],y[1]).reset()}if(typeof w=="function"&&w.call(A._.filebrowserSe)===false){return}if(z&&z.call(A._.filebrowserSe,v,w)===false){return}if(typeof w=="string"&&w){alert(w)}if(v){s(v,A._.filebrowserSe)}}j.add("filebrowser",{init:function(v,w){v._.filebrowserFn=e.addFunction(u,v);v.on("destroy",function(){e.removeFunction(this._.filebrowserFn)})}});a.on("dialogDefinition",function(v){var w=v.data.definition,x;for(var y in w.contents){if(x=w.contents[y]){r(v.editor,v.data.name,w,x.elements);if(x.hidden&&x.filebrowser){x.hidden=!t(w,x.id,x.filebrowser)}}}})})();j.add("find",{init:function(m){var n=j.find;m.ui.addButton("Find",{label:m.lang.findAndReplace.find,command:"find"});var o=m.addCommand("find",new a.dialogCommand("find"));o.canUndo=false;o.readOnly=1;m.ui.addButton("Replace",{label:m.lang.findAndReplace.replace,command:"replace"});var p=m.addCommand("replace",new a.dialogCommand("replace"));p.canUndo=false;a.dialog.add("find",this.path+"dialogs/find.js");a.dialog.add("replace",this.path+"dialogs/find.js")},requires:["styles"]});i.find_highlight={element:"span",styles:{"background-color":"#004",color:"#fff"}};(function(){var m=/\.swf(?:$|\?)/i,n=e.cssLength;function o(q){var r=q.attributes;return r.type=="application/x-shockwave-flash"||m.test(r.src||"")}function p(q,r){var s=q.createFakeParserElement(r,"cke_flash","flash",true),t=s.attributes.style||"",u=r.attributes.width,v=r.attributes.height;if(typeof u!="undefined"){t=s.attributes.style=t+"width:"+n(u)+";"}if(typeof v!="undefined"){t=s.attributes.style=t+"height:"+n(v)+";"}return s}j.add("flash",{init:function(q){q.addCommand("flash",new a.dialogCommand("flash"));q.ui.addButton("Flash",{label:q.lang.common.flash,command:"flash"});a.dialog.add("flash",this.path+"dialogs/flash.js");q.addCss("img.cke_flash{background-image: url("+a.getUrl(this.path+"images/placeholder.png")+");background-position: center center;background-repeat: no-repeat;border: 1px solid #a9a9a9;width: 80px;height: 80px;}");if(q.addMenuItems){q.addMenuItems({flash:{label:q.lang.flash.properties,command:"flash",group:"flash"}})}q.on("doubleclick",function(r){var s=r.data.element;if(s.is("img")&&s.data("cke-real-element-type")=="flash"){r.data.dialog="flash"}});if(q.contextMenu){q.contextMenu.addListener(function(r,s){if(r&&r.is("img")&&!r.isReadOnly()&&r.data("cke-real-element-type")=="flash"){return{flash:2}}})}},afterInit:function(q){var r=q.dataProcessor,s=r&&r.dataFilter;if(s){s.addRules({elements:{"cke:object":function(t){var u=t.attributes,v=u.classid&&String(u.classid).toLowerCase();if(!v&&!o(t)){for(var w=0;w<t.children.length;w++){if(t.children[w].name=="cke:embed"){if(!o(t.children[w])){return null}return p(q,t)}}return null}return p(q,t)},"cke:embed":function(t){if(!o(t)){return null}return p(q,t)}}},5)}},requires:["fakeobjects"]})})();e.extend(i,{flashEmbedTagOnly:false,flashAddEmbedTag:true,flashConvertOnEdit:false});(function(){function m(n,o,p,q,r,s,t){var u=n.config,v=r.split(";"),w=[],x={};for(var y=0;y<v.length;y++){var z=v[y];if(z){z=z.split("/");var A={},B=v[y]=z[0];A[p]=w[y]=z[1]||B;x[B]=new a.style(t,A);x[B]._.definition.name=B}else{v.splice(y--,1)}}n.ui.addRichCombo(o,{label:q.label,title:q.panelTitle,className:"cke_"+(p=="size"?"fontSize":"font"),panel:{css:n.skin.editor.css.concat(u.contentsCss),multiSelect:false,attributes:{"aria-label":q.panelTitle}},init:function(){this.startGroup(q.panelTitle);for(var C=0;C<v.length;C++){var D=v[C];this.add(D,x[D].buildPreview(),D)}},onClick:function(C){n.focus();n.fire("saveSnapshot");var D=x[C];if(this.getValue()==C){D.remove(n.document)}else{D.apply(n.document)}n.fire("saveSnapshot")},onRender:function(){n.on("selectionChange",function(C){var D=this.getValue(),E=C.data.path,F=E.elements;for(var G=0,H;G<F.length;G++){H=F[G];for(var I in x){if(x[I].checkElementRemovable(H,true)){if(I!=D){this.setValue(I)}return}}}this.setValue("",s)},this)}})}j.add("font",{requires:["richcombo","styles"],init:function(n){var o=n.config;m(n,"Font","family",n.lang.font,o.font_names,o.font_defaultLabel,o.font_style);m(n,"FontSize","size",n.lang.fontSize,o.fontSize_sizes,o.fontSize_defaultLabel,o.fontSize_style)}})})();i.font_names="Arial/Arial, Helvetica, sans-serif;Comic Sans MS/Comic Sans MS, cursive;Courier New/Courier New, Courier, monospace;Georgia/Georgia, serif;Lucida Sans Unicode/Lucida Sans Unicode, Lucida Grande, sans-serif;Tahoma/Tahoma, Geneva, sans-serif;Times New Roman/Times New Roman, Times, serif;Trebuchet MS/Trebuchet MS, Helvetica, sans-serif;Verdana/Verdana, Geneva, sans-serif";i.font_defaultLabel="";i.font_style={element:"span",styles:{"font-family":"#(family)"},overrides:[{element:"font",attributes:{face:null}}]};i.fontSize_sizes="8/8px;9/9px;10/10px;11/11px;12/12px;14/14px;16/16px;18/18px;20/20px;22/22px;24/24px;26/26px;28/28px;36/36px;48/48px;72/72px";i.fontSize_defaultLabel="";i.fontSize_style={element:"span",styles:{"font-size":"#(size)"},overrides:[{element:"font",attributes:{size:null}}]};j.add("format",{requires:["richcombo","styles"],init:function(m){var n=m.config,o=m.lang.format,p=n.format_tags.split(";"),q={};for(var r=0;r<p.length;r++){var s=p[r];q[s]=new a.style(n["format_"+s]);q[s]._.enterMode=m.config.enterMode}m.ui.addRichCombo("Format",{label:o.label,title:o.panelTitle,className:"cke_format",panel:{css:m.skin.editor.css.concat(n.contentsCss),multiSelect:false,attributes:{"aria-label":o.panelTitle}},init:function(){this.startGroup(o.panelTitle);for(var t in q){var u=o["tag_"+t];this.add(t,q[t].buildPreview(u),u)}},onClick:function(t){m.focus();m.fire("saveSnapshot");var u=q[t],v=new d.elementPath(m.getSelection().getStartElement());u[u.checkActive(v)?"remove":"apply"](m.document);setTimeout(function(){m.fire("saveSnapshot")},0)},onRender:function(){m.on("selectionChange",function(t){var u=this.getValue(),v=t.data.path;for(var w in q){if(q[w].checkActive(v)){if(w!=u){this.setValue(w,m.lang.format["tag_"+w])}return}}this.setValue("")},this)}})}});i.format_tags="p;h1;h2;h3;h4;h5;h6;pre;address;div";i.format_p={element:"p"};i.format_div={element:"div"};i.format_pre={element:"pre"};i.format_address={element:"address"};i.format_h1={element:"h1"};i.format_h2={element:"h2"};i.format_h3={element:"h3"};i.format_h4={element:"h4"};i.format_h5={element:"h5"};i.format_h6={element:"h6"};j.add("forms",{init:function(m){var n=m.lang;m.addCss("form{border: 1px dotted #FF0000;padding: 2px;}\n");m.addCss("img.cke_hidden{background-image: url("+a.getUrl(this.path+"images/hiddenfield.gif")+");background-position: center center;background-repeat: no-repeat;border: 1px solid #a9a9a9;width: 16px !important;height: 16px !important;}");var o=function(q,r,s){m.addCommand(r,new a.dialogCommand(r));m.ui.addButton(q,{label:n.common[q.charAt(0).toLowerCase()+q.slice(1)],command:r});a.dialog.add(r,s)},p=this.path+"dialogs/";o("Form","form",p+"form.js");o("Checkbox","checkbox",p+"checkbox.js");o("Radio","radio",p+"radio.js");o("TextField","textfield",p+"textfield.js");o("Textarea","textarea",p+"textarea.js");o("Select","select",p+"select.js");o("Button","button",p+"button.js");o("ImageButton","imagebutton",j.getPath("image")+"dialogs/image.js");o("HiddenField","hiddenfield",p+"hiddenfield.js");if(m.addMenuItems){m.addMenuItems({form:{label:n.form.menu,command:"form",group:"form"},checkbox:{label:n.checkboxAndRadio.checkboxTitle,command:"checkbox",group:"checkbox"},radio:{label:n.checkboxAndRadio.radioTitle,command:"radio",group:"radio"},textfield:{label:n.textfield.title,command:"textfield",group:"textfield"},hiddenfield:{label:n.hidden.title,command:"hiddenfield",group:"hiddenfield"},imagebutton:{label:n.image.titleButton,command:"imagebutton",group:"imagebutton"},button:{label:n.button.title,command:"button",group:"button"},select:{label:n.select.title,command:"select",group:"select"},textarea:{label:n.textarea.title,command:"textarea",group:"textarea"}})}if(m.contextMenu){m.contextMenu.addListener(function(q){if(q&&q.hasAscendant("form",true)&&!q.isReadOnly()){return{form:2}}});m.contextMenu.addListener(function(q){if(q&&!q.isReadOnly()){var r=q.getName();if(r=="select"){return{select:2}}if(r=="textarea"){return{textarea:2}}if(r=="input"){switch(q.getAttribute("type")){case"button":case"submit":case"reset":return{button:2};case"checkbox":return{checkbox:2};case"radio":return{radio:2};case"image":return{imagebutton:2};default:return{textfield:2}}}if(r=="img"&&q.data("cke-real-element-type")=="hiddenfield"){return{hiddenfield:2}}}})}m.on("doubleclick",function(q){var r=q.data.element;if(r.is("form")){q.data.dialog="form"}else{if(r.is("select")){q.data.dialog="select"}else{if(r.is("textarea")){q.data.dialog="textarea"}else{if(r.is("img")&&r.data("cke-real-element-type")=="hiddenfield"){q.data.dialog="hiddenfield"}else{if(r.is("input")){switch(r.getAttribute("type")){case"button":case"submit":case"reset":q.data.dialog="button";break;case"checkbox":q.data.dialog="checkbox";break;case"radio":q.data.dialog="radio";break;case"image":q.data.dialog="imagebutton";break;default:q.data.dialog="textfield";break}}}}}}})},afterInit:function(m){var n=m.dataProcessor,o=n&&n.htmlFilter,p=n&&n.dataFilter;if(c){o&&o.addRules({elements:{input:function(q){var r=q.attributes,s=r.type;if(!s){r.type="text"}if(s=="checkbox"||s=="radio"){r.value=="on"&&delete r.value}}}})}if(p){p.addRules({elements:{input:function(q){if(q.attributes.type=="hidden"){return m.createFakeParserElement(q,"cke_hidden","hiddenfield")}}}})}},requires:["image","fakeobjects"]});if(c){h.prototype.hasAttribute=e.override(h.prototype.hasAttribute,function(m){return function(n){var q=this;var o=q.$.attributes.getNamedItem(n);if(q.getName()=="input"){switch(n){case"class":return q.$.className.length>0;case"checked":return !!q.$.checked;case"value":var p=q.getAttribute("type");return p=="checkbox"||p=="radio"?q.$.value!="on":q.$.value}}return m.apply(q,arguments)}})}(function(){var m={canUndo:false,exec:function(o){o.insertElement(o.document.createElement("hr"))}},n="horizontalrule";j.add(n,{init:function(o){o.addCommand(n,m);o.ui.addButton("HorizontalRule",{label:o.lang.horizontalrule,command:n})}})})();(function(){var m=/^[\t\r\n ]*(?:&nbsp;|\xa0)$/,n="{cke_protected}";function o(T){var U=T.children.length,V=T.children[U-1];while(V&&V.type==3&&!e.trim(V.value)){V=T.children[--U]}return V}function p(T,U){var V=T.children,W=o(T);if(W){if((U||!c)&&W.type==1&&W.name=="br"){V.pop()}if(W.type==3&&m.test(W.value)){V.pop()}}}function q(T,U,V){if(!U&&(!V||typeof V=="function"&&V(T)===false)){return false}if(U&&c&&(document.documentMode>7||T.name in f.tr||T.name in f.$listItem)){return false}var W=o(T);return !W||W&&(W.type==1&&W.name=="br"||T.name=="form"&&W.name=="input")}function r(T,U){return function(V){p(V,!T);if(q(V,!T,U)){if(T||c){V.add(new a.htmlParser.text("\xa0"))}else{V.add(new a.htmlParser.element("br",{}))}}}}var s=f,t=["caption","colgroup","col","thead","tfoot","tbody"],u=e.extend({},s.$block,s.$listItem,s.$tableContent);for(var v in u){if(!("br" in s[v])){delete u[v]}}delete u.pre;var w={elements:{},attributeNames:[[/^on/,"data-cke-pa-on"]]},x={elements:{}};for(v in u){x.elements[v]=r()}var y={elementNames:[[/^cke:/,""],[/^\?xml:namespace$/,""]],attributeNames:[[/^data-cke-(saved|pa)-/,""],[/^data-cke-.*/,""],["hidefocus",""]],elements:{$:function(T){var U=T.attributes;if(U){if(U["data-cke-temp"]){return false}var V=["name","href","src"],W;for(var X=0;X<V.length;X++){W="data-cke-saved-"+V[X];W in U&&delete U[V[X]]}}return T},table:function(T){var U=T.children;U.sort(function(V,W){return V.type==1&&W.type==V.type?e.indexOf(t,V.name)>e.indexOf(t,W.name)?1:-1:0})},embed:function(T){var U=T.parent;if(U&&U.name=="object"){var V=U.attributes.width,W=U.attributes.height;V&&(T.attributes.width=V);W&&(T.attributes.height=W)}},param:function(T){T.children=[];T.isEmpty=true;return T},a:function(T){if(!(T.children.length||T.attributes.name||T.attributes["data-cke-saved-name"])){return false}},span:function(T){if(T.attributes["class"]=="Apple-style-span"){delete T.name}},pre:function(T){c&&p(T)},html:function(T){delete T.attributes.contenteditable;delete T.attributes["class"]},body:function(T){delete T.attributes.spellcheck;delete T.attributes.contenteditable},style:function(T){var U=T.children[0];U&&U.value&&(U.value=e.trim(U.value));if(!T.attributes.type){T.attributes.type="text/css"}},title:function(T){var U=T.children[0];U&&(U.value=T.attributes["data-cke-title"]||"")}},attributes:{"class":function(T,U){return e.ltrim(T.replace(/(?:^|\s+)cke_[^\s]*/g,""))||false}}};if(c){y.attributes.style=function(T,U){return T.replace(/(^|;)([^\:]+)/g,function(V){return V.toLowerCase()})}}function z(T){var U=T.attributes;if(U.contenteditable!="false"){U["data-cke-editable"]=U.contenteditable?"true":1}U.contenteditable="false"}function A(T){var U=T.attributes;switch(U["data-cke-editable"]){case"true":U.contenteditable="true";break;case"1":delete U.contenteditable;break}}for(v in {input:1,textarea:1}){w.elements[v]=z;y.elements[v]=A}var B=/<(a|area|img|input)\b([^>]*)>/gi,C=/\b(href|src|name)\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|(?:[^ "'>]+))/gi,D=/(?:<style(?=[ >])[^>]*>[\s\S]*<\/style>)|(?:<(:?link|meta|base)[^>]*>)/gi,E=/<cke:encoded>([^<]*)<\/cke:encoded>/gi,F=/(<\/?)((?:object|embed|param|html|body|head|title)[^>]*>)/gi,G=/(<\/?)cke:((?:html|body|head|title)[^>]*>)/gi,H=/<cke:(param|embed)([^>]*?)\/?>(?!\s*<\/cke:\1)/gi;function I(T){return T.replace(B,function(U,V,W){return"<"+V+W.replace(C,function(X,Y){if(W.indexOf("data-cke-saved-"+Y)==-1){return" data-cke-saved-"+X+" "+X}return X})+">"})}function J(T){return T.replace(D,function(U){return"<cke:encoded>"+encodeURIComponent(U)+"</cke:encoded>"})}function K(T){return T.replace(E,function(U,V){return decodeURIComponent(V)})}function L(T){return T.replace(F,"$1cke:$2")}function M(T){return T.replace(G,"$1$2")}function N(T){return T.replace(H,"<cke:$1$2></cke:$1>")}function O(T){return T.replace(/(<pre\b[^>]*>)(\r\n|\n)/g,"$1$2$2")}function P(T){return T.replace(/<!--(?!{cke_protected})[\s\S]+?-->/g,function(U){return"<!--"+n+"{C}"+encodeURIComponent(U).replace(/--/g,"%2D%2D")+"-->"})}function Q(T){return T.replace(/<!--\{cke_protected\}\{C\}([\s\S]+?)-->/g,function(U,V){return decodeURIComponent(V)})}function R(T,U){var V=U._.dataStore;return T.replace(/<!--\{cke_protected\}([\s\S]+?)-->/g,function(W,X){return decodeURIComponent(X)}).replace(/\{cke_protected_(\d+)\}/g,function(W,X){return V&&V[X]||""})}function S(T,U){var V=[],W=U.config.protectedSource,X=U._.dataStore||(U._.dataStore={id:1}),Y=/<\!--\{cke_temp(comment)?\}(\d*?)-->/g,Z=[/<script[\s\S]*?<\/script>/gi,/<noscript[\s\S]*?<\/noscript>/gi].concat(W);T=T.replace(/<!--[\s\S]*?-->/g,function(ab){return"<!--{cke_tempcomment}"+(V.push(ab)-1)+"-->"});for(var aa=0;aa<Z.length;aa++){T=T.replace(Z[aa],function(ab){ab=ab.replace(Y,function(ac,ad,ae){return V[ae]});return/cke_temp(comment)?/.test(ab)?ab:"<!--{cke_temp}"+(V.push(ab)-1)+"-->"})}T=T.replace(Y,function(ab,ac,ad){return"<!--"+n+(ac?"{C}":"")+encodeURIComponent(V[ad]).replace(/--/g,"%2D%2D")+"-->"});return T.replace(/(['"]).*?\1/g,function(ab){return ab.replace(/<!--\{cke_protected\}([\s\S]+?)-->/g,function(ac,ad){X[X.id]=decodeURIComponent(ad);return"{cke_protected_"+X.id+++"}"})})}j.add("htmldataprocessor",{requires:["htmlwriter"],init:function(T){var U=T.dataProcessor=new a.htmlDataProcessor(T);U.writer.forceSimpleAmpersand=T.config.forceSimpleAmpersand;U.dataFilter.addRules(w);U.dataFilter.addRules(x);U.htmlFilter.addRules(y);var V={elements:{}};for(v in u){V.elements[v]=r(true,T.config.fillEmptyBlocks)}U.htmlFilter.addRules(V)},onLoad:function(){!("fillEmptyBlocks" in i)&&(i.fillEmptyBlocks=1)}});a.htmlDataProcessor=function(T){var U=this;U.editor=T;U.writer=new a.htmlWriter();U.dataFilter=new a.htmlParser.filter();U.htmlFilter=new a.htmlParser.filter()};a.htmlDataProcessor.prototype={toHtml:function(T,U){T=S(T,this.editor);T=I(T);T=J(T);T=L(T);T=N(T);T=O(T);var V=new h("div");V.setHtml("a"+T);T=V.getHtml().substr(1);T=M(T);T=K(T);T=Q(T);var W=a.htmlParser.fragment.fromHtml(T,U),X=new a.htmlParser.basicWriter();W.writeHtml(X,this.dataFilter);T=X.getHtml(true);T=P(T);return T},toDataFormat:function(T,U){var V=this.writer,W=a.htmlParser.fragment.fromHtml(T,U);V.reset();W.writeHtml(V,this.htmlFilter);var X=V.getHtml(true);X=Q(X);X=R(X,this.editor);return X}}})();(function(){function m(n,o){var p=n.createFakeParserElement(o,"cke_iframe","iframe",true),q=p.attributes.style||"",r=o.attributes.width,s=o.attributes.height;if(typeof r!="undefined"){q+="width:"+e.cssLength(r)+";"}if(typeof s!="undefined"){q+="height:"+e.cssLength(s)+";"}p.attributes.style=q;return p}j.add("iframe",{requires:["dialog","fakeobjects"],init:function(n){var o="iframe",p=n.lang.iframe;a.dialog.add(o,this.path+"dialogs/iframe.js");n.addCommand(o,new a.dialogCommand(o));n.addCss("img.cke_iframe{background-image: url("+a.getUrl(this.path+"images/placeholder.png")+");background-position: center center;background-repeat: no-repeat;border: 1px solid #a9a9a9;width: 80px;height: 80px;}");n.ui.addButton("Iframe",{label:p.toolbar,command:o});n.on("doubleclick",function(q){var r=q.data.element;if(r.is("img")&&r.data("cke-real-element-type")=="iframe"){q.data.dialog="iframe"}});if(n.addMenuItems){n.addMenuItems({iframe:{label:p.title,command:"iframe",group:"image"}})}if(n.contextMenu){n.contextMenu.addListener(function(q,r){if(q&&q.is("img")&&q.data("cke-real-element-type")=="iframe"){return{iframe:2}}})}},afterInit:function(n){var o=n.dataProcessor,p=o&&o.dataFilter;if(p){p.addRules({elements:{iframe:function(q){return m(n,q)}}})}}})})();j.add("image",{init:function(m){var n="image";a.dialog.add(n,this.path+"dialogs/image.js");m.addCommand(n,new a.dialogCommand(n));m.ui.addButton("Image",{label:m.lang.common.image,command:n});m.on("doubleclick",function(o){var p=o.data.element;if(p.is("img")&&!p.data("cke-realelement")&&!p.isReadOnly()){o.data.dialog="image"}});if(m.addMenuItems){m.addMenuItems({image:{label:m.lang.image.menu,command:"image",group:"image"}})}if(m.contextMenu){m.contextMenu.addListener(function(o,p){if(!o||!o.is("img")||o.data("cke-realelement")||o.isReadOnly()){return null}return{image:2}})}}});i.image_removeLinkByEmptyURL=true;(function(){var m={ol:1,ul:1},n=d.walker.whitespaces(true),o=d.walker.bookmark(false,true);function p(t){var B=this;if(t.editor.readOnly){return null}var u=t.editor,v=t.data.path,w=v&&v.contains(m),x=v.block||v.blockLimit;if(w){return B.setState(2)}if(!B.useIndentClasses&&B.name=="indent"){return B.setState(2)}if(!x){return B.setState(0)}if(B.useIndentClasses){var y=x.$.className.match(B.classNameRegex),z=0;if(y){y=y[1];z=B.indentClassMap[y]}if(B.name=="outdent"&&!z||B.name=="indent"&&z==u.config.indentClasses.length){return B.setState(0)}return B.setState(2)}else{var A=parseInt(x.getStyle(r(x)),10);if(isNaN(A)){A=0}if(A<=0){return B.setState(0)}return B.setState(2)}}function q(t,u){var w=this;w.name=u;w.useIndentClasses=t.config.indentClasses&&t.config.indentClasses.length>0;if(w.useIndentClasses){w.classNameRegex=new RegExp("(?:^|\\s+)("+t.config.indentClasses.join("|")+")(?=$|\\s)");w.indentClassMap={};for(var v=0;v<t.config.indentClasses.length;v++){w.indentClassMap[t.config.indentClasses[v]]=v+1}}w.startDisabled=u=="outdent"}function r(t,u){return(u||t.getComputedStyle("direction"))=="ltr"?"margin-left":"margin-right"}function s(t){return t.type=1&&t.is("li")}q.prototype={exec:function(t){var u=this,v={};function w(M){var N=C.startContainer,O=C.endContainer;while(N&&!N.getParent().equals(M)){N=N.getParent()}while(O&&!O.getParent().equals(M)){O=O.getParent()}if(!N||!O){return}var P=N,Q=[],R=false;while(!R){if(P.equals(O)){R=true}Q.push(P);P=P.getNext()}if(Q.length<1){return}var S=M.getParents(true);for(var T=0;T<S.length;T++){if(S[T].getName&&m[S[T].getName()]){M=S[T];break}}var U=u.name=="indent"?1:-1,V=Q[0],W=Q[Q.length-1],X=j.list.listToArray(M,v),Y=X[W.getCustomData("listarray_index")].indent;for(T=V.getCustomData("listarray_index");T<=W.getCustomData("listarray_index");T++){X[T].indent+=U;var Z=X[T].parent;X[T].parent=new h(Z.getName(),Z.getDocument())}for(T=W.getCustomData("listarray_index")+1;T<X.length&&X[T].indent>Y;T++){X[T].indent+=U}var aa=j.list.arrayToList(X,v,null,t.config.enterMode,M.getDirection());if(u.name=="outdent"){var ab;if((ab=M.getParent())&&ab.is("li")){var ac=aa.listNode.getChildren(),ad=[],ae=ac.count(),af;for(T=ae-1;T>=0;T--){if((af=ac.getItem(T))&&af.is&&af.is("li")){ad.push(af)}}}}if(aa){aa.listNode.replace(M)}if(ad&&ad.length){for(T=0;T<ad.length;T++){var ag=ad[T],ah=ag;while((ah=ah.getNext())&&ah.is&&ah.getName() in m){if(c&&!ag.getFirst(function(ai){return n(ai)&&o(ai)})){ag.append(C.document.createText("\xa0"))}ag.append(ah)}ag.insertAfter(ab)}}}function x(){var M=C.createIterator(),N=t.config.enterMode;M.enforceRealBlocks=true;M.enlargeBr=N!=2;var O;while(O=M.getNextParagraph(N==1?"p":"div")){y(O)}}function y(M,N){if(M.getCustomData("indent_processed")){return false}if(u.useIndentClasses){var O=M.$.className.match(u.classNameRegex),P=0;if(O){O=O[1];P=u.indentClassMap[O]}if(u.name=="outdent"){P--}else{P++}if(P<0){return false}P=Math.min(P,t.config.indentClasses.length);P=Math.max(P,0);M.$.className=e.ltrim(M.$.className.replace(u.classNameRegex,""));if(P>0){M.addClass(t.config.indentClasses[P-1])}}else{var Q=r(M,N),R=parseInt(M.getStyle(Q),10);if(isNaN(R)){R=0}var S=t.config.indentOffset||40;R+=(u.name=="indent"?1:-1)*S;if(R<0){return false}R=Math.max(R,0);R=Math.ceil(R/S)*S;M.setStyle(Q,R?R+(t.config.indentUnit||"px"):"");if(M.getAttribute("style")===""){M.removeAttribute("style")}}h.setMarker(v,M,"indent_processed",1);return true}var z=t.getSelection(),A=z.createBookmarks(1),B=z&&z.getRanges(1),C,D=B.createIterator();while(C=D.getNextRange()){var E=C.getCommonAncestor(),F=E;while(F&&!(F.type==1&&m[F.getName()])){F=F.getParent()}if(!F){var G=C.getEnclosedNode();if(G&&G.type==1&&G.getName() in m){C.setStartAt(G,1);C.setEndAt(G,2);F=G}}if(F&&C.startContainer.type==1&&C.startContainer.getName() in m){var H=new d.walker(C);H.evaluator=s;C.startContainer=H.next()}if(F&&C.endContainer.type==1&&C.endContainer.getName() in m){H=new d.walker(C);H.evaluator=s;C.endContainer=H.previous()}if(F){var I=F.getFirst(s),J=!!I.getNext(s),K=C.startContainer,L=I.equals(K)||I.contains(K);if(!(L&&(u.name=="indent"||u.useIndentClasses||parseInt(F.getStyle(r(F)),10))&&y(F,!J&&I.getDirection()))){w(F)}}else{x()}}h.clearAllMarkers(v);t.forceNextSelectionCheck();z.selectBookmarks(A)}};j.add("indent",{init:function(t){var u=t.addCommand("indent",new q(t,"indent")),v=t.addCommand("outdent",new q(t,"outdent"));t.ui.addButton("Indent",{label:t.lang.indent,command:"indent"});t.ui.addButton("Outdent",{label:t.lang.outdent,command:"outdent"});t.on("selectionChange",e.bind(p,u));t.on("selectionChange",e.bind(p,v));if(b.ie6Compat||b.ie7Compat){t.addCss("ul,ol{\tmargin-left: 0px;\tpadding-left: 40px;}")}t.on("dirChanged",function(w){var x=new d.range(t.document);x.setStartBefore(w.data.node);x.setEndAfter(w.data.node);var y=new d.walker(x),z;while(z=y.next()){if(z.type==1){if(!z.equals(w.data.node)&&z.getDirection()){x.setStartAfter(z);y=new d.walker(x);continue}var A=t.config.indentClasses;if(A){var B=w.data.dir=="ltr"?["_rtl",""]:["","_rtl"];for(var C=0;C<A.length;C++){if(z.hasClass(A[C]+B[0])){z.removeClass(A[C]+B[0]);z.addClass(A[C]+B[1])}}}var D=z.getStyle("margin-right"),E=z.getStyle("margin-left");D?z.setStyle("margin-left",D):z.removeStyle("margin-left");E?z.setStyle("margin-right",E):z.removeStyle("margin-right")}}})},requires:["domiterator","list"]})})();(function(){function m(r,s){var t=s.block||s.blockLimit;if(!t||t.getName()=="body"){return 2}return n(t,r.config.useComputedState)==this.value?1:2}function n(r,s){s=s===undefined||s;var t;if(s){t=r.getComputedStyle("text-align")}else{while(!r.hasAttribute||!(r.hasAttribute("align")||r.getStyle("text-align"))){var u=r.getParent();if(!u){break}r=u}t=r.getStyle("text-align")||r.getAttribute("align")||""}t&&(t=t.replace(/-moz-|-webkit-|start|auto/i,""));!t&&s&&(t=r.getComputedStyle("direction")=="rtl"?"right":"left");return t}function o(r){if(r.editor.readOnly){return}var s=r.editor.getCommand(this.name);s.state=m.call(this,r.editor,r.data.path);s.fire("state")}function p(r,s,t){var v=this;v.name=s;v.value=t;var u=r.config.justifyClasses;if(u){switch(t){case"left":v.cssClassName=u[0];break;case"center":v.cssClassName=u[1];break;case"right":v.cssClassName=u[2];break;case"justify":v.cssClassName=u[3];break}v.cssClassRegex=new RegExp("(?:^|\\s+)(?:"+u.join("|")+")(?=$|\\s)")}}function q(r){var s=r.editor,t=new d.range(s.document);t.setStartBefore(r.data.node);t.setEndAfter(r.data.node);var u=new d.walker(t),v;while(v=u.next()){if(v.type==1){if(!v.equals(r.data.node)&&v.getDirection()){t.setStartAfter(v);u=new d.walker(t);continue}var w=s.config.justifyClasses;if(w){if(v.hasClass(w[0])){v.removeClass(w[0]);v.addClass(w[2])}else{if(v.hasClass(w[2])){v.removeClass(w[2]);v.addClass(w[0])}}}var x="text-align",y=v.getStyle(x);if(y=="left"){v.setStyle(x,"right")}else{if(y=="right"){v.setStyle(x,"left")}}}}}p.prototype={exec:function(r){var D=this;var s=r.getSelection(),t=r.config.enterMode;if(!s){return}var u=s.createBookmarks(),v=s.getRanges(true),w=D.cssClassName,x,y,z=r.config.useComputedState;z=z===undefined||z;for(var A=v.length-1;A>=0;A--){x=v[A].createIterator();x.enlargeBr=t!=2;while(y=x.getNextParagraph(t==1?"p":"div")){y.removeAttribute("align");y.removeStyle("text-align");var B=w&&(y.$.className=e.ltrim(y.$.className.replace(D.cssClassRegex,""))),C=D.state==2&&(!z||n(y,true)!=D.value);if(w){if(C){y.addClass(w)}else{if(!B){y.removeAttribute("class")}}}else{if(C){y.setStyle("text-align",D.value)}}}}r.focus();r.forceNextSelectionCheck();s.selectBookmarks(u)}};j.add("justify",{init:function(r){var s=new p(r,"justifyleft","left"),t=new p(r,"justifycenter","center"),u=new p(r,"justifyright","right"),v=new p(r,"justifyblock","justify");r.addCommand("justifyleft",s);r.addCommand("justifycenter",t);r.addCommand("justifyright",u);r.addCommand("justifyblock",v);r.ui.addButton("JustifyLeft",{label:r.lang.justify.left,command:"justifyleft"});r.ui.addButton("JustifyCenter",{label:r.lang.justify.center,command:"justifycenter"});r.ui.addButton("JustifyRight",{label:r.lang.justify.right,command:"justifyright"});r.ui.addButton("JustifyBlock",{label:r.lang.justify.block,command:"justifyblock"});r.on("selectionChange",e.bind(o,s));r.on("selectionChange",e.bind(o,u));r.on("selectionChange",e.bind(o,t));r.on("selectionChange",e.bind(o,v));r.on("dirChanged",q)},requires:["domiterator"]})})();j.add("keystrokes",{beforeInit:function(m){m.keystrokeHandler=new a.keystrokeHandler(m);m.specialKeys={}},init:function(m){var n=m.config.keystrokes,o=m.config.blockedKeystrokes,p=m.keystrokeHandler.keystrokes,q=m.keystrokeHandler.blockedKeystrokes;for(var r=0;r<n.length;r++){p[n[r][0]]=n[r][1]}for(r=0;r<o.length;r++){q[o[r]]=1}}});a.keystrokeHandler=function(m){var n=this;if(m.keystrokeHandler){return m.keystrokeHandler}n.keystrokes={};n.blockedKeystrokes={};n._={editor:m};return n};(function(){var m,n=function(p){p=p.data;var q=p.getKeystroke(),r=this.keystrokes[q],s=this._.editor;m=s.fire("key",{keyCode:q})===true;if(!m){if(r){var t={from:"keystrokeHandler"};m=s.execCommand(r,t)!==false}if(!m){var u=s.specialKeys[q];m=u&&u(s)===true;if(!m){m=!!this.blockedKeystrokes[q]}}}if(m){p.preventDefault(true)}return !m},o=function(p){if(m){m=false;p.data.preventDefault(true)}};a.keystrokeHandler.prototype={attach:function(p){p.on("keydown",n,this);if(b.opera||b.gecko&&b.mac){p.on("keypress",o,this)}}}})();i.blockedKeystrokes=[1000+66,1000+73,1000+85];i.keystrokes=[[4000+121,"toolbarFocus"],[4000+122,"elementsPathFocus"],[2000+121,"contextMenu"],[1000+2000+121,"contextMenu"],[1000+90,"undo"],[1000+89,"redo"],[1000+2000+90,"redo"],[1000+76,"link"],[1000+66,"bold"],[1000+73,"italic"],[1000+85,"underline"],[4000+(c||b.webkit?189:109),"toolbarCollapse"],[4000+48,"a11yHelp"]];j.add("link",{init:function(m){m.addCommand("link",new a.dialogCommand("link"));m.addCommand("anchor",new a.dialogCommand("anchor"));m.addCommand("unlink",new a.unlinkCommand());m.ui.addButton("Link",{label:m.lang.link.toolbar,command:"link"});m.ui.addButton("Unlink",{label:m.lang.unlink,command:"unlink"});m.ui.addButton("Anchor",{label:m.lang.anchor.toolbar,command:"anchor"});a.dialog.add("link",this.path+"dialogs/link.js");a.dialog.add("anchor",this.path+"dialogs/anchor.js");var n=m.lang.dir=="rtl"?"right":"left",o="background:url("+a.getUrl(this.path+"images/anchor.gif")+") no-repeat "+n+" center;border:1px dotted #00f;";m.addCss("a.cke_anchor,a.cke_anchor_empty"+(c&&b.version<7?"":",a[name],a[data-cke-saved-name]")+"{"+o+"padding-"+n+":18px;cursor:auto;}"+(c?"a.cke_anchor_empty{display:inline-block;}":"")+"img.cke_anchor{"+o+"width:16px;min-height:15px;height:1.15em;vertical-align:"+(b.opera?"middle":"text-bottom")+";}");m.on("selectionChange",function(p){if(m.readOnly){return}var q=m.getCommand("unlink"),r=p.data.path.lastElement&&p.data.path.lastElement.getAscendant("a",true);if(r&&r.getName()=="a"&&r.getAttribute("href")&&r.getChildCount()){q.setState(2)}else{q.setState(0)}});m.on("doubleclick",function(p){var q=j.link.getSelectedLink(m)||p.data.element;if(!q.isReadOnly()){if(q.is("a")){p.data.dialog=q.getAttribute("name")&&(!q.getAttribute("href")||!q.getChildCount())?"anchor":"link";m.getSelection().selectElement(q)}else{if(j.link.tryRestoreFakeAnchor(m,q)){p.data.dialog="anchor"}}}});if(m.addMenuItems){m.addMenuItems({anchor:{label:m.lang.anchor.menu,command:"anchor",group:"anchor"},link:{label:m.lang.link.menu,command:"link",group:"link",order:1},unlink:{label:m.lang.unlink,command:"unlink",group:"link",order:5}})}if(m.contextMenu){m.contextMenu.addListener(function(p,q){if(!p||p.isReadOnly()){return null}var r=j.link.tryRestoreFakeAnchor(m,p);if(!r&&!(r=j.link.getSelectedLink(m))){return null}var s={};if(r.getAttribute("href")&&r.getChildCount()){s={link:2,unlink:2}}if(r&&r.hasAttribute("name")){s.anchor=2}return s})}},afterInit:function(m){var n=m.dataProcessor,o=n&&n.dataFilter,p=n&&n.htmlFilter,q=m._.elementsPath&&m._.elementsPath.filters;if(o){o.addRules({elements:{a:function(r){var s=r.attributes;if(!s.name){return null}var t=!r.children.length;if(j.link.synAnchorSelector){var u=t?"cke_anchor_empty":"cke_anchor",v=s["class"];if(s.name&&(!v||v.indexOf(u)<0)){s["class"]=(v||"")+" "+u}if(t&&j.link.emptyAnchorFix){s.contenteditable="false";s["data-cke-editable"]=1}}else{if(j.link.fakeAnchor&&t){return m.createFakeParserElement(r,"cke_anchor","anchor")}}return null}}})}if(j.link.emptyAnchorFix&&p){p.addRules({elements:{a:function(r){delete r.attributes.contenteditable}}})}if(q){q.push(function(r,s){if(s=="a"){if(j.link.tryRestoreFakeAnchor(m,r)||r.getAttribute("name")&&(!r.getAttribute("href")||!r.getChildCount())){return"anchor"}}})}},requires:["fakeobjects"]});j.link={getSelectedLink:function(m){try{var n=m.getSelection();if(n.getType()==3){var o=n.getSelectedElement();if(o.is("a")){return o}}var p=n.getRanges(true)[0];p.shrink(2);var q=p.getCommonAncestor();return q.getAscendant("a",true)}catch(r){return null}},fakeAnchor:b.opera||b.webkit,synAnchorSelector:c,emptyAnchorFix:c&&b.version<8,tryRestoreFakeAnchor:function(m,n){if(n&&n.data("cke-real-element-type")&&n.data("cke-real-element-type")=="anchor"){var o=m.restoreRealElement(n);if(o.data("cke-saved-name")){return o}}}};a.unlinkCommand=function(){};a.unlinkCommand.prototype={exec:function(m){var n=m.getSelection(),o=n.createBookmarks(),p=n.getRanges(),q,r;for(var s=0;s<p.length;s++){q=p[s].getCommonAncestor(true);r=q.getAscendant("a",true);if(!r){continue}p[s].selectNodeContents(r)}n.selectRanges(p);m.document.$.execCommand("unlink",false,null);n.selectBookmarks(o)},startDisabled:true};e.extend(i,{linkShowAdvancedTab:true,linkShowTargetTab:true});(function(){var m={ol:1,ul:1},n=/^[\n\r\t ]*$/,o=d.walker.whitespaces(),p=d.walker.bookmark(),q=function(E){return !(o(E)||p(E))};j.list={listToArray:function(E,F,G,H,I){if(!m[E.getName()]){return[]}if(!H){H=0}if(!G){G=[]}for(var J=0,K=E.getChildCount();J<K;J++){var L=E.getChild(J);if(L.type==1&&L.getName() in f.$list){j.list.listToArray(L,F,G,H+1)}if(L.$.nodeName.toLowerCase()!="li"){continue}var M={parent:E,indent:H,element:L,contents:[]};if(!I){M.grandparent=E.getParent();if(M.grandparent&&M.grandparent.$.nodeName.toLowerCase()=="li"){M.grandparent=M.grandparent.getParent()}}else{M.grandparent=I}if(F){h.setMarker(F,L,"listarray_index",G.length)}G.push(M);for(var N=0,O=L.getChildCount(),P;N<O;N++){P=L.getChild(N);if(P.type==1&&m[P.getName()]){j.list.listToArray(P,F,G,H+1,M.grandparent)}else{M.contents.push(P)}}}return G},arrayToList:function(E,F,G,H,I){if(!G){G=0}if(!E||E.length<G+1){return null}var J=E[G].parent.getDocument(),K=new d.documentFragment(J),L=null,M=G,N=Math.max(E[G].indent,0),O=null,P,Q=H==1?"p":"div";while(1){var R=E[M];if(R.indent==N){if(!L||E[M].parent.getName()!=L.getName()){L=E[M].parent.clone(false,1);I&&L.setAttribute("dir",I);K.append(L)}O=L.append(R.element.clone(0,1));for(var S=0;S<R.contents.length;S++){O.append(R.contents[S].clone(1,1))}M++}else{if(R.indent==Math.max(N,0)+1){var T=R.element.getDirection(1),U=E[M-1].element.getDirection(1),V=j.list.arrayToList(E,null,M,H,U!=T?T:null);if(!O.getChildCount()&&c&&!(J.$.documentMode>7)){O.append(J.createText("\xa0"))}O.append(V.listNode);M=V.nextIndex}else{if(R.indent==-1&&!G&&R.grandparent){if(m[R.grandparent.getName()]){O=R.element.clone(false,true);P=R.element.getDirection(1);R.grandparent.getDirection(1)!=P&&O.setAttribute("dir",P)}else{if(I||R.element.hasAttributes()||H!=2){O=J.createElement(Q);R.element.copyAttributes(O,{type:1,value:1});P=R.element.getDirection()||I;P&&O.setAttribute("dir",P);if(!I&&H==2&&!O.hasAttributes()){O=new d.documentFragment(J)}}else{O=new d.documentFragment(J)}}for(S=0;S<R.contents.length;S++){O.append(R.contents[S].clone(1,1))}if(O.type==11&&M!=E.length-1){var W=O.getLast();if(W&&W.type==1&&W.getAttribute("type")=="_moz"){W.remove()}if(!(W=O.getLast(q)&&W.type==1&&W.getName() in f.$block)){O.append(J.createElement("br"))}}if(O.type==1&&O.getName()==Q&&O.$.firstChild){O.trim();var X=O.getFirst();if(X.type==1&&X.isBlockBoundary()){var Y=new d.documentFragment(J);O.moveChildren(Y);O=Y}}var Z=O.$.nodeName.toLowerCase();if(!c&&(Z=="div"||Z=="p")){O.appendBogus()}K.append(O);L=null;M++}else{return null}}}if(E.length<=M||Math.max(E[M].indent,0)<N){break}}if(F){var aa=K.getFirst();while(aa){if(aa.type==1){h.clearMarkers(F,aa)}aa=aa.getNextSourceNode()}}return{listNode:K,nextIndex:M}}};function r(E){if(E.editor.readOnly){return null}var F=E.data.path,G=F.blockLimit,H=F.elements,I,J;for(J=0;J<H.length&&(I=H[J])&&!I.equals(G);J++){if(m[H[J].getName()]){return this.setState(this.type==H[J].getName()?1:2)}}return this.setState(2)}function s(E,F,G,H){var I=j.list.listToArray(F.root,G),J=[];for(var K=0;K<F.contents.length;K++){var L=F.contents[K];L=L.getAscendant("li",true);if(!L||L.getCustomData("list_item_processed")){continue}J.push(L);h.setMarker(G,L,"list_item_processed",true)}var M=F.root,N=M.getDocument().createElement(this.type);M.copyAttributes(N,{start:1,type:1});N.removeStyle("list-style-type");for(K=0;K<J.length;K++){var O=J[K].getCustomData("listarray_index");I[O].parent=N}var P=j.list.arrayToList(I,G,null,E.config.enterMode),Q,R=P.listNode.getChildCount();for(K=0;K<R&&(Q=P.listNode.getChild(K));K++){if(Q.getName()==this.type){H.push(Q)}}P.listNode.replace(F.root)}var t=/^h[1-6]$/;function u(E,F,G){var H=F.contents,I=F.root.getDocument(),J=[];if(H.length==1&&H[0].equals(F.root)){var K=I.createElement("div");H[0].moveChildren&&H[0].moveChildren(K);H[0].append(K);H[0]=K}var L=F.contents[0].getParent();for(var M=0;M<H.length;M++){L=L.getCommonAncestor(H[M].getParent())}var N=E.config.useComputedState,O,P;N=N===undefined||N;for(M=0;M<H.length;M++){var Q=H[M],R;while(R=Q.getParent()){if(R.equals(L)){J.push(Q);if(!P&&Q.getDirection()){P=1}var S=Q.getDirection(N);if(O!==null){if(O&&O!=S){O=null}else{O=S}}break}Q=R}}if(J.length<1){return}var T=J[J.length-1].getNext(),U=I.createElement(this.type);G.push(U);var V,W;while(J.length){V=J.shift();W=I.createElement("li");if(V.is("pre")||t.test(V.getName())){V.appendTo(W)}else{if(O&&V.getDirection()){V.removeStyle("direction");V.removeAttribute("dir")}V.copyAttributes(W);V.moveChildren(W);V.remove()}W.appendTo(U)}if(O&&P){U.setAttribute("dir",O)}if(T){U.insertBefore(T)}else{U.appendTo(L)}}function v(E,F,G){var H=j.list.listToArray(F.root,G),I=[];for(var J=0;J<F.contents.length;J++){var K=F.contents[J];K=K.getAscendant("li",true);if(!K||K.getCustomData("list_item_processed")){continue}I.push(K);h.setMarker(G,K,"list_item_processed",true)}var L=null;for(J=0;J<I.length;J++){var M=I[J].getCustomData("listarray_index");H[M].indent=-1;L=M}for(J=L+1;J<H.length;J++){if(H[J].indent>H[J-1].indent+1){var N=H[J-1].indent+1-H[J].indent,O=H[J].indent;while(H[J]&&H[J].indent>=O){H[J].indent+=N;J++}J--}}var P=j.list.arrayToList(H,G,null,E.config.enterMode,F.root.getAttribute("dir")),Q=P.listNode,R,S;function T(U){if((R=Q[U?"getFirst":"getLast"]())&&!(R.is&&R.isBlockBoundary())&&(S=F.root[U?"getPrevious":"getNext"](d.walker.whitespaces(true)))&&!(S.is&&S.isBlockBoundary({br:1}))){E.document.createElement("br")[U?"insertBefore":"insertAfter"](R)}}T(true);T();Q.replace(F.root)}function w(E,F){this.name=E;this.type=F}w.prototype={exec:function(E){var F=E.document,G=E.config,H=E.getSelection(),I=H&&H.getRanges(true);if(!I||I.length<1){return}if(this.state==2){var J=F.getBody();if(!J.getFirst(q)){G.enterMode==2?J.appendBogus():I[0].fixBlock(1,G.enterMode==1?"p":"div");H.selectRanges(I)}else{var K=I.length==1&&I[0],L=K&&K.getEnclosedNode();if(L&&L.is&&this.type==L.getName()){this.setState(1)}}}var M=H.createBookmarks(true),N=[],O={},P=I.createIterator(),Q=0;while((K=P.getNextRange())&&++Q){var R=K.getBoundaryNodes(),S=R.startNode,T=R.endNode;if(S.type==1&&S.getName()=="td"){K.setStartAt(R.startNode,1)}if(T.type==1&&T.getName()=="td"){K.setEndAt(R.endNode,2)}var U=K.createIterator(),V;U.forceBrBreak=this.state==2;while(V=U.getNextParagraph()){if(V.getCustomData("list_block")){continue}else{h.setMarker(O,V,"list_block",1)}var W=new d.elementPath(V),X=W.elements,Y=X.length,Z=null,aa=0,ab=W.blockLimit,ac;for(var ad=Y-1;ad>=0&&(ac=X[ad]);ad--){if(m[ac.getName()]&&ab.contains(ac)){ab.removeCustomData("list_group_object_"+Q);var ae=ac.getCustomData("list_group_object");if(ae){ae.contents.push(V)}else{ae={root:ac,contents:[V]};N.push(ae);h.setMarker(O,ac,"list_group_object",ae)}aa=1;break}}if(aa){continue}var af=ab;if(af.getCustomData("list_group_object_"+Q)){af.getCustomData("list_group_object_"+Q).contents.push(V)}else{ae={root:af,contents:[V]};h.setMarker(O,af,"list_group_object_"+Q,ae);N.push(ae)}}}var ag=[];while(N.length>0){ae=N.shift();if(this.state==2){if(m[ae.root.getName()]){s.call(this,E,ae,O,ag)}else{u.call(this,E,ae,ag)}}else{if(this.state==1&&m[ae.root.getName()]){v.call(this,E,ae,O)}}}for(ad=0;ad<ag.length;ad++){Z=ag[ad];var ah,ai=this;(ah=function(aj){var ak=Z[aj?"getPrevious":"getNext"](d.walker.whitespaces(true));if(ak&&ak.getName&&ak.getName()==ai.type){ak.remove();ak.moveChildren(Z,aj)}})();ah(1)}h.clearAllMarkers(O);H.selectBookmarks(M);E.focus()}};var x=f,y=/[\t\r\n ]*(?:&nbsp;|\xa0)$/;function z(E,F){var G,H=E.children,I=H.length;for(var J=0;J<I;J++){G=H[J];if(G.name&&G.name in F){return J}}return I}function A(E){return function(F){var G=F.children,H=z(F,x.$list),I=G[H],J=I&&I.previous,K;if(J&&(J.name&&J.name=="br"||J.value&&(K=J.value.match(y)))){var L=J;if(!(K&&K.index)&&L==G[0]){G[0]=E||c?new a.htmlParser.text("\xa0"):new a.htmlParser.element("br",{})}else{if(L.name=="br"){G.splice(H-1,1)}else{L.value=L.value.replace(y,"")}}}}}var B={elements:{}};for(var C in x.$listItem){B.elements[C]=A()}var D={elements:{}};for(C in x.$listItem){D.elements[C]=A(true)}j.add("list",{init:function(E){var F=E.addCommand("numberedlist",new w("numberedlist","ol")),G=E.addCommand("bulletedlist",new w("bulletedlist","ul"));E.ui.addButton("NumberedList",{label:E.lang.numberedlist,command:"numberedlist"});E.ui.addButton("BulletedList",{label:E.lang.bulletedlist,command:"bulletedlist"});E.on("selectionChange",e.bind(r,F));E.on("selectionChange",e.bind(r,G))},afterInit:function(E){var F=E.dataProcessor;if(F){F.dataFilter.addRules(B);F.htmlFilter.addRules(D)}},requires:["domiterator"]})})();(function(){j.liststyle={requires:["dialog"],init:function(m){m.addCommand("numberedListStyle",new a.dialogCommand("numberedListStyle"));a.dialog.add("numberedListStyle",this.path+"dialogs/liststyle.js");m.addCommand("bulletedListStyle",new a.dialogCommand("bulletedListStyle"));a.dialog.add("bulletedListStyle",this.path+"dialogs/liststyle.js");if(m.addMenuItems){m.addMenuGroup("list",108);m.addMenuItems({numberedlist:{label:m.lang.list.numberedTitle,group:"list",command:"numberedListStyle"},bulletedlist:{label:m.lang.list.bulletedTitle,group:"list",command:"bulletedListStyle"}})}if(m.contextMenu){m.contextMenu.addListener(function(n,o){if(!n||n.isReadOnly()){return null}while(n){var p=n.getName();if(p=="ol"){return{numberedlist:2}}else{if(p=="ul"){return{bulletedlist:2}}}n=n.getParent()}return null})}}};j.add("liststyle",j.liststyle)})();(function(){function m(s){if(!s||s.type!=1||s.getName()!="form"){return[]}var t=[],u=["style","className"];for(var v=0;v<u.length;v++){var w=u[v],x=s.$.elements.namedItem(w);if(x){var y=new h(x);t.push([y,y.nextSibling]);y.remove()}}return t}function n(s,t){if(!s||s.type!=1||s.getName()!="form"){return}if(t.length>0){for(var u=t.length-1;u>=0;u--){var v=t[u][0],w=t[u][1];if(w){v.insertBefore(w)}else{v.appendTo(s)}}}}function o(s,t){var u=m(s),v={},w=s.$;if(!t){v["class"]=w.className||"";w.className=""}v.inline=w.style.cssText||"";if(!t){w.style.cssText="position: static; overflow: visible"}n(u);return v}function p(s,t){var u=m(s),v=s.$;if("class" in t){v.className=t["class"]}if("inline" in t){v.style.cssText=t.inline}n(u)}function q(s){var t=a.instances;for(var u in t){var v=t[u];if(v.mode=="wysiwyg"&&!v.readOnly){var w=v.document.getBody();w.setAttribute("contentEditable",false);w.setAttribute("contentEditable",true)}}if(s.focusManager.hasFocus){s.toolbox.focus();s.focus()}}function r(s){if(!c||b.version>6){return null}var t=h.createFromHtml('<iframe frameborder="0" tabindex="-1" src="javascript:void((function(){document.open();'+(b.isCustomDomain()?"document.domain='"+this.getDocument().$.domain+"';":"")+'document.close();})())" style="display:block;position:absolute;z-index:-1;progid:DXImageTransform.Microsoft.Alpha(opacity=0);"></iframe>');return s.append(t,true)}j.add("maximize",{init:function(s){var t=s.lang,u=a.document,v=u.getWindow(),w,x,y,z;function A(){var C=v.getViewPaneSize();z&&z.setStyles({width:C.width+"px",height:C.height+"px"});s.resize(C.width,C.height,null,true)}var B=2;s.addCommand("maximize",{modes:{wysiwyg:1,source:1},readOnly:1,editorFocus:false,exec:function(){var C=s.container.getChild(1),D=s.getThemeSpace("contents");if(s.mode=="wysiwyg"){var E=s.getSelection();w=E&&E.getRanges();x=v.getScrollPosition()}else{var F=s.textarea.$;w=!c&&[F.selectionStart,F.selectionEnd];x=[F.scrollLeft,F.scrollTop]}if(this.state==2){v.on("resize",A);y=v.getScrollPosition();var G=s.container;while(G=G.getParent()){G.setCustomData("maximize_saved_styles",o(G));G.setStyle("z-index",s.config.baseFloatZIndex-1)}D.setCustomData("maximize_saved_styles",o(D,true));C.setCustomData("maximize_saved_styles",o(C,true));var H={overflow:b.webkit?"":"hidden",width:0,height:0};u.getDocumentElement().setStyles(H);!b.gecko&&u.getDocumentElement().setStyle("position","fixed");!(b.gecko&&b.quirks)&&u.getBody().setStyles(H);c?setTimeout(function(){v.$.scrollTo(0,0)},0):v.$.scrollTo(0,0);C.setStyle("position",b.gecko&&b.quirks?"fixed":"absolute");C.$.offsetLeft;C.setStyles({"z-index":s.config.baseFloatZIndex-1,left:"0px",top:"0px"});z=r(C);C.addClass("cke_maximized");A();var I=C.getDocumentPosition();C.setStyles({left:-1*I.x+"px",top:-1*I.y+"px"});b.gecko&&q(s)}else{if(this.state==1){v.removeListener("resize",A);var J=[D,C];for(var K=0;K<J.length;K++){p(J[K],J[K].getCustomData("maximize_saved_styles"));J[K].removeCustomData("maximize_saved_styles")}G=s.container;while(G=G.getParent()){p(G,G.getCustomData("maximize_saved_styles"));G.removeCustomData("maximize_saved_styles")}c?setTimeout(function(){v.$.scrollTo(y.x,y.y)},0):v.$.scrollTo(y.x,y.y);C.removeClass("cke_maximized");if(b.webkit){C.setStyle("display","inline");setTimeout(function(){C.setStyle("display","block")},0)}if(z){z.remove();z=null}s.fire("resize")}}this.toggleState();var L=this.uiItems[0];if(L){var M=this.state==2?t.maximize:t.minimize,N=s.element.getDocument().getById(L._.id);N.getChild(1).setHtml(M);N.setAttribute("title",M);N.setAttribute("href",'javascript:void("'+M+'");')}if(s.mode=="wysiwyg"){if(w){b.gecko&&q(s);s.getSelection().selectRanges(w);var O=s.getSelection().getStartElement();O&&O.scrollIntoView(true)}else{v.$.scrollTo(x.x,x.y)}}else{if(w){F.selectionStart=w[0];F.selectionEnd=w[1]}F.scrollLeft=x[0];F.scrollTop=x[1]}w=x=null;B=this.state},canUndo:false});s.ui.addButton("Maximize",{label:t.maximize,command:"maximize"});s.on("mode",function(){var C=s.getCommand("maximize");C.setState(C.state==0?0:B)},null,null,100)}})})();j.add("newpage",{init:function(m){m.addCommand("newpage",{modes:{wysiwyg:1,source:1},exec:function(n){var o=this;n.setData(n.config.newpage_html||"",function(){setTimeout(function(){n.fire("afterCommandExec",{name:o.name,command:o});n.selectionChange()},200)});n.focus()},async:true});m.ui.addButton("NewPage",{label:m.lang.newPage,command:"newpage"})}});j.add("pagebreak",{init:function(m){m.addCommand("pagebreak",j.pagebreakCmd);m.ui.addButton("PageBreak",{label:m.lang.pagebreak,command:"pagebreak"});var n=["{","background: url("+a.getUrl(this.path+"images/pagebreak.gif")+") no-repeat center center;","clear: both;","width:100%; _width:99.9%;","border-top: #999999 1px dotted;","border-bottom: #999999 1px dotted;","padding:0;","height: 5px;","cursor: default;","}"].join("").replace(/;/g," !important;");m.addCss("div.cke_pagebreak"+n);b.opera&&m.on("contentDom",function(){m.document.on("click",function(o){var p=o.data.getTarget();if(p.is("div")&&p.hasClass("cke_pagebreak")){m.getSelection().selectElement(p)}})})},afterInit:function(m){var n=m.lang.pagebreakAlt,o=m.dataProcessor,p=o&&o.dataFilter,q=o&&o.htmlFilter;if(q){q.addRules({attributes:{"class":function(r,s){var t=r.replace("cke_pagebreak","");if(t!=r){var u=a.htmlParser.fragment.fromHtml('<span style="display: none;">&nbsp;</span>');s.children.length=0;s.add(u);var v=s.attributes;delete v["aria-label"];delete v.contenteditable;delete v.title}return t}}},5)}if(p){p.addRules({elements:{div:function(r){var s=r.attributes,t=s&&s.style,u=t&&r.children.length==1&&r.children[0],v=u&&u.name=="span"&&u.attributes.style;if(v&&/page-break-after\s*:\s*always/i.test(t)&&/display\s*:\s*none/i.test(v)){s.contenteditable="false";s["class"]="cke_pagebreak";s["data-cke-display-name"]="pagebreak";s["aria-label"]=n;s.title=n;r.children.length=0}}}})}},requires:["fakeobjects"]});j.pagebreakCmd={exec:function(m){var n=m.lang.pagebreakAlt,o=h.createFromHtml('<div style="page-break-after: always;"contenteditable="false" title="'+n+'" aria-label="'+n+'" data-cke-display-name="pagebreak" class="cke_pagebreak"></div>'),p=m.getSelection().getRanges(true);m.fire("saveSnapshot");for(var q,r=p.length-1;r>=0;r--){q=p[r];if(r<p.length-1){o=o.clone(true)}q.splitBlock("p");q.insertNode(o);if(r==p.length-1){var s=o.getNext();q.moveToPosition(o,4);if(!s||s.type==1&&!s.isEditable()){q.fixBlock(true,m.config.enterMode==3?"div":"p")}q.select()}}m.fire("saveSnapshot")}};(function(){function m(n){n.data.mode="html"}j.add("pastefromword",{init:function(n){var o=0,p=function(q){q&&q.removeListener();n.removeListener("beforePaste",m);o&&setTimeout(function(){o=0},0)};n.addCommand("pastefromword",{canUndo:false,exec:function(){o=1;n.on("beforePaste",m);if(n.execCommand("paste","html")===false){n.on("dialogShow",function(q){q.removeListener();q.data.on("cancel",p)});n.on("dialogHide",function(q){q.data.removeListener("cancel",p)})}n.on("afterPaste",p)}});n.ui.addButton("PasteFromWord",{label:n.lang.pastefromword.toolbar,command:"pastefromword"});n.on("pasteState",function(q){n.getCommand("pastefromword").setState(q.data)});n.on("paste",function(q){var r=q.data,s;if((s=r.html)&&(o||/(class=\"?Mso|style=\"[^\"]*\bmso\-|w:WordDocument)/.test(s))){var t=this.loadFilterRules(function(){if(t){n.fire("paste",r)}else{if(!n.config.pasteFromWordPromptCleanup||o||confirm(n.lang.pastefromword.confirmCleanup)){r.html=a.cleanWord(s,n)}}});t&&q.cancel()}},this)},loadFilterRules:function(n){var o=a.cleanWord;if(o){n()}else{var p=a.getUrl(i.pasteFromWordCleanupFile||this.path+"filter/default.js");a.scriptLoader.load(p,n,null,true)}return !o},requires:["clipboard"]})})();(function(){var m={exec:function(n){var o=e.tryThese(function(){var p=window.clipboardData.getData("Text");if(!p){throw 0}return p});if(!o){n.openDialog("pastetext");return false}else{n.fire("paste",{text:o})}return true}};j.add("pastetext",{init:function(n){var o="pastetext",p=n.addCommand(o,m);n.ui.addButton("PasteText",{label:n.lang.pasteText.button,command:o});a.dialog.add(o,a.getUrl(this.path+"dialogs/pastetext.js"));if(n.config.forcePasteAsPlainText){n.on("beforeCommandExec",function(q){var r=q.data.commandData;if(q.data.name=="paste"&&r!="html"){n.execCommand("pastetext");q.cancel()}},null,null,0);n.on("beforePaste",function(q){q.data.mode="text"})}n.on("pasteState",function(q){n.getCommand("pastetext").setState(q.data)})},requires:["clipboard"]})})();j.add("popup");e.extend(a.editor.prototype,{popup:function(m,n,o,p){n=n||"80%";o=o||"70%";if(typeof n=="string"&&n.length>1&&n.substr(n.length-1,1)=="%"){n=parseInt(window.screen.width*parseInt(n,10)/100,10)}if(typeof o=="string"&&o.length>1&&o.substr(o.length-1,1)=="%"){o=parseInt(window.screen.height*parseInt(o,10)/100,10)}if(n<640){n=640}if(o<420){o=420}var q=parseInt((window.screen.height-o)/2,10),r=parseInt((window.screen.width-n)/2,10);p=(p||"location=no,menubar=no,toolbar=no,dependent=yes,minimizable=no,modal=yes,alwaysRaised=yes,resizable=yes,scrollbars=yes")+",width="+n+",height="+o+",top="+q+",left="+r;var s=window.open("",null,p,true);if(!s){return false}try{s.moveTo(r,q);s.resizeTo(n,o);s.focus();s.location.href=m}catch(t){s=window.open(m,null,p,true)}return true}});(function(){var m={modes:{wysiwyg:1,source:1},canUndo:false,readOnly:1,exec:function(o){var p,q=o.config,r=q.baseHref?'<base href="'+q.baseHref+'"/>':"",s=b.isCustomDomain();if(q.fullPage){p=o.getData().replace(/<head>/,"$&"+r).replace(/[^>]*(?=<\/title>)/,"$& &mdash; "+o.lang.preview)}else{var t="<body ",u=o.document&&o.document.getBody();if(u){if(u.getAttribute("id")){t+='id="'+u.getAttribute("id")+'" '}if(u.getAttribute("class")){t+='class="'+u.getAttribute("class")+'" '}}t+=">";p=o.config.docType+'<html dir="'+o.config.contentsLangDirection+'"><head>'+r+"<title>"+o.lang.preview+"</title>"+e.buildStyleHtml(o.config.contentsCss)+"</head>"+t+o.getData()+"</body></html>"}var v=640,w=420,x=80;try{var y=window.screen;v=Math.round(y.width*0.8);w=Math.round(y.height*0.7);x=Math.round(y.width*0.1)}catch(B){}var z="";if(s){window._cke_htmlToLoad=p;z='javascript:void( (function(){document.open();document.domain="'+document.domain+'";document.write( window.opener._cke_htmlToLoad );document.close();window.opener._cke_htmlToLoad = null;})() )'}var A=window.open(z,null,"toolbar=yes,location=no,status=yes,menubar=yes,scrollbars=yes,resizable=yes,width="+v+",height="+w+",left="+x);if(!s){A.document.open();A.document.write(p);A.document.close()}}},n="preview";j.add(n,{init:function(o){o.addCommand(n,m);o.ui.addButton("Preview",{label:o.lang.preview,command:n})}})})();j.add("print",{init:function(m){var n="print",o=m.addCommand(n,j.print);m.ui.addButton("Print",{label:m.lang.print,command:n})}});j.print={exec:function(m){if(b.opera){return}else{if(b.gecko){m.window.$.print()}else{m.document.$.execCommand("Print")}}},canUndo:false,readOnly:1,modes:{wysiwyg:!b.opera}};j.add("removeformat",{requires:["selection"],init:function(m){m.addCommand("removeFormat",j.removeformat.commands.removeformat);m.ui.addButton("RemoveFormat",{label:m.lang.removeFormat,command:"removeFormat"});m._.removeFormat={filters:[]}}});j.removeformat={commands:{removeformat:{exec:function(m){var n=m._.removeFormatRegex||(m._.removeFormatRegex=new RegExp("^(?:"+m.config.removeFormatTags.replace(/,/g,"|")+")$","i")),o=m._.removeAttributes||(m._.removeAttributes=m.config.removeFormatAttributes.split(",")),p=j.removeformat.filter,q=m.getSelection().getRanges(1),r=q.createIterator(),s;while(s=r.getNextRange()){if(!s.collapsed){s.enlarge(1)}var t=s.createBookmark(),u=t.startNode,v=t.endNode,w,x=function(z){var A=new d.elementPath(z),B=A.elements;for(var C=1,D;D=B[C];C++){if(D.equals(A.block)||D.equals(A.blockLimit)){break}if(n.test(D.getName())&&p(m,D)){z.breakParent(D)}}};x(u);if(v){x(v);w=u.getNextSourceNode(true,1);while(w){if(w.equals(v)){break}var y=w.getNextSourceNode(false,1);if(!(w.getName()=="img"&&w.data("cke-realelement"))&&p(m,w)){if(n.test(w.getName())){w.remove(1)}else{w.removeAttributes(o);m.fire("removeFormatCleanup",w)}}w=y}}s.moveToBookmark(t)}m.getSelection().selectRanges(q)}}},filter:function(m,n){var o=m._.removeFormat.filters;for(var p=0;p<o.length;p++){if(o[p](n)===false){return false}}return true}};a.editor.prototype.addRemoveFormatFilter=function(m){this._.removeFormat.filters.push(m)};i.removeFormatTags="b,big,code,del,dfn,em,font,i,ins,kbd,q,samp,small,span,strike,strong,sub,sup,tt,u,var";i.removeFormatAttributes="class,style,lang,width,height,align,hspace,valign";j.add("resize",{init:function(m){var n=m.config,o=m.element.getDirection(1);!n.resize_dir&&(n.resize_dir="both");n.resize_maxWidth==undefined&&(n.resize_maxWidth=3000);n.resize_maxHeight==undefined&&(n.resize_maxHeight=3000);n.resize_minWidth==undefined&&(n.resize_minWidth=750);n.resize_minHeight==undefined&&(n.resize_minHeight=250);if(n.resize_enabled!==false){var p=null,q,r,s=(n.resize_dir=="both"||n.resize_dir=="horizontal")&&n.resize_minWidth!=n.resize_maxWidth,t=(n.resize_dir=="both"||n.resize_dir=="vertical")&&n.resize_minHeight!=n.resize_maxHeight;function u(x){var y=x.data.$.screenX-q.x,z=x.data.$.screenY-q.y,A=r.width,B=r.height,C=A+y*(o=="rtl"?-1:1),D=B+z;if(s){A=Math.max(n.resize_minWidth,Math.min(C,n.resize_maxWidth))}if(t){B=Math.max(n.resize_minHeight,Math.min(D,n.resize_maxHeight))}m.resize(A,B)}function v(x){a.document.removeListener("mousemove",u);a.document.removeListener("mouseup",v);if(m.document){m.document.removeListener("mousemove",u);m.document.removeListener("mouseup",v)}}var w=e.addFunction(function(x){if(!p){p=m.getResizable()}r={width:p.$.offsetWidth||0,height:p.$.offsetHeight||0};q={x:x.screenX,y:x.screenY};n.resize_minWidth>r.width&&(n.resize_minWidth=r.width);n.resize_minHeight>r.height&&(n.resize_minHeight=r.height);a.document.on("mousemove",u);a.document.on("mouseup",v);if(m.document){m.document.on("mousemove",u);m.document.on("mouseup",v)}});m.on("destroy",function(){e.removeFunction(w)});m.on("themeSpace",function(x){if(x.data.space=="bottom"){var y="";if(s&&!t){y=" cke_resizer_horizontal"}if(!s&&t){y=" cke_resizer_vertical"}var z='<div class="cke_resizer'+y+" cke_resizer_"+o+'" title="'+e.htmlEncode(m.lang.resize)+'" onmousedown="CKEDITOR.tools.callFunction('+w+', event)"></div>';o=="ltr"&&y=="ltr"?x.data.html+=z:x.data.html=z+x.data.html}},m,null,100)}}});(function(){var m={modes:{wysiwyg:1,source:1},readOnly:1,exec:function(o){var p=o.element.$.form;if(p){try{p.submit()}catch(q){if(p.submit.click){p.submit.click()}}}}},n="save";j.add(n,{init:function(o){var p=o.addCommand(n,m);p.modes={wysiwyg:!!o.element.$.form};o.ui.addButton("Save",{label:o.lang.save,command:n})}})})();(function(){var m="scaytcheck",n="";function o(t,u){var v=0,w;for(w in u){if(u[w]==t){v=1;break}}return v}var p=function(){var t=this,u=function(){var y=t.config,z={};z.srcNodeRef=t.document.getWindow().$.frameElement;z.assocApp="CKEDITOR."+a.version+"@"+a.revision;z.customerid=y.scayt_customerid||"1:WvF0D4-UtPqN1-43nkD4-NKvUm2-daQqk3-LmNiI-z7Ysb4-mwry24-T8YrS3-Q2tpq2";z.customDictionaryIds=y.scayt_customDictionaryIds||"";z.userDictionaryName=y.scayt_userDictionaryName||"";z.sLang=y.scayt_sLang||"en_US";z.onLoad=function(){if(!(c&&b.version<8)){this.addStyle(this.selectorCss(),"padding-bottom: 2px !important;")}if(t.focusManager.hasFocus&&!q.isControlRestored(t)){this.focus()}};z.onBeforeChange=function(){if(q.getScayt(t)&&!t.checkDirty()){setTimeout(function(){t.resetDirty()},0)}};var A=window.scayt_custom_params;if(typeof A=="object"){for(var B in A){z[B]=A[B]}}if(q.getControlId(t)){z.id=q.getControlId(t)}var C=new window.scayt(z);C.afterMarkupRemove.push(function(E){new h(E,C.document).mergeSiblings()});var D=q.instances[t.name];if(D){C.sLang=D.sLang;C.option(D.option());C.paused=D.paused}q.instances[t.name]=C;try{C.setDisabled(q.isPaused(t)===false)}catch(E){}t.fire("showScaytState")};t.on("contentDom",u);t.on("contentDomUnload",function(){var y=a.document.getElementsByTag("script"),z=/^dojoIoScript(\d+)$/i,A=/^https?:\/\/svc\.spellchecker\.net\/spellcheck\/script\/ssrv\.cgi/i;for(var B=0;B<y.count();B++){var C=y.getItem(B),D=C.getId(),E=C.getAttribute("src");if(D&&E&&D.match(z)&&E.match(A)){C.remove()}}});t.on("beforeCommandExec",function(y){if((y.data.name=="source"||y.data.name=="newpage")&&t.mode=="wysiwyg"){var z=q.getScayt(t);if(z){q.setPaused(t,!z.disabled);q.setControlId(t,z.id);z.destroy(true);delete q.instances[t.name]}}else{if(y.data.name=="source"&&t.mode=="source"){q.markControlRestore(t)}}});t.on("afterCommandExec",function(y){if(!q.isScaytEnabled(t)){return}if(t.mode=="wysiwyg"&&(y.data.name=="undo"||y.data.name=="redo")){window.setTimeout(function(){q.getScayt(t).refresh()},10)}});t.on("destroy",function(y){var z=y.editor,A=q.getScayt(z);if(!A){return}delete q.instances[z.name];q.setControlId(z,A.id);A.destroy(true)});t.on("afterSetData",function(){if(q.isScaytEnabled(t)){window.setTimeout(function(){var y=q.getScayt(t);y&&y.refresh()},10)}});t.on("insertElement",function(){var y=q.getScayt(t);if(q.isScaytEnabled(t)){if(c){t.getSelection().unlock(true)}window.setTimeout(function(){y.focus();y.refresh()},10)}},this,null,50);t.on("insertHtml",function(){var y=q.getScayt(t);if(q.isScaytEnabled(t)){if(c){t.getSelection().unlock(true)}window.setTimeout(function(){y.focus();y.refresh()},10)}},this,null,50);t.on("scaytDialog",function(y){y.data.djConfig=window.djConfig;y.data.scayt_control=q.getScayt(t);y.data.tab=n;y.data.scayt=window.scayt});var v=t.dataProcessor,w=v&&v.htmlFilter;if(w){w.addRules({elements:{span:function(y){if(y.attributes["data-scayt_word"]&&y.attributes["data-scaytid"]){delete y.name;return y}}}})}var x=j.undo.Image.prototype;x.equals=e.override(x.equals,function(y){return function(z){var E=this;var A=E.contents,B=z.contents,C=q.getScayt(E.editor);if(C&&q.isScaytReady(E.editor)){E.contents=C.reset(A)||"";z.contents=C.reset(B)||""}var D=y.apply(E,arguments);E.contents=A;z.contents=B;return D}});if(t.document){u()}};j.scayt={engineLoaded:false,instances:{},controlInfo:{},setControlInfo:function(t,u){if(t&&t.name&&typeof this.controlInfo[t.name]!="object"){this.controlInfo[t.name]={}}for(var v in u){this.controlInfo[t.name][v]=u[v]}},isControlRestored:function(t){if(t&&t.name&&this.controlInfo[t.name]){return this.controlInfo[t.name].restored}return false},markControlRestore:function(t){this.setControlInfo(t,{restored:true})},setControlId:function(t,u){this.setControlInfo(t,{id:u})},getControlId:function(t){if(t&&t.name&&this.controlInfo[t.name]&&this.controlInfo[t.name].id){return this.controlInfo[t.name].id}return null},setPaused:function(t,u){this.setControlInfo(t,{paused:u})},isPaused:function(t){if(t&&t.name&&this.controlInfo[t.name]){return this.controlInfo[t.name].paused}return undefined},getScayt:function(t){return this.instances[t.name]},isScaytReady:function(t){return this.engineLoaded===true&&"undefined"!==typeof window.scayt&&this.getScayt(t)},isScaytEnabled:function(t){var u=this.getScayt(t);return u?u.disabled===false:false},getUiTabs:function(t){var u=[],v=t.config.scayt_uiTabs||"1,1,1";v=v.split(",");v[3]="1";for(var w=0;w<4;w++){u[w]=typeof window.scayt!="undefined"&&typeof window.scayt.uiTags!="undefined"?parseInt(v[w],10)&&window.scayt.uiTags[w]:parseInt(v[w],10)}return u},loadEngine:function(t){if(b.gecko&&b.version<10900||b.opera||b.air){return t.fire("showScaytState")}if(this.engineLoaded===true){return p.apply(t)}else{if(this.engineLoaded==-1){return a.on("scaytReady",function(){p.apply(t)})}}a.on("scaytReady",p,t);a.on("scaytReady",function(){this.engineLoaded=true},this,null,0);this.engineLoaded=-1;var u=document.location.protocol;u=u.search(/https?:/)!=-1?u:"http:";var v="svc.spellchecker.net/scayt26/loader__base.js",w=t.config.scayt_srcUrl||u+"//"+v,x=q.parseUrl(w).path+"/";if(window.scayt==undefined){a._djScaytConfig={baseUrl:x,addOnLoad:[function(){a.fireOnce("scaytReady")}],isDebug:false};a.document.getHead().append(a.document.createElement("script",{attributes:{type:"text/javascript",async:"true",src:w}}))}else{a.fireOnce("scaytReady")}return null},parseUrl:function(t){var u;if(t.match&&(u=t.match(/(.*)[\/\\](.*?\.\w+)$/))){return{path:u[1],file:u[2]}}else{return t}}};var q=j.scayt,r=function(t,u,v,w,x,y,z){t.addCommand(w,x);t.addMenuItem(w,{label:v,command:w,group:y,order:z})},s={preserveState:true,editorFocus:false,canUndo:false,exec:function(t){if(q.isScaytReady(t)){var u=q.isScaytEnabled(t);this.setState(u?2:1);var v=q.getScayt(t);v.focus();v.setDisabled(u)}else{if(!t.config.scayt_autoStartup&&q.engineLoaded>=0){this.setState(0);q.loadEngine(t)}}}};j.add("scayt",{requires:["menubutton"],beforeInit:function(t){var u=t.config.scayt_contextMenuItemsOrder||"suggest|moresuggest|control",v="";u=u.split("|");if(u&&u.length){for(var w=0;w<u.length;w++){v+="scayt_"+u[w]+(u.length!=parseInt(w,10)+1?",":"")}}t.config.menu_groups=v+","+t.config.menu_groups},init:function(t){var u=t.dataProcessor&&t.dataProcessor.dataFilter,v={elements:{span:function(E){var F=E.attributes;if(F&&F["data-scaytid"]){delete E.name}}}};u&&u.addRules(v);var w={},x={},y=t.addCommand(m,s);a.dialog.add(m,a.getUrl(this.path+"dialogs/options.js"));var z=q.getUiTabs(t),A="scaytButton";t.addMenuGroup(A);var B={},C=t.lang.scayt;B.scaytToggle={label:C.enable,command:m,group:A};if(z[0]==1){B.scaytOptions={label:C.options,group:A,onClick:function(){n="options";t.openDialog(m)}}}if(z[1]==1){B.scaytLangs={label:C.langs,group:A,onClick:function(){n="langs";t.openDialog(m)}}}if(z[2]==1){B.scaytDict={label:C.dictionariesTab,group:A,onClick:function(){n="dictionaries";t.openDialog(m)}}}B.scaytAbout={label:t.lang.scayt.about,group:A,onClick:function(){n="about";t.openDialog(m)}};t.addMenuItems(B);t.ui.add("Scayt","menubutton",{label:C.title,title:b.opera?C.opera_title:C.title,className:"cke_button_scayt",modes:{wysiwyg:1},onRender:function(){y.on("state",function(){this.setState(y.state)},this)},onMenu:function(){var E=q.isScaytEnabled(t);t.getMenuItem("scaytToggle").label=C[E?"disable":"enable"];var F=q.getUiTabs(t);return{scaytToggle:2,scaytOptions:E&&F[0]?2:0,scaytLangs:E&&F[1]?2:0,scaytDict:E&&F[2]?2:0,scaytAbout:E&&F[3]?2:0}}});if(t.contextMenu&&t.addMenuItems){t.contextMenu.addListener(function(E,F){if(!q.isScaytEnabled(t)||F.getRanges()[0].checkReadOnly()){return null}var G=q.getScayt(t),H=G.getScaytNode();if(!H){return null}var I=G.getWord(H);if(!I){return null}var J=G.getLang(),K={},L=window.scayt.getSuggestion(I,J);if(!L||!L.length){return null}for(var M in w){delete t._.menuItems[M];delete t._.commands[M]}for(M in x){delete t._.menuItems[M];delete t._.commands[M]}w={};x={};var N=t.config.scayt_moreSuggestions||"on",O=false,P=t.config.scayt_maxSuggestions;typeof P!="number"&&(P=5);!P&&(P=L.length);var Q=t.config.scayt_contextCommands||"all";Q=Q.split("|");for(var R=0,S=L.length;R<S;R+=1){var T="scayt_suggestion_"+L[R].replace(" ","_"),U=(function(Y,Z){return{exec:function(){G.replace(Y,Z)}}})(H,L[R]);if(R<P){r(t,"button_"+T,L[R],T,U,"scayt_suggest",R+1);K[T]=2;x[T]=2}else{if(N=="on"){r(t,"button_"+T,L[R],T,U,"scayt_moresuggest",R+1);w[T]=2;O=true}}}if(O){t.addMenuItem("scayt_moresuggest",{label:C.moreSuggestions,group:"scayt_moresuggest",order:10,getItems:function(){return w}});x.scayt_moresuggest=2}if(o("all",Q)||o("ignore",Q)){var V={exec:function(){G.ignore(H)}};r(t,"ignore",C.ignore,"scayt_ignore",V,"scayt_control",1);x.scayt_ignore=2}if(o("all",Q)||o("ignoreall",Q)){var W={exec:function(){G.ignoreAll(H)}};r(t,"ignore_all",C.ignoreAll,"scayt_ignore_all",W,"scayt_control",2);x.scayt_ignore_all=2}if(o("all",Q)||o("add",Q)){var X={exec:function(){window.scayt.addWordToUserDictionary(H)}};r(t,"add_word",C.addWord,"scayt_add_word",X,"scayt_control",3);x.scayt_add_word=2}if(G.fireOnContextMenu){G.fireOnContextMenu(t)}return x})}var D=function(){t.removeListener("showScaytState",D);if(!b.opera&&!b.air){y.setState(q.isScaytEnabled(t)?1:2)}else{y.setState(0)}};t.on("showScaytState",D);if(b.opera||b.air){t.on("instanceReady",function(){D()})}if(t.config.scayt_autoStartup){t.on("instanceReady",function(){q.loadEngine(t)})}},afterInit:function(t){var u,v=function(w){if(w.hasAttribute("data-scaytid")){return false}};if(t._.elementsPath&&(u=t._.elementsPath.filters)){u.push(v)}t.addRemoveFormatFilter&&t.addRemoveFormatFilter(v)}})})();j.add("smiley",{requires:["dialog"],init:function(m){m.config.smiley_path=m.config.smiley_path||this.path+"images/";m.addCommand("smiley",new a.dialogCommand("smiley"));m.ui.addButton("Smiley",{label:m.lang.smiley.toolbar,command:"smiley"});a.dialog.add("smiley",this.path+"dialogs/smiley.js")}});i.smiley_images=["regular_smile.gif","sad_smile.gif","wink_smile.gif","teeth_smile.gif","confused_smile.gif","tounge_smile.gif","embaressed_smile.gif","omg_smile.gif","whatchutalkingabout_smile.gif","angry_smile.gif","angel_smile.gif","shades_smile.gif","devil_smile.gif","cry_smile.gif","lightbulb.gif","thumbs_down.gif","thumbs_up.gif","heart.gif","broken_heart.gif","kiss.gif","envelope.gif"];i.smiley_descriptions=["smiley","sad","wink","laugh","frown","cheeky","blush","surprise","indecision","angry","angel","cool","devil","crying","enlightened","no","yes","heart","broken heart","kiss","mail"];(function(){var m=".%2 p,.%2 div,.%2 pre,.%2 address,.%2 blockquote,.%2 h1,.%2 h2,.%2 h3,.%2 h4,.%2 h5,.%2 h6{background-repeat: no-repeat;background-position: top %3;border: 1px dotted gray;padding-top: 8px;padding-%3: 8px;}.%2 p{%1p.png);}.%2 div{%1div.png);}.%2 pre{%1pre.png);}.%2 address{%1address.png);}.%2 blockquote{%1blockquote.png);}.%2 h1{%1h1.png);}.%2 h2{%1h2.png);}.%2 h3{%1h3.png);}.%2 h4{%1h4.png);}.%2 h5{%1h5.png);}.%2 h6{%1h6.png);}",n=/%1/g,o=/%2/g,p=/%3/g,q={readOnly:1,preserveState:true,editorFocus:false,exec:function(r){this.toggleState();this.refresh(r)},refresh:function(r){if(r.document){var s=this.state==1?"addClass":"removeClass";r.document.getBody()[s]("cke_show_blocks")}}};j.add("showblocks",{requires:["wysiwygarea"],init:function(r){var s=r.addCommand("showblocks",q);s.canUndo=false;if(r.config.startupOutlineBlocks){s.setState(1)}r.addCss(m.replace(n,"background-image: url("+a.getUrl(this.path)+"images/block_").replace(o,"cke_show_blocks ").replace(p,r.lang.dir=="rtl"?"right":"left"));r.ui.addButton("ShowBlocks",{label:r.lang.showBlocks,command:"showblocks"});r.on("mode",function(){if(s.state!=0){s.refresh(r)}});r.on("contentDom",function(){if(s.state!=0){s.refresh(r)}})}})})();(function(){var m="cke_show_border",n,o=(b.ie6Compat?[".%1 table.%2,",".%1 table.%2 td, .%1 table.%2 th,","{","border : #d3d3d3 1px dotted","}"]:[".%1 table.%2,",".%1 table.%2 > tr > td, .%1 table.%2 > tr > th,",".%1 table.%2 > tbody > tr > td, .%1 table.%2 > tbody > tr > th,",".%1 table.%2 > thead > tr > td, .%1 table.%2 > thead > tr > th,",".%1 table.%2 > tfoot > tr > td, .%1 table.%2 > tfoot > tr > th","{","border : #d3d3d3 1px dotted","}"]).join("");n=o.replace(/%2/g,m).replace(/%1/g,"cke_show_borders ");var p={preserveState:true,editorFocus:false,readOnly:1,exec:function(q){this.toggleState();this.refresh(q)},refresh:function(q){if(q.document){var r=this.state==1?"addClass":"removeClass";q.document.getBody()[r]("cke_show_borders")}}};j.add("showborders",{requires:["wysiwygarea"],modes:{wysiwyg:1},init:function(q){var r=q.addCommand("showborders",p);r.canUndo=false;if(q.config.startupShowBorders!==false){r.setState(1)}q.addCss(n);q.on("mode",function(){if(r.state!=0){r.refresh(q)}},null,null,100);q.on("contentDom",function(){if(r.state!=0){r.refresh(q)}});q.on("removeFormatCleanup",function(s){var t=s.data;if(q.getCommand("showborders").state==1&&t.is("table")&&(!t.hasAttribute("border")||parseInt(t.getAttribute("border"),10)<=0)){t.addClass(m)}})},afterInit:function(q){var r=q.dataProcessor,s=r&&r.dataFilter,t=r&&r.htmlFilter;if(s){s.addRules({elements:{table:function(u){var v=u.attributes,w=v["class"],x=parseInt(v.border,10);if(!x||x<=0){v["class"]=(w||"")+" "+m}}}})}if(t){t.addRules({elements:{table:function(u){var v=u.attributes,w=v["class"];w&&(v["class"]=w.replace(m,"").replace(/\s{2}/," ").replace(/^\s+|\s+$/,""))}}})}}});a.on("dialogDefinition",function(q){var r=q.data.name;if(r=="table"||r=="tableProperties"){var s=q.data.definition,t=s.getContents("info"),u=t.get("txtBorder"),v=u.commit;u.commit=e.override(v,function(y){return function(z,A){y.apply(this,arguments);var B=parseInt(this.getValue(),10);A[!B||B<=0?"addClass":"removeClass"](m)}});var w=s.getContents("advanced"),x=w&&w.get("advCSSClasses");if(x){x.setup=e.override(x.setup,function(y){return function(){y.apply(this,arguments);this.setValue(this.getValue().replace(/cke_show_border/,""))}});x.commit=e.override(x.commit,function(y){return function(z,A){y.apply(this,arguments);if(!parseInt(A.getAttribute("border"),10)){A.addClass("cke_show_border")}}})}}})})();j.add("sourcearea",{requires:["editingblock"],init:function(m){var n=j.sourcearea,o=a.document.getWindow();m.on("editingBlockReady",function(){var p,q;m.addMode("source",{load:function(r,s){if(c&&b.version<8){r.setStyle("position","relative")}m.textarea=p=new h("textarea");p.setAttributes({dir:"ltr",tabIndex:b.webkit?-1:m.tabIndex,role:"textbox","aria-label":m.lang.editorTitle.replace("%1",m.name)});p.addClass("cke_source");p.addClass("cke_enable_context_menu");m.readOnly&&p.setAttribute("readOnly","readonly");var t={width:b.ie7Compat?"99%":"100%",height:"100%",resize:"none",outline:"none","text-align":"left"};if(c){q=function(){p.hide();p.setStyle("height",r.$.clientHeight+"px");p.setStyle("width",r.$.clientWidth+"px");p.show()};m.on("resize",q);o.on("resize",q);setTimeout(q,0)}r.setHtml("");r.append(p);p.setStyles(t);m.fire("ariaWidget",p);p.on("blur",function(){m.focusManager.blur()});p.on("focus",function(){m.focusManager.focus()});m.mayBeDirty=true;this.loadData(s);var u=m.keystrokeHandler;if(u){u.attach(p)}setTimeout(function(){m.mode="source";m.fire("mode")},b.gecko||b.webkit?100:0)},loadData:function(r){p.setValue(r);m.fire("dataReady")},getData:function(){return p.getValue()},getSnapshotData:function(){return p.getValue()},unload:function(r){p.clearCustomData();m.textarea=p=null;if(q){m.removeListener("resize",q);o.removeListener("resize",q)}if(c&&b.version<8){r.removeStyle("position")}},focus:function(){p.focus()}})});m.on("readOnly",function(){if(m.mode=="source"){if(m.readOnly){m.textarea.setAttribute("readOnly","readonly")}else{m.textarea.removeAttribute("readOnly")}}});m.addCommand("source",n.commands.source);if(m.ui.addButton){m.ui.addButton("Source",{label:m.lang.source,command:"source"})}m.on("mode",function(){m.getCommand("source").setState(m.mode=="source"?1:2)})}});j.sourcearea={commands:{source:{modes:{wysiwyg:1,source:1},editorFocus:false,readOnly:1,exec:function(m){if(m.mode=="wysiwyg"){m.fire("saveSnapshot")}m.getCommand("source").setState(0);m.setMode(m.mode=="source"?"wysiwyg":"source")},canUndo:false}}};(function(){j.add("stylescombo",{requires:["richcombo","styles"],init:function(n){var o=n.config,p=n.lang.stylesCombo,q={},r=[],s;function t(u){n.getStylesSet(function(v){if(!r.length){var w,x;for(var y=0,z=v.length;y<z;y++){var A=v[y];x=A.name;w=q[x]=new a.style(A);w._name=x;w._.enterMode=o.enterMode;r.push(w)}r.sort(m)}u&&u()})}n.ui.addRichCombo("Styles",{label:p.label,title:p.panelTitle,className:"cke_styles",panel:{css:n.skin.editor.css.concat(o.contentsCss),multiSelect:true,attributes:{"aria-label":p.panelTitle}},init:function(){s=this;t(function(){var u,v,w,x,y,z;for(y=0,z=r.length;y<z;y++){u=r[y];v=u._name;x=u.type;if(x!=w){s.startGroup(p["panelTitle"+String(x)]);w=x}s.add(v,u.type==3?v:u.buildPreview(),v)}s.commit();s.onOpen()})},onClick:function(u){n.focus();n.fire("saveSnapshot");var v=q[u],w=n.getSelection(),x=new d.elementPath(w.getStartElement());v[v.checkActive(x)?"remove":"apply"](n.document);n.fire("saveSnapshot")},onRender:function(){n.on("selectionChange",function(u){var v=this.getValue(),w=u.data.path,x=w.elements;for(var y=0,z=x.length,A;y<z;y++){A=x[y];for(var B in q){if(q[B].checkElementRemovable(A,true)){if(B!=v){this.setValue(B)}return}}}this.setValue("")},this)},onOpen:function(){var B=this;if(c||b.webkit){n.focus()}var u=n.getSelection(),v=u.getSelectedElement(),w=new d.elementPath(v||u.getStartElement()),x=[0,0,0,0];B.showAll();B.unmarkAll();for(var y in q){var z=q[y],A=z.type;if(z.checkActive(w)){B.mark(y)}else{if(A==3&&!z.checkApplicable(w)){B.hideItem(y);x[A]--}}x[A]++}if(!x[1]){B.hideGroup(p["panelTitle"+String(1)])}if(!x[2]){B.hideGroup(p["panelTitle"+String(2)])}if(!x[3]){B.hideGroup(p["panelTitle"+String(3)])}},reset:function(){if(s){delete s._.panel;delete s._.list;s._.committed=0;s._.items={};s._.state=2}q={};r=[];t()}});n.on("instanceReady",function(){t()})}});function m(n,o){var p=n.type,q=o.type;return p==q?0:p==3?-1:q==3?1:q==1?1:-1}})();j.add("table",{init:function(m){var n=j.table,o=m.lang.table;m.addCommand("table",new a.dialogCommand("table"));m.addCommand("tableProperties",new a.dialogCommand("tableProperties"));m.ui.addButton("Table",{label:o.toolbar,command:"table"});a.dialog.add("table",this.path+"dialogs/table.js");a.dialog.add("tableProperties",this.path+"dialogs/table.js");if(m.addMenuItems){m.addMenuItems({table:{label:o.menu,command:"tableProperties",group:"table",order:5},tabledelete:{label:o.deleteTable,command:"tableDelete",group:"table",order:1}})}m.on("doubleclick",function(p){var q=p.data.element;if(q.is("table")){p.data.dialog="tableProperties"}});if(m.contextMenu){m.contextMenu.addListener(function(p,q){if(!p||p.isReadOnly()){return null}var r=p.hasAscendant("table",1);if(r){return{tabledelete:2,table:2}}return null})}}});(function(){var m=/^(?:td|th)$/;function n(G){var H=G.createBookmarks(),I=G.getRanges(),J=[],K={};function L(T){if(J.length>0){return}if(T.type==1&&m.test(T.getName())&&!T.getCustomData("selected_cell")){h.setMarker(K,T,"selected_cell",true);J.push(T)}}for(var M=0;M<I.length;M++){var N=I[M];if(N.collapsed){var O=N.getCommonAncestor(),P=O.getAscendant("td",true)||O.getAscendant("th",true);if(P){J.push(P)}}else{var Q=new d.walker(N),R;Q.guard=L;while(R=Q.next()){var S=R.getParent();if(S&&m.test(S.getName())&&!S.getCustomData("selected_cell")){h.setMarker(K,S,"selected_cell",true);J.push(S)}}}}h.clearAllMarkers(K);G.selectBookmarks(H);return J}function o(G){var H=0,I=G.length-1,J={},K,L,M;while(K=G[H++]){h.setMarker(J,K,"delete_cell",true)}H=0;while(K=G[H++]){if((L=K.getPrevious())&&!L.getCustomData("delete_cell")||(L=K.getNext())&&!L.getCustomData("delete_cell")){h.clearAllMarkers(J);return L}}h.clearAllMarkers(J);M=G[0].getParent();if(M=M.getPrevious()){return M.getLast()}M=G[I].getParent();if(M=M.getNext()){return M.getChild(0)}return null}function p(G,H){var I=n(G),J=I[0],K=J.getAscendant("table"),L=J.getDocument(),M=I[0].getParent(),N=M.$.rowIndex,O=I[I.length-1],P=O.getParent().$.rowIndex+O.$.rowSpan-1,Q=new h(K.$.rows[P]),R=H?N:P,S=H?M:Q,T=e.buildTableMap(K),U=T[R],V=H?T[R-1]:T[R+1],W=T[0].length,X=L.createElement("tr");for(var Y=0;Y<W;Y++){var Z;if(U[Y].rowSpan>1&&V&&U[Y]==V[Y]){Z=U[Y];Z.rowSpan+=1}else{Z=new h(U[Y]).clone();Z.removeAttribute("rowSpan");!c&&Z.appendBogus();X.append(Z);Z=Z.$}Y+=Z.colSpan-1}H?X.insertBefore(S):X.insertAfter(S)}function q(G){if(G instanceof d.selection){var H=n(G),I=H[0],J=I.getAscendant("table"),K=e.buildTableMap(J),L=H[0].getParent(),M=L.$.rowIndex,N=H[H.length-1],O=N.getParent().$.rowIndex+N.$.rowSpan-1,P=[];for(var Q=M;Q<=O;Q++){var R=K[Q],S=new h(J.$.rows[Q]);for(var T=0;T<R.length;T++){var U=new h(R[T]),V=U.getParent().$.rowIndex;if(U.$.rowSpan==1){U.remove()}else{U.$.rowSpan-=1;if(V==Q){var W=K[Q+1];W[T-1]?U.insertAfter(new h(W[T-1])):new h(J.$.rows[Q+1]).append(U,1)}}T+=U.$.colSpan-1}P.push(S)}var X=J.$.rows,Y=new h(X[M]||X[M-1]||J.$.parentNode);for(Q=P.length;Q>=0;Q--){q(P[Q])}return Y}else{if(G instanceof h){J=G.getAscendant("table");if(J.$.rows.length==1){J.remove()}else{G.remove()}}}return null}function r(G,H){var I=G.getParent(),J=I.$.cells,K=0;for(var L=0;L<J.length;L++){var M=J[L];K+=H?1:M.colSpan;if(M==G.$){break}}return K-1}function s(G,H){var I=H?Infinity:0;for(var J=0;J<G.length;J++){var K=r(G[J],H);if(H?K<I:K>I){I=K}}return I}function t(G,H){var I=n(G),J=I[0],K=J.getAscendant("table"),L=s(I,1),M=s(I),N=H?L:M,O=e.buildTableMap(K),P=[],Q=[],R=O.length;for(var S=0;S<R;S++){P.push(O[S][N]);var T=H?O[S][N-1]:O[S][N+1];T&&Q.push(T)}for(S=0;S<R;S++){var U;if(P[S].colSpan>1&&Q.length&&Q[S]==P[S]){U=P[S];U.colSpan+=1}else{U=new h(P[S]).clone();U.removeAttribute("colSpan");!c&&U.appendBogus();U[H?"insertBefore":"insertAfter"].call(U,new h(P[S]));U=U.$}S+=U.rowSpan-1}}function u(G){var H=n(G),I=H[0],J=H[H.length-1],K=I.getAscendant("table"),L=e.buildTableMap(K),M,N,O=[];for(var P=0,Q=L.length;P<Q;P++){for(var R=0,S=L[P].length;R<S;R++){if(L[P][R]==I.$){M=R}if(L[P][R]==J.$){N=R}}}for(P=M;P<=N;P++){for(R=0;R<L.length;R++){var T=L[R],U=new h(K.$.rows[R]),V=new h(T[P]);if(V.$.colSpan==1){V.remove()}else{V.$.colSpan-=1}R+=V.$.rowSpan-1;if(!U.$.cells.length){O.push(U)}}}var W=K.$.rows[0]&&K.$.rows[0].cells,X=new h(W[M]||(M?W[M-1]:K.$.parentNode));if(O.length==Q){K.remove()}return X}function v(G){var H=[],I=G[0]&&G[0].getAscendant("table"),J,K,L,M;for(J=0,K=G.length;J<K;J++){H.push(G[J].$.cellIndex)}H.sort();for(J=1,K=H.length;J<K;J++){if(H[J]-H[J-1]>1){L=H[J-1]+1;break}}if(!L){L=H[0]>0?H[0]-1:H[H.length-1]+1}var N=I.$.rows;for(J=0,K=N.length;J<K;J++){M=N[J].cells[L];if(M){break}}return M?new h(M):I.getPrevious()}function w(G,H){var I=G.getStartElement(),J=I.getAscendant("td",1)||I.getAscendant("th",1);if(!J){return}var K=J.clone();if(!c){K.appendBogus()}if(H){K.insertBefore(J)}else{K.insertAfter(J)}}function x(G){if(G instanceof d.selection){var H=n(G),I=H[0]&&H[0].getAscendant("table"),J=o(H);for(var K=H.length-1;K>=0;K--){x(H[K])}if(J){z(J,true)}else{if(I){I.remove()}}}else{if(G instanceof h){var L=G.getParent();if(L.getChildCount()==1){L.remove()}else{G.remove()}}}}function y(G){var H=G.getBogus();H&&H.remove();G.trim()}function z(G,H){var I=new d.range(G.getDocument());if(!I["moveToElementEdit"+(H?"End":"Start")](G)){I.selectNodeContents(G);I.collapse(H?false:true)}I.select(true)}function A(G,H,I){var J=G[H];if(typeof I=="undefined"){return J}for(var K=0;J&&K<J.length;K++){if(I.is&&J[K]==I.$){return K}else{if(K==I){return new h(J[K])}}}return I.is?-1:null}function B(G,H,I){var J=[];for(var K=0;K<G.length;K++){var L=G[K];if(typeof I=="undefined"){J.push(L[H])}else{if(I.is&&L[H]==I.$){return K}else{if(K==I){return new h(L[H])}}}}return typeof I=="undefined"?J:I.is?-1:null}function C(G,H,I){var J=n(G),K;if((H?J.length!=1:J.length<2)||(K=G.getCommonAncestor())&&K.type==1&&K.is("table")){return false}var L,M=J[0],N=M.getAscendant("table"),O=e.buildTableMap(N),P=O.length,Q=O[0].length,R=M.getParent().$.rowIndex,S=A(O,R,M);if(H){var T;try{var U=parseInt(M.getAttribute("rowspan"),10)||1,V=parseInt(M.getAttribute("colspan"),10)||1;T=O[H=="up"?R-U:H=="down"?R+U:R][H=="left"?S-V:H=="right"?S+V:S]}catch(an){return false}if(!T||M.$==T){return false}J[H=="up"||H=="left"?"unshift":"push"](new h(T))}var W=M.getDocument(),X=R,Y=0,Z=0,aa=!I&&new d.documentFragment(W),ab=0;for(var ac=0;ac<J.length;ac++){L=J[ac];var ad=L.getParent(),ae=L.getFirst(),af=L.$.colSpan,ag=L.$.rowSpan,ah=ad.$.rowIndex,ai=A(O,ah,L);ab+=af*ag;Z=Math.max(Z,ai-S+af);Y=Math.max(Y,ah-R+ag);if(!I){if(y(L),L.getChildren().count()){if(ah!=X&&ae&&!(ae.isBlockBoundary&&ae.isBlockBoundary({br:1}))){var aj=aa.getLast(d.walker.whitespaces(true));if(aj&&!(aj.is&&aj.is("br"))){aa.append("br")}}L.moveChildren(aa)}ac?L.remove():L.setHtml("")}X=ah}if(!I){aa.moveChildren(M);if(!c){M.appendBogus()}if(Z>=Q){M.removeAttribute("rowSpan")}else{M.$.rowSpan=Y}if(Y>=P){M.removeAttribute("colSpan")}else{M.$.colSpan=Z}var ak=new d.nodeList(N.$.rows),al=ak.count();for(ac=al-1;ac>=0;ac--){var am=ak.getItem(ac);if(!am.$.cells.length){am.remove();al++;continue}}return M}else{return Y*Z==ab}}function D(G,H){var I=n(G);if(I.length>1){return false}else{if(H){return true}}var J=I[0],K=J.getParent(),L=K.getAscendant("table"),M=e.buildTableMap(L),N=K.$.rowIndex,O=A(M,N,J),P=J.$.rowSpan,Q,R,S,T;if(P>1){R=Math.ceil(P/2);S=Math.floor(P/2);T=N+R;var U=new h(L.$.rows[T]),V=A(M,T),W;Q=J.clone();for(var X=0;X<V.length;X++){W=V[X];if(W.parentNode==U.$&&X>O){Q.insertBefore(new h(W));break}else{W=null}}if(!W){U.append(Q,true)}}else{S=R=1;U=K.clone();U.insertAfter(K);U.append(Q=J.clone());var Y=A(M,N);for(var Z=0;Z<Y.length;Z++){Y[Z].rowSpan++}}if(!c){Q.appendBogus()}J.$.rowSpan=R;Q.$.rowSpan=S;if(R==1){J.removeAttribute("rowSpan")}if(S==1){Q.removeAttribute("rowSpan")}return Q}function E(G,H){var I=n(G);if(I.length>1){return false}else{if(H){return true}}var J=I[0],K=J.getParent(),L=K.getAscendant("table"),M=e.buildTableMap(L),N=K.$.rowIndex,O=A(M,N,J),P=J.$.colSpan,Q,R,S;if(P>1){R=Math.ceil(P/2);S=Math.floor(P/2)}else{S=R=1;var T=B(M,O);for(var U=0;U<T.length;U++){T[U].colSpan++}}Q=J.clone();Q.insertAfter(J);if(!c){Q.appendBogus()}J.$.colSpan=R;Q.$.colSpan=S;if(R==1){J.removeAttribute("colSpan")}if(S==1){Q.removeAttribute("colSpan")}return Q}var F={thead:1,tbody:1,tfoot:1,td:1,tr:1,th:1};j.tabletools={init:function(G){var H=G.lang.table;G.addCommand("cellProperties",new a.dialogCommand("cellProperties"));a.dialog.add("cellProperties",this.path+"dialogs/tableCell.js");G.addCommand("tableDelete",{exec:function(I){var J=I.getSelection(),K=J&&J.getStartElement(),L=K&&K.getAscendant("table",1);if(!L){return}var M=L.getParent();if(M.getChildCount()==1&&!M.is("body","td","th")){L=M}var N=new d.range(I.document);N.moveToPosition(L,3);L.remove();N.select()}});G.addCommand("rowDelete",{exec:function(I){var J=I.getSelection();z(q(J))}});G.addCommand("rowInsertBefore",{exec:function(I){var J=I.getSelection();p(J,true)}});G.addCommand("rowInsertAfter",{exec:function(I){var J=I.getSelection();p(J)}});G.addCommand("columnDelete",{exec:function(I){var J=I.getSelection(),K=u(J);K&&z(K,true)}});G.addCommand("columnInsertBefore",{exec:function(I){var J=I.getSelection();t(J,true)}});G.addCommand("columnInsertAfter",{exec:function(I){var J=I.getSelection();t(J)}});G.addCommand("cellDelete",{exec:function(I){var J=I.getSelection();x(J)}});G.addCommand("cellMerge",{exec:function(I){z(C(I.getSelection()),true)}});G.addCommand("cellMergeRight",{exec:function(I){z(C(I.getSelection(),"right"),true)}});G.addCommand("cellMergeDown",{exec:function(I){z(C(I.getSelection(),"down"),true)}});G.addCommand("cellVerticalSplit",{exec:function(I){z(D(I.getSelection()))}});G.addCommand("cellHorizontalSplit",{exec:function(I){z(E(I.getSelection()))}});G.addCommand("cellInsertBefore",{exec:function(I){var J=I.getSelection();w(J,true)}});G.addCommand("cellInsertAfter",{exec:function(I){var J=I.getSelection();w(J)}});if(G.addMenuItems){G.addMenuItems({tablecell:{label:H.cell.menu,group:"tablecell",order:1,getItems:function(){var I=G.getSelection(),J=n(I);return{tablecell_insertBefore:2,tablecell_insertAfter:2,tablecell_delete:2,tablecell_merge:C(I,null,true)?2:0,tablecell_merge_right:C(I,"right",true)?2:0,tablecell_merge_down:C(I,"down",true)?2:0,tablecell_split_vertical:D(I,true)?2:0,tablecell_split_horizontal:E(I,true)?2:0,tablecell_properties:J.length>0?2:0}}},tablecell_insertBefore:{label:H.cell.insertBefore,group:"tablecell",command:"cellInsertBefore",order:5},tablecell_insertAfter:{label:H.cell.insertAfter,group:"tablecell",command:"cellInsertAfter",order:10},tablecell_delete:{label:H.cell.deleteCell,group:"tablecell",command:"cellDelete",order:15},tablecell_merge:{label:H.cell.merge,group:"tablecell",command:"cellMerge",order:16},tablecell_merge_right:{label:H.cell.mergeRight,group:"tablecell",command:"cellMergeRight",order:17},tablecell_merge_down:{label:H.cell.mergeDown,group:"tablecell",command:"cellMergeDown",order:18},tablecell_split_horizontal:{label:H.cell.splitHorizontal,group:"tablecell",command:"cellHorizontalSplit",order:19},tablecell_split_vertical:{label:H.cell.splitVertical,group:"tablecell",command:"cellVerticalSplit",order:20},tablecell_properties:{label:H.cell.title,group:"tablecellproperties",command:"cellProperties",order:21},tablerow:{label:H.row.menu,group:"tablerow",order:1,getItems:function(){return{tablerow_insertBefore:2,tablerow_insertAfter:2,tablerow_delete:2}}},tablerow_insertBefore:{label:H.row.insertBefore,group:"tablerow",command:"rowInsertBefore",order:5},tablerow_insertAfter:{label:H.row.insertAfter,group:"tablerow",command:"rowInsertAfter",order:10},tablerow_delete:{label:H.row.deleteRow,group:"tablerow",command:"rowDelete",order:15},tablecolumn:{label:H.column.menu,group:"tablecolumn",order:1,getItems:function(){return{tablecolumn_insertBefore:2,tablecolumn_insertAfter:2,tablecolumn_delete:2}}},tablecolumn_insertBefore:{label:H.column.insertBefore,group:"tablecolumn",command:"columnInsertBefore",order:5},tablecolumn_insertAfter:{label:H.column.insertAfter,group:"tablecolumn",command:"columnInsertAfter",order:10},tablecolumn_delete:{label:H.column.deleteColumn,group:"tablecolumn",command:"columnDelete",order:15}})}if(G.contextMenu){G.contextMenu.addListener(function(I,J){if(!I||I.isReadOnly()){return null}while(I){if(I.getName() in F){return{tablecell:2,tablerow:2,tablecolumn:2}}I=I.getParent()}return null})}},getSelectedCells:n};j.add("tabletools",j.tabletools)})();e.buildTableMap=function(m){var n=m.$.rows,o=-1,p=[];for(var q=0;q<n.length;q++){o++;!p[o]&&(p[o]=[]);var r=-1;for(var s=0;s<n[q].cells.length;s++){var t=n[q].cells[s];r++;while(p[o][r]){r++}var u=isNaN(t.colSpan)?1:t.colSpan,v=isNaN(t.rowSpan)?1:t.rowSpan;for(var w=0;w<v;w++){if(!p[o+w]){p[o+w]=[]}for(var x=0;x<u;x++){p[o+w][r+x]=n[q].cells[s]}}r+=u-1}}return p};j.add("specialchar",{availableLangs:{en:1},init:function(m){var n="specialchar",o=this;a.dialog.add(n,this.path+"dialogs/specialchar.js");m.addCommand(n,{exec:function(){var p=m.langCode;p=o.availableLangs[p]?p:"en";a.scriptLoader.load(a.getUrl(o.path+"lang/"+p+".js"),function(){e.extend(m.lang.specialChar,o.langEntries[p]);m.openDialog(n)})},modes:{wysiwyg:1},canUndo:false});m.ui.addButton("SpecialChar",{label:m.lang.specialChar.toolbar,command:n})}});i.specialChars=["!","&quot;","#","$","%","&amp;","'","(",")","*","+","-",".","/","0","1","2","3","4","5","6","7","8","9",":",";","&lt;","=","&gt;","?","@","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","[","]","^","_","`","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","{","|","}","~","&euro;","&lsquo;","&rsquo;","&ldquo;","&rdquo;","&ndash;","&mdash;","&iexcl;","&cent;","&pound;","&curren;","&yen;","&brvbar;","&sect;","&uml;","&copy;","&ordf;","&laquo;","&not;","&reg;","&macr;","&deg;","&","&sup2;","&sup3;","&acute;","&micro;","&para;","&middot;","&cedil;","&sup1;","&ordm;","&","&frac14;","&frac12;","&frac34;","&iquest;","&Agrave;","&Aacute;","&Acirc;","&Atilde;","&Auml;","&Aring;","&AElig;","&Ccedil;","&Egrave;","&Eacute;","&Ecirc;","&Euml;","&Igrave;","&Iacute;","&Icirc;","&Iuml;","&ETH;","&Ntilde;","&Ograve;","&Oacute;","&Ocirc;","&Otilde;","&Ouml;","&times;","&Oslash;","&Ugrave;","&Uacute;","&Ucirc;","&Uuml;","&Yacute;","&THORN;","&szlig;","&agrave;","&aacute;","&acirc;","&atilde;","&auml;","&aring;","&aelig;","&ccedil;","&egrave;","&eacute;","&ecirc;","&euml;","&igrave;","&iacute;","&icirc;","&iuml;","&eth;","&ntilde;","&ograve;","&oacute;","&ocirc;","&otilde;","&ouml;","&divide;","&oslash;","&ugrave;","&uacute;","&ucirc;","&uuml;","&uuml;","&yacute;","&thorn;","&yuml;","&OElig;","&oelig;","&#372;","&#374","&#373","&#375;","&sbquo;","&#8219;","&bdquo;","&hellip;","&trade;","&#9658;","&bull;","&rarr;","&rArr;","&hArr;","&diams;","&asymp;"];(function(){var m={editorFocus:false,modes:{wysiwyg:1,source:1}},n={exec:function(q){q.container.focusNext(true,q.tabIndex)}},o={exec:function(q){q.container.focusPrevious(true,q.tabIndex)}};function p(q){return{editorFocus:false,canUndo:false,modes:{wysiwyg:1},exec:function(r){if(r.focusManager.hasFocus){var s=r.getSelection(),t=s.getCommonAncestor(),u;if(u=t.getAscendant("td",true)||t.getAscendant("th",true)){var v=new d.range(r.document),w=e.tryThese(function(){var D=u.getParent(),E=D.$.cells[u.$.cellIndex+(q?-1:1)];E.parentNode.parentNode;return E},function(){var D=u.getParent(),E=D.getAscendant("table"),F=E.$.rows[D.$.rowIndex+(q?-1:1)];return F.cells[q?F.cells.length-1:0]});if(!(w||q)){var x=u.getAscendant("table").$,y=u.getParent().$.cells,z=new h(x.insertRow(-1),r.document);for(var A=0,B=y.length;A<B;A++){var C=z.append(new h(y[A],r.document).clone(false,false));!c&&C.appendBogus()}v.moveToElementEditStart(z)}else{if(w){w=new h(w);v.moveToElementEditStart(w);if(!(v.checkStartOfBlock()&&v.checkEndOfBlock())){v.selectNodeContents(w)}}else{return true}}v.select(true);return true}}return false}}}j.add("tab",{requires:["keystrokes"],init:function(q){var r=q.config.enableTabKeyTools!==false,s=q.config.tabSpaces||0,t="";while(s--){t+="\xa0"}if(t){q.on("key",function(u){if(u.data.keyCode==9){q.insertHtml(t);u.cancel()}})}if(r){q.on("key",function(u){if(u.data.keyCode==9&&q.execCommand("selectNextCell")||u.data.keyCode==2000+9&&q.execCommand("selectPreviousCell")){u.cancel()}})}if(b.webkit||b.gecko){q.on("key",function(u){var v=u.data.keyCode;if(v==9&&!t){u.cancel();q.execCommand("blur")}if(v==2000+9){q.execCommand("blurBack");u.cancel()}})}q.addCommand("blur",e.extend(n,m));q.addCommand("blurBack",e.extend(o,m));q.addCommand("selectNextCell",p());q.addCommand("selectPreviousCell",p(true))}})})();h.prototype.focusNext=function(m,n){var w=this;var o=w.$,p=n===undefined?w.getTabIndex():n,q,r,s,t,u,v;if(p<=0){u=w.getNextSourceNode(m,1);while(u){if(u.isVisible()&&u.getTabIndex()===0){s=u;break}u=u.getNextSourceNode(false,1)}}else{u=w.getDocument().getBody().getFirst();while(u=u.getNextSourceNode(false,1)){if(!q){if(!r&&u.equals(w)){r=true;if(m){if(!(u=u.getNextSourceNode(true,1))){break}q=1}}else{if(r&&!w.contains(u)){q=1}}}if(!u.isVisible()||(v=u.getTabIndex())<0){continue}if(q&&v==p){s=u;break}if(v>p&&(!s||!t||v<t)){s=u;t=v}else{if(!s&&v===0){s=u;t=v}}}}if(s){s.focus()}};h.prototype.focusPrevious=function(m,n){var w=this;var o=w.$,p=n===undefined?w.getTabIndex():n,q,r,s,t=0,u,v=w.getDocument().getBody().getLast();while(v=v.getPreviousSourceNode(false,1)){if(!q){if(!r&&v.equals(w)){r=true;if(m){if(!(v=v.getPreviousSourceNode(true,1))){break}q=1}}else{if(r&&!w.contains(v)){q=1}}}if(!v.isVisible()||(u=v.getTabIndex())<0){continue}if(p<=0){if(q&&u===0){s=v;break}if(u>t){s=v;t=u}}else{if(q&&u==p){s=v;break}if(u<p&&(!s||u>t)){s=v;t=u}}}if(s){s.focus()}};(function(){j.add("templates",{requires:["dialog"],init:function(o){a.dialog.add("templates",a.getUrl(this.path+"dialogs/templates.js"));o.addCommand("templates",new a.dialogCommand("templates"));o.ui.addButton("Templates",{label:o.lang.templates.button,command:"templates"})}});var m={},n={};a.addTemplates=function(o,p){m[o]=p};a.getTemplates=function(o){return m[o]};a.loadTemplates=function(o,p){var q=[];for(var r=0,s=o.length;r<s;r++){if(!n[o[r]]){q.push(o[r]);n[o[r]]=1}}if(q.length){a.scriptLoader.load(q,p)}else{setTimeout(p,0)}}})();i.templates_files=[a.getUrl("plugins/templates/templates/default.js")];i.templates_replaceContent=true;(function(){var m=function(){this.toolbars=[];this.focusCommandExecuted=false};m.prototype.focus=function(){for(var o=0,p;p=this.toolbars[o++];){for(var q=0,r;r=p.items[q++];){if(r.focus){r.focus();return}}}};var n={toolbarFocus:{modes:{wysiwyg:1,source:1},readOnly:1,exec:function(o){if(o.toolbox){o.toolbox.focusCommandExecuted=true;if(c||b.air){setTimeout(function(){o.toolbox.focus()},100)}else{o.toolbox.focus()}}}}};j.add("toolbar",{init:function(o){var p,q=function(r,s){var t,u,v=o.lang.dir=="rtl",w=o.config.toolbarGroupCycling;w=w===undefined||w;switch(s){case 9:case 2000+9:while(!u||!u.items.length){u=s==9?(u?u.next:r.toolbar.next)||o.toolbox.toolbars[0]:(u?u.previous:r.toolbar.previous)||o.toolbox.toolbars[o.toolbox.toolbars.length-1];if(u.items.length){r=u.items[p?u.items.length-1:0];while(r&&!r.focus){r=p?r.previous:r.next;if(!r){u=0}}}}if(r){r.focus()}return false;case v?37:39:case 40:t=r;do{t=t.next;if(!t&&w){t=r.toolbar.items[0]}}while(t&&!t.focus);if(t){t.focus()}else{q(r,9)}return false;case v?39:37:case 38:t=r;do{t=t.previous;if(!t&&w){t=r.toolbar.items[r.toolbar.items.length-1]}}while(t&&!t.focus);if(t){t.focus()}else{p=1;q(r,2000+9);p=0}return false;case 27:o.focus();return false;case 13:case 32:r.execute();return false}return true};o.on("themeSpace",function(r){if(r.data.space==o.config.toolbarLocation){o.toolbox=new m();var s=e.getNextId(),t=['<div class="cke_toolbox" role="group" aria-labelledby="',s,'" onmousedown="return false;"'],u=o.config.toolbarStartupExpanded!==false,v;t.push(u?">":' style="display:none">');t.push('<span id="',s,'" class="cke_voice_label">',o.lang.toolbars,"</span>");var w=o.toolbox.toolbars,x=o.config.toolbar instanceof Array?o.config.toolbar:o.config["toolbar_"+o.config.toolbar];for(var y=0;y<x.length;y++){var z,A=0,B,C=x[y],D;if(!C){continue}if(v){t.push("</div>");v=0}if(C==="/"){t.push('<div class="cke_break"></div>');continue}D=C.items||C;for(var E=0;E<D.length;E++){var F,G=D[E],H;F=o.ui.create(G);if(F){H=F.canGroup!==false;if(!A){z=e.getNextId();A={id:z,items:[]};B=C.name&&(o.lang.toolbarGroups[C.name]||C.name);t.push('<span id="',z,'" class="cke_toolbar"',B?' aria-labelledby="'+z+'_label"':"",' role="toolbar">');B&&t.push('<span id="',z,'_label" class="cke_voice_label">',B,"</span>");t.push('<span class="cke_toolbar_start"></span>');var I=w.push(A)-1;if(I>0){A.previous=w[I-1];A.previous.next=A}}if(H){if(!v){t.push('<span class="cke_toolgroup" role="presentation">');v=1}}else{if(v){t.push("</span>");v=0}}var J=F.render(o,t);I=A.items.push(J)-1;if(I>0){J.previous=A.items[I-1];J.previous.next=J}J.toolbar=A;J.onkey=q;J.onfocus=function(){if(!o.toolbox.focusCommandExecuted){o.focus()}}}}if(v){t.push("</span>");v=0}if(A){t.push('<span class="cke_toolbar_end"></span></span>')}}t.push("</div>");if(o.config.toolbarCanCollapse){var K=e.addFunction(function(){o.execCommand("toolbarCollapse")});o.on("destroy",function(){e.removeFunction(K)});var L=e.getNextId();o.addCommand("toolbarCollapse",{readOnly:1,exec:function(M){var N=a.document.getById(L),O=N.getPrevious(),P=M.getThemeSpace("contents"),Q=O.getParent(),R=parseInt(P.$.style.height,10),S=Q.$.offsetHeight,T=!O.isVisible();if(!T){O.hide();N.addClass("cke_toolbox_collapser_min");N.setAttribute("title",M.lang.toolbarExpand)}else{O.show();N.removeClass("cke_toolbox_collapser_min");N.setAttribute("title",M.lang.toolbarCollapse)}N.getFirst().setText(T?"▲":"◀");var U=Q.$.offsetHeight-S;P.setStyle("height",R-U+"px");M.fire("resize")},modes:{wysiwyg:1,source:1}});t.push('<a title="'+(u?o.lang.toolbarCollapse:o.lang.toolbarExpand)+'" id="'+L+'" tabIndex="-1" class="cke_toolbox_collapser');if(!u){t.push(" cke_toolbox_collapser_min")}t.push('" onclick="CKEDITOR.tools.callFunction('+K+')">',"<span>&#9650;</span>","</a>")}r.data.html+=t.join("")}});o.on("destroy",function(){var r,s=0,t,u,v;r=this.toolbox.toolbars;for(;s<r.length;s++){u=r[s].items;for(t=0;t<u.length;t++){v=u[t];if(v.clickFn){e.removeFunction(v.clickFn)}if(v.keyDownFn){e.removeFunction(v.keyDownFn)}}}});o.addCommand("toolbarFocus",n.toolbarFocus);o.ui.add("-",a.UI_SEPARATOR,{});o.ui.addHandler(a.UI_SEPARATOR,{create:function(){return{render:function(r,s){s.push('<span class="cke_separator" role="separator"></span>');return{}}}}})}})})();a.UI_SEPARATOR="separator";i.toolbarLocation="top";i.toolbar_Basic=[["Bold","Italic","-","NumberedList","BulletedList","-","Link","Unlink","-","About"]];i.toolbar_Full=[{name:"document",items:["Source","-","Save","NewPage","DocProps","Preview","Print","-","Templates"]},{name:"clipboard",items:["Cut","Copy","Paste","PasteText","PasteFromWord","-","Undo","Redo"]},{name:"editing",items:["Find","Replace","-","SelectAll","-","SpellChecker","Scayt"]},{name:"forms",items:["Form","Checkbox","Radio","TextField","Textarea","Select","Button","ImageButton","HiddenField"]},"/",{name:"basicstyles",items:["Bold","Italic","Underline","Strike","Subscript","Superscript","-","RemoveFormat"]},{name:"paragraph",items:["NumberedList","BulletedList","-","Outdent","Indent","-","Blockquote","CreateDiv","-","JustifyLeft","JustifyCenter","JustifyRight","JustifyBlock","-","BidiLtr","BidiRtl"]},{name:"links",items:["Link","Unlink","Anchor"]},{name:"insert",items:["Image","Flash","Table","HorizontalRule","Smiley","SpecialChar","PageBreak","Iframe"]},"/",{name:"styles",items:["Styles","Format","Font","FontSize"]},{name:"colors",items:["TextColor","BGColor"]},{name:"tools",items:["Maximize","ShowBlocks","-","About"]}];i.toolbar="Full";i.toolbarCanCollapse=true;(function(){j.add("undo",{requires:["selection","wysiwygarea"],init:function(s){var t=new o(s),u=s.addCommand("undo",{exec:function(){if(t.undo()){s.selectionChange();this.fire("afterUndo")}},state:0,canUndo:false}),v=s.addCommand("redo",{exec:function(){if(t.redo()){s.selectionChange();this.fire("afterRedo")}},state:0,canUndo:false});t.onChange=function(){u.setState(t.undoable()?2:0);v.setState(t.redoable()?2:0)};function w(x){if(t.enabled&&x.data.command.canUndo!==false){t.save()}}s.on("beforeCommandExec",w);s.on("afterCommandExec",w);s.on("saveSnapshot",function(){t.save()});s.on("contentDom",function(){s.document.on("keydown",function(x){if(!x.data.$.ctrlKey&&!x.data.$.metaKey){t.type(x)}})});s.on("beforeModeUnload",function(){s.mode=="wysiwyg"&&t.save(true)});s.on("mode",function(){t.enabled=s.readOnly?false:s.mode=="wysiwyg";t.onChange()});s.ui.addButton("Undo",{label:s.lang.undo,command:"undo"});s.ui.addButton("Redo",{label:s.lang.redo,command:"redo"});s.resetUndo=function(){t.reset();s.fire("saveSnapshot")};s.on("updateSnapshot",function(){if(t.currentImage&&new m(s).equals(t.currentImage)){setTimeout(function(){t.update()},0)}})}});j.undo={};var m=j.undo.Image=function(s){this.editor=s;s.fire("beforeUndoImage");var t=s.getSnapshot(),u=t&&s.getSelection();c&&t&&(t=t.replace(/\s+data-cke-expando=".*?"/g,""));this.contents=t;this.bookmarks=u&&u.createBookmarks2(true);s.fire("afterUndoImage")},n=/\b(?:href|src|name)="[^"]*?"/gi;m.prototype={equals:function(s,t){var u=this.contents,v=s.contents;if(c&&(b.ie7Compat||b.ie6Compat)){u=u.replace(n,"");v=v.replace(n,"")}if(u!=v){return false}if(t){return true}var w=this.bookmarks,x=s.bookmarks;if(w||x){if(!w||!x||w.length!=x.length){return false}for(var y=0;y<w.length;y++){var z=w[y],A=x[y];if(z.startOffset!=A.startOffset||z.endOffset!=A.endOffset||!e.arrayCompare(z.start,A.start)||!e.arrayCompare(z.end,A.end)){return false}}}return true}};function o(s){this.editor=s;this.reset()}var p={8:1,46:1},q={16:1,17:1,18:1},r={37:1,38:1,39:1,40:1};o.prototype={type:function(s){var t=s&&s.data.getKey(),u=t in q,v=t in p,w=this.lastKeystroke in p,x=v&&t==this.lastKeystroke,y=t in r,z=this.lastKeystroke in r,A=!v&&!y,B=v&&!x,C=!(u||this.typing)||A&&(w||z);if(C||B){var D=new m(this.editor);e.setTimeout(function(){var F=this;var E=F.editor.getSnapshot();if(c){E=E.replace(/\s+data-cke-expando=".*?"/g,"")}if(D.contents!=E){F.typing=true;if(!F.save(false,D,false)){F.snapshots.splice(F.index+1,F.snapshots.length-F.index-1)}F.hasUndo=true;F.hasRedo=false;F.typesCount=1;F.modifiersCount=1;F.onChange()}},0,this)}this.lastKeystroke=t;if(v){this.typesCount=0;this.modifiersCount++;if(this.modifiersCount>25){this.save(false,null,false);this.modifiersCount=1}}else{if(!y){this.modifiersCount=0;this.typesCount++;if(this.typesCount>25){this.save(false,null,false);this.typesCount=1}}}},reset:function(){var s=this;s.lastKeystroke=0;s.snapshots=[];s.index=-1;s.limit=s.editor.config.undoStackSize||20;s.currentImage=null;s.hasUndo=false;s.hasRedo=false;s.resetType()},resetType:function(){var s=this;s.typing=false;delete s.lastKeystroke;s.typesCount=0;s.modifiersCount=0},fireChange:function(){var s=this;s.hasUndo=!!s.getNextImage(true);s.hasRedo=!!s.getNextImage(false);s.resetType();s.onChange()},save:function(s,t,u){var w=this;var v=w.snapshots;if(!t){t=new m(w.editor)}if(t.contents===false){return false}if(w.currentImage&&t.equals(w.currentImage,s)){return false}v.splice(w.index+1,v.length-w.index-1);if(v.length==w.limit){v.shift()}w.index=v.push(t)-1;w.currentImage=t;if(u!==false){w.fireChange()}return true},restoreImage:function(s){var u=this;u.editor.loadSnapshot(s.contents);if(s.bookmarks){u.editor.getSelection().selectBookmarks(s.bookmarks)}else{if(c){var t=u.editor.document.getBody().$.createTextRange();t.collapse(true);t.select()}}u.index=s.index;u.update();u.fireChange()},getNextImage:function(s){var x=this;var t=x.snapshots,u=x.currentImage,v,w;if(u){if(s){for(w=x.index-1;w>=0;w--){v=t[w];if(!u.equals(v,true)){v.index=w;return v}}}else{for(w=x.index+1;w<t.length;w++){v=t[w];if(!u.equals(v,true)){v.index=w;return v}}}}return null},redoable:function(){return this.enabled&&this.hasRedo},undoable:function(){return this.enabled&&this.hasUndo},undo:function(){var t=this;if(t.undoable()){t.save(true);var s=t.getNextImage(true);if(s){return t.restoreImage(s),true}}return false},redo:function(){var t=this;if(t.redoable()){t.save(true);if(t.redoable()){var s=t.getNextImage(false);if(s){return t.restoreImage(s),true}}}return false},update:function(){var s=this;s.snapshots.splice(s.index,1,s.currentImage=new m(s.editor))}}})();(function(){var m=/(^|<body\b[^>]*>)\s*<(p|div|address|h\d|center|pre)[^>]*>\s*(?:<br[^>]*>|&nbsp;|\u00A0|&#160;)?\s*(:?<\/\2>)?\s*(?=$|<\/body>)/gi,n=d.walker.whitespaces(true);function o(C){return C.isBlockBoundary()&&f.$empty[C.getName()]}function p(C){return function(D){if(this.mode=="wysiwyg"){this.focus();this.fire("saveSnapshot");C.call(this,D.data);e.setTimeout(function(){this.fire("saveSnapshot")},0,this)}}}function q(C){var I=this;if(I.dataProcessor){C=I.dataProcessor.toHtml(C)}var D=I.getSelection(),E=D.getRanges()[0];if(E.checkReadOnly()){return}if(c){var F=D.isLocked;if(F){D.unlock()}var G=D.getNative();if(G.type=="Control"){G.clear()}else{if(D.getType()==2){E=D.getRanges()[0];var H=E&&E.endContainer;if(H&&H.type==1&&H.getAttribute("contenteditable")=="false"&&E.checkBoundaryOfElement(H,2)){E.setEndAfter(E.endContainer);E.deleteContents()}}}try{G.createRange().pasteHTML(C)}catch(J){}if(F){I.getSelection().lock()}}else{I.document.$.execCommand("inserthtml",false,C)}if(b.webkit){D=I.getSelection();D.scrollIntoView()}}function r(C){var D=this.getSelection(),E=D.getStartElement().hasAscendant("pre",true)?2:this.config.enterMode,F=E==2,G=e.htmlEncode(C.replace(/\r\n|\r/g,"\n"));G=G.replace(/^[ \t]+|[ \t]+$/g,function(M,N,O){if(M.length==1){return"&nbsp;"}else{if(!N){return e.repeat("&nbsp;",M.length-1)+" "}else{return" "+e.repeat("&nbsp;",M.length-1)}}});G=G.replace(/[ \t]{2,}/g,function(M){return e.repeat("&nbsp;",M.length-1)+" "});var H=E==1?"p":"div";if(!F){G=G.replace(/(\n{2})([\s\S]*?)(?:$|\1)/g,function(M,N,O){return"<"+H+">"+O+"</"+H+">"})}G=G.replace(/\n/g,"<br>");if(!(F||c)){G=G.replace(new RegExp("<br>(?=</"+H+">)"),function(M){return e.repeat(M,2)})}if(b.gecko||b.webkit){var I=new d.elementPath(D.getStartElement()),J=[];for(var K=0;K<I.elements.length;K++){var L=I.elements[K].getName();if(L in f.$inline){J.unshift(I.elements[K].getOuterHtml().match(/^<.*?>/))}else{if(L in f.$block){break}}}G=J.join("")+G}q.call(this,G)}function s(C){var D=this.getSelection(),E=D.getRanges(),F=C.getName(),G=f.$block[F],H=D.isLocked;if(H){D.unlock()}var I,J,K,L;for(var M=E.length-1;M>=0;M--){I=E[M];if(!I.checkReadOnly()){I.deleteContents(1);J=!M&&C||C.clone(1);var N,O;if(G){while((N=I.getCommonAncestor(0,1))&&(O=f[N.getName()])&&!(O&&O[F])){if(N.getName() in f.span){I.splitElement(N)}else{if(I.checkStartOfBlock()&&I.checkEndOfBlock()){I.setStartBefore(N);I.collapse(true);N.remove()}else{I.splitBlock()}}}}I.insertNode(J);if(!K){K=J}}}if(K){I.moveToPosition(K,4);if(G){var P=K.getNext(n),Q=P&&P.type==1&&P.getName();if(Q&&f.$block[Q]&&f[Q]["#"]){I.moveToElementEditStart(P)}}}D.selectRanges([I]);if(H){this.getSelection().lock()}}function t(C){if(!C.checkDirty()){setTimeout(function(){C.resetDirty()},0)}}var u=d.walker.whitespaces(true),v=d.walker.bookmark(false,true);function w(C){return u(C)&&v(C)}function x(C){return C.type==3&&e.trim(C.getText()).match(/^(?:&nbsp;|\xa0)$/)}function y(C){if(C.isLocked){C.unlock();setTimeout(function(){C.lock()},0)}}function z(C){return C.getOuterHtml().match(m)}u=d.walker.whitespaces(true);function A(C){var D=C.window,E=C.document,F=C.document.getBody(),G=F.getFirst(),H=F.getChildren().count();if(!H||H==1&&G.type==1&&G.hasAttribute("_moz_editor_bogus_node")){t(C);var I=C.element.getDocument(),J=I.getDocumentElement(),K=J.$.scrollTop,L=J.$.scrollLeft,M=E.$.createEvent("KeyEvents");M.initKeyEvent("keypress",true,true,D.$,false,false,false,false,0,32);E.$.dispatchEvent(M);if(K!=J.$.scrollTop||L!=J.$.scrollLeft){I.getWindow().$.scrollTo(L,K)}H&&F.getFirst().remove();E.getBody().appendBogus();var N=new d.range(E);N.setStartAt(F,1);N.select()}}function B(C){var D=C.editor,E=C.data.path,F=E.blockLimit,G=C.data.selection,H=G.getRanges()[0],I=D.document.getBody(),J=D.config.enterMode;if(b.gecko){A(D);var K=E.block||E.blockLimit,L=K&&K.getLast(w);if(K&&K.isBlockBoundary()&&!(L&&L.type==1&&L.isBlockBoundary())&&!K.is("pre")&&!K.getBogus()){D.fire("updateSnapshot");t(D);K.appendBogus()}}if(D.config.autoParagraph!==false&&J!=2&&H.collapsed&&F.getName()=="body"&&!E.block){D.fire("updateSnapshot");t(D);c&&y(G);var M=H.fixBlock(true,D.config.enterMode==3?"div":"p");if(c){var N=M.getFirst(w);N&&x(N)&&N.remove()}if(z(M)){var O=M.getNext(u);if(O&&O.type==1&&!o(O)){H.moveToElementEditStart(O);M.remove()}else{O=M.getPrevious(u);if(O&&O.type==1&&!o(O)){H.moveToElementEditEnd(O);M.remove()}}}H.select();C.cancel()}var P=new d.range(D.document);P.moveToElementEditEnd(D.document.getBody());var Q=new d.elementPath(P.startContainer);if(!Q.blockLimit.is("body")){D.fire("updateSnapshot");t(D);c&&y(G);var R;if(J!=2){R=I.append(D.document.createElement(J==1?"p":"div"))}else{R=I}if(!c){R.appendBogus()}}}j.add("wysiwygarea",{requires:["editingblock"],init:function(C){var D=C.config.enterMode!=2&&C.config.autoParagraph!==false?C.config.enterMode==3?"div":"p":false,E=C.lang.editorTitle.replace("%1",C.name),F;C.on("editingBlockReady",function(){var L,M,N,O,P,Q,R=b.isCustomDomain(),S=function(V){if(M){M.remove()}var W="document.open();"+(R?'document.domain="'+document.domain+'";':"")+"document.close();";W=b.air?"javascript:void(0)":c?"javascript:void(function(){"+encodeURIComponent(W)+"}())":"";M=h.createFromHtml('<iframe style="width:100%;height:100%" frameBorder="0" title="'+E+'" src="'+W+'" tabIndex="'+(b.webkit?-1:C.tabIndex)+'" allowTransparency="true"></iframe>');if(document.location.protocol=="chrome:"){a.event.useCapture=true}M.on("load",function(aa){P=1;aa.removeListener();var ab=M.getFrameDocument();ab.write(V);b.air&&U(ab.getWindow().$)});if(document.location.protocol=="chrome:"){a.event.useCapture=false}var X=C.element,Y=b.gecko&&!X.isVisible(),Z={};if(Y){X.show();Z={position:X.getStyle("position"),top:X.getStyle("top")};X.setStyles({position:"absolute",top:"-3000px"})}L.append(M);if(Y){setTimeout(function(){X.hide();X.setStyles(Z)},1000)}};F=e.addFunction(U);var T='<script id="cke_actscrpt" type="text/javascript" data-cke-temp="1">'+(R?'document.domain="'+document.domain+'";':"")+"window.parent.CKEDITOR.tools.callFunction( "+F+", window );<\/script>";function U(V){if(!P){return}P=0;C.fire("ariaWidget",M);var W=V.document,X=W.body,Y=W.getElementById("cke_actscrpt");Y&&Y.parentNode.removeChild(Y);X.spellcheck=!C.config.disableNativeSpellChecker;var Z=!C.readOnly;if(c){X.hideFocus=true;X.disabled=true;X.contentEditable=Z;X.removeAttribute("disabled")}else{setTimeout(function(){if(b.gecko&&b.version>=10900||b.opera){W.$.body.contentEditable=Z}else{if(b.webkit){W.$.body.parentNode.contentEditable=Z}else{W.$.designMode=Z?"off":"on"}}},0)}Z&&b.gecko&&e.setTimeout(A,0,null,C);V=C.window=new d.window(V);W=C.document=new g(W);Z&&W.on("dblclick",function(af){var ag=af.data.getTarget(),ah={element:ag,dialog:""};C.fire("doubleclick",ah);ah.dialog&&C.openDialog(ah.dialog)});c&&W.on("click",function(af){var ag=af.data.getTarget();if(ag.is("input")){var ah=ag.getAttribute("type");if(ah=="submit"||ah=="reset"){af.data.preventDefault()}}});if(!(c||b.opera)){W.on("mousedown",function(af){var ag=af.data.getTarget();if(ag.is("img","hr","input","textarea","select")){C.getSelection().selectElement(ag)}})}if(b.gecko){W.on("mouseup",function(af){if(af.data.$.button==2){var ag=af.data.getTarget();if(!ag.getOuterHtml().replace(m,"")){var ah=new d.range(W);ah.moveToElementEditStart(ag);ah.select(true)}}})}W.on("click",function(af){af=af.data;if(af.getTarget().is("a")&&af.$.button!=2){af.preventDefault()}});if(b.webkit){W.on("mousedown",function(){ac=1});W.on("click",function(af){if(af.data.getTarget().is("input","select")){af.data.preventDefault()}});W.on("mouseup",function(af){if(af.data.getTarget().is("input","textarea")){af.data.preventDefault()}})}if(Z&&c&&W.$.compatMode=="CSS1Compat"||b.gecko||b.opera){var aa=W.getDocumentElement();aa.on("mousedown",function(af){if(af.data.getTarget().equals(aa)){if(b.gecko&&b.version>=10900){J()}K.focus()}})}var ab=c?M:V;ab.on("blur",function(){C.focusManager.blur()});var ac;ab.on("focus",function(){var af=C.document;if(Z&&b.gecko&&b.version>=10900){J()}else{if(b.opera){af.getBody().focus()}else{if(b.webkit){if(!ac){C.document.getDocumentElement().focus();ac=1}}}}C.focusManager.focus()});var ad=C.keystrokeHandler;ad.blockedKeystrokes[8]=!Z;ad.attach(W);if(c){W.getDocumentElement().addClass(W.$.compatMode);Z&&W.on("keydown",function(af){var ag=af.data.getKeystroke();if(ag in {8:1,46:1}){var ah=C.getSelection(),ai=ah.getSelectedElement();if(ai){C.fire("saveSnapshot");var aj=ah.getRanges()[0].createBookmark();ai.remove();ah.selectBookmarks([aj]);C.fire("saveSnapshot");af.data.preventDefault()}}});if(W.$.compatMode=="CSS1Compat"){var ae={33:1,34:1};W.on("keydown",function(af){if(af.data.getKeystroke() in ae){setTimeout(function(){C.getSelection().scrollIntoView()},0)}})}C.config.enterMode!=1&&W.on("selectionchange",function(){var af=W.getBody(),ag=C.getSelection().getRanges()[0];if(af.getHtml().match(/^<p>&nbsp;<\/p>$/i)&&ag.startContainer.equals(af)){setTimeout(function(){ag=C.getSelection().getRanges()[0];if(!ag.startContainer.equals("body")){af.getFirst().remove(1);ag.moveToElementEditEnd(af);ag.select(1)}},0)}})}if(C.contextMenu){C.contextMenu.addTarget(W,C.config.browserContextMenuOnCtrl!==false)}setTimeout(function(){C.fire("contentDom");if(Q){C.mode="wysiwyg";C.fire("mode");Q=false}N=false;if(O){C.focus();O=false}setTimeout(function(){C.fire("dataReady")},0);try{C.document.$.execCommand("enableInlineTableEditing",false,!C.config.disableNativeTableHandles)}catch(af){}if(C.config.disableObjectResizing){try{C.document.$.execCommand("enableObjectResizing",false,false)}catch(ag){C.document.getBody().on(c?"resizestart":"resize",function(ah){ah.data.preventDefault()})}}if(c){setTimeout(function(){if(C.document){var ah=C.document.$.body;ah.runtimeStyle.marginBottom="0px";ah.runtimeStyle.marginBottom=""}},1000)}},0)}C.addMode("wysiwyg",{load:function(V,W,X){L=V;if(c&&b.quirks){V.setStyle("position","relative")}C.mayBeDirty=true;Q=true;if(X){this.loadSnapshotData(W)}else{this.loadData(W)}},loadData:function(V){N=true;C._.dataStore={id:1};var W=C.config,X=W.fullPage,Y=W.docType,Z='<style type="text/css" data-cke-temp="1">'+C._.styles.join("\n")+"</style>";!X&&(Z=e.buildStyleHtml(C.config.contentsCss)+Z);var aa=W.baseHref?'<base href="'+W.baseHref+'" data-cke-temp="1" />':"";if(X){V=V.replace(/<!DOCTYPE[^>]*>/i,function(ab){C.docType=Y=ab;return""}).replace(/<\?xml\s[^\?]*\?>/i,function(ab){C.xmlDeclaration=ab;return""})}if(C.dataProcessor){V=C.dataProcessor.toHtml(V,D)}if(X){if(!/<body[\s|>]/.test(V)){V="<body>"+V}if(!/<html[\s|>]/.test(V)){V="<html>"+V+"</html>"}if(!/<head[\s|>]/.test(V)){V=V.replace(/<html[^>]*>/,"$&<head><title></title></head>")}else{if(!/<title[\s|>]/.test(V)){V=V.replace(/<head[^>]*>/,"$&<title></title>")}}aa&&(V=V.replace(/<head>/,"$&"+aa));V=V.replace(/<\/head\s*>/,Z+"$&");V=Y+V}else{V=W.docType+'<html dir="'+W.contentsLangDirection+'" lang="'+(W.contentsLanguage||C.langCode)+'"><head><title>'+E+"</title>"+aa+Z+"</head><body"+(W.bodyId?' id="'+W.bodyId+'"':"")+(W.bodyClass?' class="'+W.bodyClass+'"':"")+">"+V+"</html>"}if(b.gecko){V=V.replace(/<br \/>(?=\s*<\/(:?html|body)>)/,'$&<br type="_moz" />')}V+=T;this.onDispose();S(V)},getData:function(){var V=C.config,W=V.fullPage,X=W&&C.docType,Y=W&&C.xmlDeclaration,Z=M.getFrameDocument(),aa=W?Z.getDocumentElement().getOuterHtml():Z.getBody().getHtml();if(b.gecko){aa=aa.replace(/<br>(?=\s*(:?$|<\/body>))/,"")}if(C.dataProcessor){aa=C.dataProcessor.toDataFormat(aa,D)}if(V.ignoreEmptyParagraph){aa=aa.replace(m,function(ab,ac){return ac})}if(Y){aa=Y+"\n"+aa}if(X){aa=X+"\n"+aa}return aa},getSnapshotData:function(){return M.getFrameDocument().getBody().getHtml()},loadSnapshotData:function(V){M.getFrameDocument().getBody().setHtml(V)},onDispose:function(){if(!C.document){return}C.document.getDocumentElement().clearCustomData();C.document.getBody().clearCustomData();C.window.clearCustomData();C.document.clearCustomData();M.clearCustomData();M.remove()},unload:function(V){this.onDispose();C.window=C.document=M=L=O=null;C.fire("contentDomUnload")},focus:function(){var V=C.window;if(N){O=true}else{if(b.opera&&C.document){var W=C.window.$.frameElement;W.blur(),W.focus();C.document.getBody().focus();C.selectionChange()}else{if(!b.opera&&V){b.air?setTimeout(function(){V.focus()},0):V.focus();C.selectionChange()}}}}});C.on("insertHtml",p(q),null,null,20);C.on("insertElement",p(s),null,null,20);C.on("insertText",p(r),null,null,20);C.on("selectionChange",B,null,null,1)});var G;C.on("contentDom",function(){var L=C.document.getElementsByTag("title").getItem(0);L.data("cke-title",C.document.$.title);C.document.$.title=E});C.on("readOnly",function(){if(C.mode=="wysiwyg"){var L=C.getMode();L.loadData(L.getData())}});if(a.document.$.documentMode>=8){C.addCss("html.CSS1Compat [contenteditable=false]{ min-height:0 !important;}");var H=[];for(var I in f.$removeEmpty){H.push("html.CSS1Compat "+I+"[contenteditable=false]")}C.addCss(H.join(",")+"{ display:inline-block;}")}else{if(b.gecko){C.addCss("html { height: 100% !important; }");C.addCss("img:-moz-broken { -moz-force-broken-image-icon : 1;\twidth : 24px; height : 24px; }")}}C.addCss("html {\t_overflow-y: scroll; cursor: text;\t*cursor:auto;}");C.addCss("img, input, textarea { cursor: default;}");function J(L){if(C.readOnly){return}e.tryThese(function(){C.document.$.designMode="on";setTimeout(function(){C.document.$.designMode="off";if(a.currentInstance==C){C.document.getBody().focus()}},50)},function(){C.document.$.designMode="off";var M=C.document.getBody();M.setAttribute("contentEditable",false);M.setAttribute("contentEditable",true);!L&&J(1)})}if(b.gecko||c||b.opera){var K;C.on("uiReady",function(){K=C.container.append(h.createFromHtml('<span tabindex="-1" style="position:absolute;" role="presentation"></span>'));K.on("focus",function(){C.focus()});C.focusGrabber=K});C.on("destroy",function(){e.removeFunction(F);K.clearCustomData();delete C.focusGrabber})}C.on("insertElement",function(L){var M=L.data;if(M.type==1&&(M.is("input")||M.is("textarea"))){if(!M.isReadOnly()){M.data("cke-editable",M.hasAttribute("contenteditable")?"true":"1")}M.setAttribute("contentEditable",false)}})}});if(b.gecko){(function(){var C=document.body;if(!C){window.addEventListener("load",arguments.callee,false)}else{var D=C.getAttribute("onpageshow");C.setAttribute("onpageshow",(D?D+";":"")+'event.persisted && (function(){var allInstances = CKEDITOR.instances, editor, doc;for ( var i in allInstances ){\teditor = allInstances[ i ];\tdoc = editor.document;\tif ( doc )\t{\t\tdoc.$.designMode = "off";\t\tdoc.$.designMode = "on";\t}}})();')}})()}})();i.disableObjectResizing=false;i.disableNativeTableHandles=true;i.disableNativeSpellChecker=true;i.ignoreEmptyParagraph=true;j.add("wsc",{requires:["dialog"],init:function(m){var n="checkspell",o=m.addCommand(n,new a.dialogCommand(n));o.modes={wysiwyg:!b.opera&&!b.air&&document.domain==window.location.hostname};m.ui.addButton("SpellChecker",{label:m.lang.spellCheck.toolbar,command:n});a.dialog.add(n,this.path+"dialogs/wsc.js")}});i.wsc_customerId=i.wsc_customerId||"1:ua3xw1-2XyGJ3-GWruD3-6OFNT1-oXcuB1-nR6Bp4-hgQHc-EcYng3-sdRXG3-NOfFk";i.wsc_customLoaderScript=i.wsc_customLoaderScript||null;a.DIALOG_RESIZE_NONE=0;a.DIALOG_RESIZE_WIDTH=1;a.DIALOG_RESIZE_HEIGHT=2;a.DIALOG_RESIZE_BOTH=3;(function(){var m=e.cssLength;function n(Q){return !!this._.tabs[Q][0].$.offsetHeight}function o(){var U=this;var Q=U._.currentTabId,R=U._.tabIdList.length,S=e.indexOf(U._.tabIdList,Q)+R;for(var T=S-1;T>S-R;T--){if(n.call(U,U._.tabIdList[T%R])){return U._.tabIdList[T%R]}}return null}function p(){var U=this;var Q=U._.currentTabId,R=U._.tabIdList.length,S=e.indexOf(U._.tabIdList,Q);for(var T=S+1;T<S+R;T++){if(n.call(U,U._.tabIdList[T%R])){return U._.tabIdList[T%R]}}return null}function q(Q,R){var S=Q.$.getElementsByTagName("input");for(var T=0,U=S.length;T<U;T++){var V=new h(S[T]);if(V.getAttribute("type").toLowerCase()=="text"){if(R){V.setAttribute("value",V.getCustomData("fake_value")||"");V.removeCustomData("fake_value")}else{V.setCustomData("fake_value",V.getAttribute("value"));V.setAttribute("value","")}}}}a.dialog=function(Q,R){var S=a.dialog._.dialogDefinitions[R],T=e.clone(s),U=Q.config.dialog_buttonsOrder||"OS",V=Q.lang.dir;if(U=="OS"&&b.mac||U=="rtl"&&V=="ltr"||U=="ltr"&&V=="rtl"){T.buttons.reverse()}S=e.extend(S(Q),T);S=e.clone(S);S=new w(this,S);var W=a.document,X=Q.theme.buildDialog(Q);this._={editor:Q,element:X.element,name:R,contentSize:{width:0,height:0},size:{width:0,height:0},contents:{},buttons:{},accessKeyMap:{},tabs:{},tabIdList:[],currentTabId:null,currentTabIndex:null,pageCount:0,lastTab:null,tabBarMode:false,focusList:[],currentFocusIndex:0,hasFocus:false};this.parts=X.parts;e.setTimeout(function(){Q.fire("ariaWidget",this.parts.contents)},0,this);var Y={position:b.ie6Compat?"absolute":"fixed",top:0,visibility:"hidden"};Y[V=="rtl"?"right":"left"]=0;this.parts.dialog.setStyles(Y);a.event.call(this);this.definition=S=a.fire("dialogDefinition",{name:R,definition:S},Q).definition;var Z={};if(!("removeDialogTabs" in Q._)&&Q.config.removeDialogTabs){var aa=Q.config.removeDialogTabs.split(";");for(i=0;i<aa.length;i++){var ab=aa[i].split(":");if(ab.length==2){var ac=ab[0];if(!Z[ac]){Z[ac]=[]}Z[ac].push(ab[1])}}Q._.removeDialogTabs=Z}if(Q._.removeDialogTabs&&(Z=Q._.removeDialogTabs[R])){for(i=0;i<Z.length;i++){S.removeContents(Z[i])}}if(S.onLoad){this.on("load",S.onLoad)}if(S.onShow){this.on("show",S.onShow)}if(S.onHide){this.on("hide",S.onHide)}if(S.onOk){this.on("ok",function(ap){Q.fire("saveSnapshot");setTimeout(function(){Q.fire("saveSnapshot")},0);if(S.onOk.call(this,ap)===false){ap.data.hide=false}})}if(S.onCancel){this.on("cancel",function(ap){if(S.onCancel.call(this,ap)===false){ap.data.hide=false}})}var ad=this,ae=function(ap){var aq=ad._.contents,ar=false;for(var as in aq){for(var at in aq[as]){ar=ap.call(this,aq[as][at]);if(ar){return}}}};this.on("ok",function(ap){ae(function(aq){if(aq.validate){var ar=aq.validate(this);if(typeof ar=="string"){alert(ar);ar=false}if(ar===false){if(aq.select){aq.select()}else{aq.focus()}ap.data.hide=false;ap.stop();return true}}})},this,null,0);this.on("cancel",function(ap){ae(function(aq){if(aq.isChanged()){if(!confirm(Q.lang.common.confirmCancel)){ap.data.hide=false}return true}})},this,null,0);this.parts.close.on("click",function(ap){if(this.fire("cancel",{hide:true}).hide!==false){this.hide()}ap.data.preventDefault()},this);function af(){var ap=ad._.focusList;ap.sort(function(as,at){if(as.tabIndex!=at.tabIndex){return at.tabIndex-as.tabIndex}else{return as.focusIndex-at.focusIndex}});var aq=ap.length;for(var ar=0;ar<aq;ar++){ap[ar].focusIndex=ar}}function ag(ap){var aq=ad._.focusList,ar=ap?1:-1;if(aq.length<1){return}var as=ad._.currentFocusIndex;try{aq[as].getInputElement().$.blur()}catch(av){}var at=(as+ar+aq.length)%aq.length,au=at;while(!aq[au].isFocusable()){au=(au+ar+aq.length)%aq.length;if(au==at){break}}aq[au].focus();if(aq[au].type=="text"){aq[au].select()}}this.changeFocus=ag;var ah;function ai(ap){var au=this;if(ad!=a.dialog._.currentTop){return}var aq=ap.data.getKeystroke(),ar=Q.lang.dir=="rtl";ah=0;if(aq==9||aq==2000+9){var as=aq==2000+9;if(ad._.tabBarMode){var at=as?o.call(ad):p.call(ad);ad.selectPage(at);ad._.tabs[at][0].focus()}else{ag(!as)}ah=1}else{if(aq==4000+121&&!ad._.tabBarMode&&ad.getPageCount()>1){ad._.tabBarMode=true;ad._.tabs[ad._.currentTabId][0].focus();ah=1}else{if((aq==37||aq==39)&&ad._.tabBarMode){at=aq==(ar?39:37)?o.call(ad):p.call(ad);ad.selectPage(at);ad._.tabs[at][0].focus();ah=1}else{if((aq==13||aq==32)&&ad._.tabBarMode){au.selectPage(au._.currentTabId);au._.tabBarMode=false;au._.currentFocusIndex=-1;ag(true);ah=1}}}}if(ah){ap.stop();ap.data.preventDefault()}}function aj(ap){ah&&ap.data.preventDefault()}var ak=this._.element;this.on("show",function(){ak.on("keydown",ai,this,null,0);if(b.opera||b.gecko&&b.mac){ak.on("keypress",aj,this)}});this.on("hide",function(){ak.removeListener("keydown",ai);if(b.opera||b.gecko&&b.mac){ak.removeListener("keypress",aj)}});this.on("iframeAdded",function(ap){var aq=new g(ap.data.iframe.$.contentWindow.document);aq.on("keydown",ai,this,null,0)});this.on("show",function(){var at=this;af();if(Q.config.dialog_startupFocusTab&&ad._.pageCount>1){ad._.tabBarMode=true;ad._.tabs[ad._.currentTabId][0].focus()}else{if(!at._.hasFocus){at._.currentFocusIndex=-1;if(S.onFocus){var ap=S.onFocus.call(at);ap&&ap.focus()}else{ag(true)}if(at._.editor.mode=="wysiwyg"&&c){var aq=Q.document.$.selection,ar=aq.createRange();if(ar){if(ar.parentElement&&ar.parentElement().ownerDocument==Q.document.$||ar.item&&ar.item(0).ownerDocument==Q.document.$){var as=document.body.createTextRange();as.moveToElementText(at.getElement().getFirst().$);as.collapse(true);as.select()}}}}}},this,null,4294967295);if(b.ie6Compat){this.on("load",function(ap){var aq=this.getElement(),ar=aq.getFirst();ar.remove();ar.appendTo(aq)},this)}y(this);z(this);new d.text(S.title,a.document).appendTo(this.parts.title);for(var al=0;al<S.contents.length;al++){var am=S.contents[al];am&&this.addPage(am)}this.parts.tabs.on("click",function(ap){var as=this;var aq=ap.data.getTarget();if(aq.hasClass("cke_dialog_tab")){var ar=aq.$.id;as.selectPage(ar.substring(4,ar.lastIndexOf("_")));if(as._.tabBarMode){as._.tabBarMode=false;as._.currentFocusIndex=-1;ag(true)}ap.data.preventDefault()}},this);var an=[],ao=a.dialog._.uiElementBuilders.hbox.build(this,{type:"hbox",className:"cke_dialog_footer_buttons",widths:[],children:S.buttons},an).getChild();this.parts.footer.setHtml(an.join(""));for(al=0;al<ao.length;al++){this._.buttons[ao[al].id]=ao[al]}};function r(Q,R,S){this.element=R;this.focusIndex=S;this.tabIndex=0;this.isFocusable=function(){return !R.getAttribute("disabled")&&R.isVisible()};this.focus=function(){Q._.currentFocusIndex=this.focusIndex;this.element.focus()};R.on("keydown",function(T){if(T.data.getKeystroke() in {32:1,13:1}){this.fire("click")}});R.on("focus",function(){this.fire("mouseover")});R.on("blur",function(){this.fire("mouseout")})}a.dialog.prototype={destroy:function(){this.hide();this._.element.remove()},resize:(function(){return function(Q,R){var S=this;if(S._.contentSize&&S._.contentSize.width==Q&&S._.contentSize.height==R){return}a.dialog.fire("resize",{dialog:S,skin:S._.editor.skinName,width:Q,height:R},S._.editor);S.fire("resize",{skin:S._.editor.skinName,width:Q,height:R},S._.editor);if(S._.editor.lang.dir=="rtl"&&S._.position){S._.position.x=a.document.getWindow().getViewPaneSize().width-S._.contentSize.width-parseInt(S._.element.getFirst().getStyle("right"),10)}S._.contentSize={width:Q,height:R}}})(),getSize:function(){var Q=this._.element.getFirst();return{width:Q.$.offsetWidth||0,height:Q.$.offsetHeight||0}},move:(function(){var Q;return function(R,S,T){var aa=this;var U=aa._.element.getFirst(),V=aa._.editor.lang.dir=="rtl";if(Q===undefined){Q=U.getComputedStyle("position")=="fixed"}if(Q&&aa._.position&&aa._.position.x==R&&aa._.position.y==S){return}aa._.position={x:R,y:S};if(!Q){var W=a.document.getWindow().getScrollPosition();R+=W.x;S+=W.y}if(V){var X=aa.getSize(),Y=a.document.getWindow().getViewPaneSize();R=Y.width-X.width-R}var Z={top:(S>0?S:0)+"px"};Z[V?"right":"left"]=(R>0?R:0)+"px";U.setStyles(Z);T&&(aa._.moved=1)}})(),getPosition:function(){return e.extend({},this._.position)},show:function(){var Q=this._.element,R=this.definition;if(!(Q.getParent()&&Q.getParent().equals(a.document.getBody()))){Q.appendTo(a.document.getBody())}else{Q.setStyle("display","block")}if(b.gecko&&b.version<10900){var S=this.parts.dialog;S.setStyle("position","absolute");setTimeout(function(){S.setStyle("position","fixed")},0)}this.resize(this._.contentSize&&this._.contentSize.width||R.width||R.minWidth,this._.contentSize&&this._.contentSize.height||R.height||R.minHeight);this.reset();this.selectPage(this.definition.contents[0].id);if(a.dialog._.currentZIndex===null){a.dialog._.currentZIndex=this._.editor.config.baseFloatZIndex}this._.element.getFirst().setStyle("z-index",a.dialog._.currentZIndex+=10);if(a.dialog._.currentTop===null){a.dialog._.currentTop=this;this._.parentDialog=null;E(this._.editor);Q.on("keydown",I);Q.on(b.opera?"keypress":"keyup",J);for(var T in {keyup:1,keydown:1,keypress:1}){Q.on(T,P)}}else{this._.parentDialog=a.dialog._.currentTop;var U=this._.parentDialog.getElement().getFirst();U.$.style.zIndex-=Math.floor(this._.editor.config.baseFloatZIndex/2);a.dialog._.currentTop=this}K(this,this,"\x1b",null,function(){this.getButton("cancel")&&this.getButton("cancel").click()});this._.hasFocus=false;e.setTimeout(function(){this.layout();this.parts.dialog.setStyle("visibility","");this.fireOnce("load",{});k.fire("ready",this);this.fire("show",{});this._.editor.fire("dialogShow",this);this.foreach(function(V){V.setInitValue&&V.setInitValue()})},100,this)},layout:function(){var S=this;var Q=a.document.getWindow().getViewPaneSize(),R=S.getSize();S.move(S._.moved?S._.position.x:(Q.width-R.width)/2,S._.moved?S._.position.y:(Q.height-R.height)/2)},foreach:function(Q){var T=this;for(var R in T._.contents){for(var S in T._.contents[R]){Q(T._.contents[R][S])}}return T},reset:(function(){var Q=function(R){if(R.reset){R.reset(1)}};return function(){this.foreach(Q);return this}})(),setupContent:function(){var Q=arguments;this.foreach(function(R){if(R.setup){R.setup.apply(R,Q)}})},commitContent:function(){var Q=arguments;this.foreach(function(R){if(R.commit){R.commit.apply(R,Q)}})},hide:function(){if(!this.parts.dialog.isVisible()){return}this.fire("hide",{});this._.editor.fire("dialogHide",this);var Q=this._.element;Q.setStyle("display","none");this.parts.dialog.setStyle("visibility","hidden");L(this);while(a.dialog._.currentTop!=this){a.dialog._.currentTop.hide()}if(!this._.parentDialog){F()}else{var R=this._.parentDialog.getElement().getFirst();R.setStyle("z-index",parseInt(R.$.style.zIndex,10)+Math.floor(this._.editor.config.baseFloatZIndex/2))}a.dialog._.currentTop=this._.parentDialog;if(!this._.parentDialog){a.dialog._.currentZIndex=null;Q.removeListener("keydown",I);Q.removeListener(b.opera?"keypress":"keyup",J);for(var S in {keyup:1,keydown:1,keypress:1}){Q.removeListener(S,P)}var T=this._.editor;T.focus();if(T.mode=="wysiwyg"&&c){var U=T.getSelection();U&&U.unlock(true)}}else{a.dialog._.currentZIndex-=10}delete this._.parentDialog;this.foreach(function(V){V.resetInitValue&&V.resetInitValue()})},addPage:function(Q){var ac=this;var R=[],S=Q.label?' title="'+e.htmlEncode(Q.label)+'"':"",T=Q.elements,U=a.dialog._.uiElementBuilders.vbox.build(ac,{type:"vbox",className:"cke_dialog_page_contents",children:Q.elements,expand:!!Q.expand,padding:Q.padding,style:Q.style||"width: 100%;height:100%"},R),V=h.createFromHtml(R.join(""));V.setAttribute("role","tabpanel");var W=b,X="cke_"+Q.id+"_"+e.getNextNumber(),Y=h.createFromHtml(['<a class="cke_dialog_tab"',ac._.pageCount>0?" cke_last":"cke_first",S,!!Q.hidden?' style="display:none"':"",' id="',X,'"',W.gecko&&W.version>=10900&&!W.hc?"":' href="javascript:void(0)"',' tabIndex="-1"',' hidefocus="true"',' role="tab">',Q.label,"</a>"].join(""));V.setAttribute("aria-labelledby",X);ac._.tabs[Q.id]=[Y,V];ac._.tabIdList.push(Q.id);!Q.hidden&&ac._.pageCount++;ac._.lastTab=Y;ac.updateStyle();var Z=ac._.contents[Q.id]={},aa,ab=U.getChild();while(aa=ab.shift()){Z[aa.id]=aa;if(typeof aa.getChild=="function"){ab.push.apply(ab,aa.getChild())}}V.setAttribute("name",Q.id);V.appendTo(ac.parts.contents);Y.unselectable();ac.parts.tabs.append(Y);if(Q.accessKey){K(ac,ac,"CTRL+"+Q.accessKey,N,M);ac._.accessKeyMap["CTRL+"+Q.accessKey]=Q.id}},selectPage:function(Q){if(this._.currentTabId==Q){return}if(this.fire("selectPage",{page:Q,currentPage:this._.currentTabId})===true){return}for(var R in this._.tabs){var S=this._.tabs[R][0],T=this._.tabs[R][1];if(R!=Q){S.removeClass("cke_dialog_tab_selected");T.hide()}T.setAttribute("aria-hidden",R!=Q)}var U=this._.tabs[Q];U[0].addClass("cke_dialog_tab_selected");if(b.ie6Compat||b.ie7Compat){q(U[1]);U[1].show();setTimeout(function(){q(U[1],1)},0)}else{U[1].show()}this._.currentTabId=Q;this._.currentTabIndex=e.indexOf(this._.tabIdList,Q)},updateStyle:function(){this.parts.dialog[(this._.pageCount===1?"add":"remove")+"Class"]("cke_single_page")},hidePage:function(Q){var S=this;var R=S._.tabs[Q]&&S._.tabs[Q][0];if(!R||S._.pageCount==1||!R.isVisible()){return}else{if(Q==S._.currentTabId){S.selectPage(o.call(S))}}R.hide();S._.pageCount--;S.updateStyle()},showPage:function(Q){var S=this;var R=S._.tabs[Q]&&S._.tabs[Q][0];if(!R){return}R.show();S._.pageCount++;S.updateStyle()},getElement:function(){return this._.element},getName:function(){return this._.name},getContentElement:function(Q,R){var S=this._.contents[Q];return S&&S[R]},getValueOf:function(Q,R){return this.getContentElement(Q,R).getValue()},setValueOf:function(Q,R,S){return this.getContentElement(Q,R).setValue(S)},getButton:function(Q){return this._.buttons[Q]},click:function(Q){return this._.buttons[Q].click()},disableButton:function(Q){return this._.buttons[Q].disable()},enableButton:function(Q){return this._.buttons[Q].enable()},getPageCount:function(){return this._.pageCount},getParentEditor:function(){return this._.editor},getSelectedElement:function(){return this.getParentEditor().getSelection().getSelectedElement()},addFocusable:function(Q,R){var T=this;if(typeof R=="undefined"){R=T._.focusList.length;T._.focusList.push(new r(T,Q,R))}else{T._.focusList.splice(R,0,new r(T,Q,R));for(var S=R+1;S<T._.focusList.length;S++){T._.focusList[S].focusIndex++}}}};e.extend(a.dialog,{add:function(Q,R){if(!this._.dialogDefinitions[Q]||typeof R=="function"){this._.dialogDefinitions[Q]=R}},exists:function(Q){return !!this._.dialogDefinitions[Q]},getCurrent:function(){return a.dialog._.currentTop},okButton:(function(){var Q=function(R,S){S=S||{};return e.extend({id:"ok",type:"button",label:R.lang.common.ok,"class":"cke_dialog_ui_button_ok",onClick:function(T){var U=T.data.dialog;if(U.fire("ok",{hide:true}).hide!==false){U.hide()}}},S,true)};Q.type="button";Q.override=function(R){return e.extend(function(S){return Q(S,R)},{type:"button"},true)};return Q})(),cancelButton:(function(){var Q=function(R,S){S=S||{};return e.extend({id:"cancel",type:"button",label:R.lang.common.cancel,"class":"cke_dialog_ui_button_cancel",onClick:function(T){var U=T.data.dialog;if(U.fire("cancel",{hide:true}).hide!==false){U.hide()}}},S,true)};Q.type="button";Q.override=function(R){return e.extend(function(S){return Q(S,R)},{type:"button"},true)};return Q})(),addUIElement:function(Q,R){this._.uiElementBuilders[Q]=R}});a.dialog._={uiElementBuilders:{},dialogDefinitions:{},currentTop:null,currentZIndex:null};a.event.implementOn(a.dialog);a.event.implementOn(a.dialog.prototype,true);var s={resizable:3,minWidth:600,minHeight:400,buttons:[a.dialog.okButton,a.dialog.cancelButton]},t=function(Q,R,S){for(var T=0,U;U=Q[T];T++){if(U.id==R){return U}if(S&&U[S]){var V=t(U[S],R,S);if(V){return V}}}return null},u=function(Q,R,S,T,U){if(S){for(var V=0,W;W=Q[V];V++){if(W.id==S){Q.splice(V,0,R);return R}if(T&&W[T]){var X=u(W[T],R,S,T,true);if(X){return X}}}if(U){return null}}Q.push(R);return R},v=function(Q,R,S){for(var T=0,U;U=Q[T];T++){if(U.id==R){return Q.splice(T,1)}if(S&&U[S]){var V=v(U[S],R,S);if(V){return V}}}return null},w=function(Q,R){this.dialog=Q;var S=R.contents;for(var T=0,U;U=S[T];T++){S[T]=U&&new x(Q,U)}e.extend(this,R)};w.prototype={getContents:function(Q){return t(this.contents,Q)},getButton:function(Q){return t(this.buttons,Q)},addContents:function(Q,R){return u(this.contents,Q,R)},addButton:function(Q,R){return u(this.buttons,Q,R)},removeContents:function(Q){v(this.contents,Q)},removeButton:function(Q){v(this.buttons,Q)}};function x(Q,R){this._={dialog:Q};e.extend(this,R)}x.prototype={get:function(Q){return t(this.elements,Q,"children")},add:function(Q,R){return u(this.elements,Q,R,"children")},remove:function(Q){v(this.elements,Q,"children")}};function y(Q){var R=null,S=null,T=Q.getElement().getFirst(),U=Q.getParentEditor(),V=U.config.dialog_magnetDistance,W=U.skin.margins||[0,0,0,0];if(typeof V=="undefined"){V=20}function X(Z){var aa=Q.getSize(),ab=a.document.getWindow().getViewPaneSize(),ac=Z.data.$.screenX,ad=Z.data.$.screenY,ae=ac-R.x,af=ad-R.y,ag,ah;R={x:ac,y:ad};S.x+=ae;S.y+=af;if(S.x+W[3]<V){ag=-W[3]}else{if(S.x-W[1]>ab.width-aa.width-V){ag=ab.width-aa.width+(U.lang.dir=="rtl"?0:W[1])}else{ag=S.x}}if(S.y+W[0]<V){ah=-W[0]}else{if(S.y-W[2]>ab.height-aa.height-V){ah=ab.height-aa.height+W[2]}else{ah=S.y}}Q.move(ag,ah,1);Z.data.preventDefault()}function Y(Z){a.document.removeListener("mousemove",X);a.document.removeListener("mouseup",Y);if(b.ie6Compat){var aa=C.getChild(0).getFrameDocument();aa.removeListener("mousemove",X);aa.removeListener("mouseup",Y)}}Q.parts.title.on("mousedown",function(Z){R={x:Z.data.$.screenX,y:Z.data.$.screenY};a.document.on("mousemove",X);a.document.on("mouseup",Y);S=Q.getPosition();if(b.ie6Compat){var aa=C.getChild(0).getFrameDocument();aa.on("mousemove",X);aa.on("mouseup",Y)}Z.data.preventDefault()},Q)}function z(Q){var R=Q.definition,S=R.resizable;if(S==0){return}var T=Q.getParentEditor(),U,V,W,X,Y,Z,aa=e.addFunction(function(ad){Y=Q.getSize();var ae=Q.parts.contents,af=ae.$.getElementsByTagName("iframe").length;if(af){Z=h.createFromHtml('<div class="cke_dialog_resize_cover" style="height: 100%; position: absolute; width: 100%;"></div>');ae.append(Z)}V=Y.height-Q.parts.contents.getSize("height",!(b.gecko||b.opera||c&&b.quirks));U=Y.width-Q.parts.contents.getSize("width",1);X={x:ad.screenX,y:ad.screenY};W=a.document.getWindow().getViewPaneSize();a.document.on("mousemove",ab);a.document.on("mouseup",ac);if(b.ie6Compat){var ag=C.getChild(0).getFrameDocument();ag.on("mousemove",ab);ag.on("mouseup",ac)}ad.preventDefault&&ad.preventDefault()});Q.on("load",function(){var ad="";if(S==1){ad=" cke_resizer_horizontal"}else{if(S==2){ad=" cke_resizer_vertical"}}var ae=h.createFromHtml('<div class="cke_resizer'+ad+" cke_resizer_"+T.lang.dir+'" title="'+e.htmlEncode(T.lang.resize)+'" onmousedown="CKEDITOR.tools.callFunction('+aa+', event )"></div>');Q.parts.footer.append(ae,1)});T.on("destroy",function(){e.removeFunction(aa)});function ab(ad){var ae=T.lang.dir=="rtl",af=(ad.data.$.screenX-X.x)*(ae?-1:1),ag=ad.data.$.screenY-X.y,ah=Y.width,ai=Y.height,aj=ah+af*(Q._.moved?1:2),ak=ai+ag*(Q._.moved?1:2),al=Q._.element.getFirst(),am=ae&&al.getComputedStyle("right"),an=Q.getPosition();if(an.y+ak>W.height){ak=W.height-an.y}if((ae?am:an.x)+aj>W.width){aj=W.width-(ae?am:an.x)}if(S==1||S==3){ah=Math.max(R.minWidth||0,aj-U)}if(S==2||S==3){ai=Math.max(R.minHeight||0,ak-V)}Q.resize(ah,ai);if(!Q._.moved){Q.layout()}ad.data.preventDefault()}function ac(){a.document.removeListener("mouseup",ac);a.document.removeListener("mousemove",ab);if(Z){Z.remove();Z=null}if(b.ie6Compat){var ad=C.getChild(0).getFrameDocument();ad.removeListener("mouseup",ac);ad.removeListener("mousemove",ab)}}}var A,B={},C;function D(Q){Q.data.preventDefault(1)}function E(Q){var R=a.document.getWindow(),S=Q.config,T=S.dialog_backgroundCoverColor||"white",U=S.dialog_backgroundCoverOpacity,V=S.baseFloatZIndex,W=e.genKey(T,U,V),X=B[W];if(!X){var Y=['<div tabIndex="-1" style="position: ',b.ie6Compat?"absolute":"fixed","; z-index: ",V,"; top: 0px; left: 0px; ",!b.ie6Compat?"background-color: "+T:"",'" class="cke_dialog_background_cover">'];if(b.ie6Compat){var Z=b.isCustomDomain(),aa="<html><body style=\\'background-color:"+T+";\\'></body></html>";Y.push('<iframe hidefocus="true" frameborder="0" id="cke_dialog_background_iframe" src="javascript:');Y.push("void((function(){document.open();"+(Z?"document.domain='"+document.domain+"';":"")+"document.write( '"+aa+"' );document.close();})())");Y.push('" style="position:absolute;left:0;top:0;width:100%;height: 100%;progid:DXImageTransform.Microsoft.Alpha(opacity=0)"></iframe>')}Y.push("</div>");X=h.createFromHtml(Y.join(""));X.setOpacity(U!=undefined?U:0.5);X.on("keydown",D);X.on("keypress",D);X.on("keyup",D);X.appendTo(a.document.getBody());B[W]=X}else{X.show()}C=X;var ab=function(){var ae=R.getViewPaneSize();X.setStyles({width:ae.width+"px",height:ae.height+"px"})},ac=function(){var ae=R.getScrollPosition(),af=a.dialog._.currentTop;X.setStyles({left:ae.x+"px",top:ae.y+"px"});if(af){do{var ag=af.getPosition();af.move(ag.x,ag.y)}while(af=af._.parentDialog)}};A=ab;R.on("resize",ab);ab();if(!(b.mac&&b.webkit)){X.focus()}if(b.ie6Compat){var ad=function(){ac();arguments.callee.prevScrollHandler.apply(this,arguments)};R.$.setTimeout(function(){ad.prevScrollHandler=window.onscroll||(function(){});window.onscroll=ad},0);ac()}}function F(){if(!C){return}var Q=a.document.getWindow();C.hide();Q.removeListener("resize",A);if(b.ie6Compat){Q.$.setTimeout(function(){var R=window.onscroll&&window.onscroll.prevScrollHandler;window.onscroll=R||null},0)}A=null}function G(){for(var Q in B){B[Q].remove()}B={}}var H={},I=function(Q){var R=Q.data.$.ctrlKey||Q.data.$.metaKey,S=Q.data.$.altKey,T=Q.data.$.shiftKey,U=String.fromCharCode(Q.data.$.keyCode),V=H[(R?"CTRL+":"")+(S?"ALT+":"")+(T?"SHIFT+":"")+U];if(!V||!V.length){return}V=V[V.length-1];V.keydown&&V.keydown.call(V.uiElement,V.dialog,V.key);Q.data.preventDefault()},J=function(Q){var R=Q.data.$.ctrlKey||Q.data.$.metaKey,S=Q.data.$.altKey,T=Q.data.$.shiftKey,U=String.fromCharCode(Q.data.$.keyCode),V=H[(R?"CTRL+":"")+(S?"ALT+":"")+(T?"SHIFT+":"")+U];if(!V||!V.length){return}V=V[V.length-1];if(V.keyup){V.keyup.call(V.uiElement,V.dialog,V.key);Q.data.preventDefault()}},K=function(Q,R,S,T,U){var V=H[S]||(H[S]=[]);V.push({uiElement:Q,dialog:R,key:S,keyup:U||Q.accessKeyUp,keydown:T||Q.accessKeyDown})},L=function(Q){for(var R in H){var S=H[R];for(var T=S.length-1;T>=0;T--){if(S[T].dialog==Q||S[T].uiElement==Q){S.splice(T,1)}}if(S.length===0){delete H[R]}}},M=function(Q,R){if(Q._.accessKeyMap[R]){Q.selectPage(Q._.accessKeyMap[R])}},N=function(Q,R){},O={27:1,13:1},P=function(Q){if(Q.data.getKeystroke() in O){Q.data.stopPropagation()}};(function(){k.dialog={uiElement:function(Q,R,S,T,U,V,W){if(arguments.length<4){return}var X=(T.call?T(R):T)||"div",Y=["<",X," "],Z=(U&&U.call?U(R):U)||{},aa=(V&&V.call?V(R):V)||{},ab=(W&&W.call?W.call(this,Q,R):W)||"",ac=this.domId=aa.id||e.getNextId()+"_uiElement",ad=this.id=R.id,ae;aa.id=ac;var af={};if(R.type){af["cke_dialog_ui_"+R.type]=1}if(R.className){af[R.className]=1}if(R.disabled){af.cke_disabled=1}var ag=aa["class"]&&aa["class"].split?aa["class"].split(" "):[];for(ae=0;ae<ag.length;ae++){if(ag[ae]){af[ag[ae]]=1}}var ah=[];for(ae in af){ah.push(ae)}aa["class"]=ah.join(" ");if(R.title){aa.title=R.title}var ai=(R.style||"").split(";");for(ae in Z){ai.push(ae+":"+Z[ae])}if(R.hidden){ai.push("display:none")}for(ae=ai.length-1;ae>=0;ae--){if(ai[ae]===""){ai.splice(ae,1)}}if(ai.length>0){aa.style=(aa.style?aa.style+"; ":"")+ai.join("; ")}for(ae in aa){Y.push(ae+'="'+e.htmlEncode(aa[ae])+'" ')}Y.push(">",ab,"</",X,">");S.push(Y.join(""));(this._||(this._={})).dialog=Q;if(typeof R.isChanged=="boolean"){this.isChanged=function(){return R.isChanged}}if(typeof R.isChanged=="function"){this.isChanged=R.isChanged}a.event.implementOn(this);this.registerEvents(R);if(this.accessKeyUp&&this.accessKeyDown&&R.accessKey){K(this,Q,"CTRL+"+R.accessKey)}var aj=this;Q.on("load",function(){if(aj.getInputElement()){aj.getInputElement().on("focus",function(){Q._.tabBarMode=false;Q._.hasFocus=true;aj.fire("focus")},aj)}});if(this.keyboardFocusable){this.tabIndex=R.tabIndex||0;this.focusIndex=Q._.focusList.push(this)-1;this.on("focus",function(){Q._.currentFocusIndex=aj.focusIndex})}e.extend(this,R)},hbox:function(Q,R,S,T,U){if(arguments.length<4){return}this._||(this._={});var V=this._.children=R,W=U&&U.widths||null,X=U&&U.height||null,Y={},Z,aa=function(){var ac=['<tbody><tr class="cke_dialog_ui_hbox">'];for(Z=0;Z<S.length;Z++){var ad="cke_dialog_ui_hbox_child",ae=[];if(Z===0){ad="cke_dialog_ui_hbox_first"}if(Z==S.length-1){ad="cke_dialog_ui_hbox_last"}ac.push('<td class="',ad,'" role="presentation" ');if(W){if(W[Z]){ae.push("width:"+m(W[Z]))}}else{ae.push("width:"+Math.floor(100/S.length)+"%")}if(X){ae.push("height:"+m(X))}if(U&&U.padding!=undefined){ae.push("padding:"+m(U.padding))}if(ae.length>0){ac.push('style="'+ae.join("; ")+'" ')}ac.push(">",S[Z],"</td>")}ac.push("</tr></tbody>");return ac.join("")},ab={role:"presentation"};U&&U.align&&(ab.align=U.align);k.dialog.uiElement.call(this,Q,U||{type:"hbox"},T,"table",Y,ab,aa)},vbox:function(Q,R,S,T,U){if(arguments.length<3){return}this._||(this._={});var V=this._.children=R,W=U&&U.width||null,X=U&&U.heights||null,Y=function(){var Z=['<table role="presentation" cellspacing="0" border="0" '];Z.push('style="');if(U&&U.expand){Z.push("height:100%;")}Z.push("width:"+m(W||"100%"),";");Z.push('"');Z.push('align="',e.htmlEncode(U&&U.align||(Q.getParentEditor().lang.dir=="ltr"?"left":"right")),'" ');Z.push("><tbody>");for(var aa=0;aa<S.length;aa++){var ab=[];Z.push('<tr><td role="presentation" ');if(W){ab.push("width:"+m(W||"100%"))}if(X){ab.push("height:"+m(X[aa]))}else{if(U&&U.expand){ab.push("height:"+Math.floor(100/S.length)+"%")}}if(U&&U.padding!=undefined){ab.push("padding:"+m(U.padding))}if(ab.length>0){Z.push('style="',ab.join("; "),'" ')}Z.push(' class="cke_dialog_ui_vbox_child">',S[aa],"</td></tr>")}Z.push("</tbody></table>");return Z.join("")};k.dialog.uiElement.call(this,Q,U||{type:"vbox"},T,"div",null,{role:"presentation"},Y)}}})();k.dialog.uiElement.prototype={getElement:function(){return a.document.getById(this.domId)},getInputElement:function(){return this.getElement()},getDialog:function(){return this._.dialog},setValue:function(Q,R){this.getInputElement().setValue(Q);!R&&this.fire("change",{value:Q});return this},getValue:function(){return this.getInputElement().getValue()},isChanged:function(){return false},selectParentTab:function(){var T=this;var Q=T.getInputElement(),R=Q,S;while((R=R.getParent())&&R.$.className.search("cke_dialog_page_contents")==-1){}if(!R){return T}S=R.getAttribute("name");if(T._.dialog._.currentTabId!=S){T._.dialog.selectPage(S)}return T},focus:function(){this.selectParentTab().getInputElement().focus();return this},registerEvents:function(Q){var R=/^on([A-Z]\w+)/,S,T=function(V,W,X,Y){W.on("load",function(){V.getInputElement().on(X,Y,V)})};for(var U in Q){if(!(S=U.match(R))){continue}if(this.eventProcessors[U]){this.eventProcessors[U].call(this,this._.dialog,Q[U])}else{T(this,this._.dialog,S[1].toLowerCase(),Q[U])}}return this},eventProcessors:{onLoad:function(Q,R){Q.on("load",R,this)},onShow:function(Q,R){Q.on("show",R,this)},onHide:function(Q,R){Q.on("hide",R,this)}},accessKeyDown:function(Q,R){this.focus()},accessKeyUp:function(Q,R){},disable:function(){var Q=this.getElement();Q.setAttribute("disabled","true");Q.addClass("cke_disabled")},enable:function(){var Q=this.getElement();Q.removeAttribute("disabled");Q.removeClass("cke_disabled")},isEnabled:function(){return !this.getInputElement().getAttribute("disabled")},isVisible:function(){return this.getInputElement().isVisible()},isFocusable:function(){if(!this.isEnabled()||!this.isVisible()){return false}return true}};k.dialog.hbox.prototype=e.extend(new k.dialog.uiElement(),{getChild:function(Q){var R=this;if(arguments.length<1){return R._.children.concat()}if(!Q.splice){Q=[Q]}if(Q.length<2){return R._.children[Q[0]]}else{return R._.children[Q[0]]&&R._.children[Q[0]].getChild?R._.children[Q[0]].getChild(Q.slice(1,Q.length)):null}}},true);k.dialog.vbox.prototype=new k.dialog.hbox();(function(){var Q={build:function(R,S,T){var U=S.children,V,W=[],X=[];for(var Y=0;Y<U.length&&(V=U[Y]);Y++){var Z=[];W.push(Z);X.push(a.dialog._.uiElementBuilders[V.type].build(R,V,Z))}return new k.dialog[S.type](R,X,W,T,S)}};a.dialog.addUIElement("hbox",Q);a.dialog.addUIElement("vbox",Q)})();a.dialogCommand=function(Q){this.dialogName=Q};a.dialogCommand.prototype={exec:function(Q){Q.openDialog(this.dialogName)},canUndo:false,editorFocus:c||b.webkit};(function(){var Q=/^([a]|[^a])+$/,R=/^\d*$/,S=/^\d*(?:\.\d+)?$/;a.VALIDATE_OR=1;a.VALIDATE_AND=2;a.dialog.validate={functions:function(){return function(){var Z=this;var T=Z&&Z.getValue?Z.getValue():arguments[0],U=undefined,V=2,W=[],X;for(X=0;X<arguments.length;X++){if(typeof arguments[X]=="function"){W.push(arguments[X])}else{break}}if(X<arguments.length&&typeof arguments[X]=="string"){U=arguments[X];X++}if(X<arguments.length&&typeof arguments[X]=="number"){V=arguments[X]}var Y=V==2?true:false;for(X=0;X<W.length;X++){if(V==2){Y=Y&&W[X](T)}else{Y=Y||W[X](T)}}if(!Y){if(U!==undefined){alert(U)}if(Z&&(Z.select||Z.focus)){Z.select||Z.focus()}return false}return true}},regex:function(T,U){return function(){var W=this;var V=W&&W.getValue?W.getValue():arguments[0];if(!T.test(V)){if(U!==undefined){alert(U)}if(W&&(W.select||W.focus)){if(W.select){W.select()}else{W.focus()}}return false}return true}},notEmpty:function(T){return this.regex(Q,T)},integer:function(T){return this.regex(R,T)},number:function(T){return this.regex(S,T)},equals:function(T,U){return this.functions(function(V){return V==T},U)},notEqual:function(T,U){return this.functions(function(V){return V!=T},U)}};a.on("instanceDestroyed",function(T){if(e.isEmpty(a.instances)){var U;while(U=a.dialog._.currentTop){U.hide()}G()}var V=T.editor._.storedDialogs;for(var W in V){V[W].destroy()}})})();e.extend(a.editor.prototype,{openDialog:function(Q,R){if(this.mode=="wysiwyg"&&c){var S=this.getSelection();S&&S.lock()}var T=a.dialog._.dialogDefinitions[Q],U=this.skin.dialog;if(a.dialog._.currentTop===null){E(this)}if(typeof T=="function"&&U._isLoaded){var V=this._.storedDialogs||(this._.storedDialogs={}),W=V[Q]||(V[Q]=new a.dialog(this,Q));R&&R.call(W,W);W.show();return W}else{if(T=="failed"){F();throw new Error('[CKEDITOR.dialog.openDialog] Dialog "'+Q+'" failed when loading definition.')}}var X=this;function Y(aa){var ab=a.dialog._.dialogDefinitions[Q],ac=X.skin.dialog;if(!ac._isLoaded||Z&&typeof aa=="undefined"){return}if(typeof ab!="function"){a.dialog._.dialogDefinitions[Q]="failed"}X.openDialog(Q,R)}if(typeof T=="string"){var Z=1;a.scriptLoader.load(a.getUrl(T),Y,null,0,1)}a.skins.load(this,"dialog",Y);return null}})})();j.add("dialog",{requires:["dialogui"]});j.add("styles",{requires:["selection"],init:function(m){m.on("contentDom",function(){m.document.setCustomData("cke_includeReadonly",!m.config.disableReadonlyStyling)})}});a.editor.prototype.attachStyleStateChange=function(m,n){var o=this._.styleStateChangeCallbacks;if(!o){o=this._.styleStateChangeCallbacks=[];this.on("selectionChange",function(p){for(var q=0;q<o.length;q++){var r=o[q],s=r.style.checkActive(p.data.path)?1:2;r.fn.call(this,s)}})}o.push({style:m,fn:n})};a.STYLE_BLOCK=1;a.STYLE_INLINE=2;a.STYLE_OBJECT=3;(function(){var m={address:1,div:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1,p:1,pre:1},n={a:1,embed:1,hr:1,img:1,li:1,object:1,ol:1,table:1,td:1,tr:1,th:1,ul:1,dl:1,dt:1,dd:1,form:1},o=/\s*(?:;\s*|$)/,p=/#\((.+?)\)/g,q=d.walker.bookmark(0,1),r=d.walker.whitespaces(1);a.style=function(T,U){if(U){T=e.clone(T);L(T.attributes,U);L(T.styles,U)}var V=this.element=(T.element||"*").toLowerCase();this.type=m[V]?1:n[V]?3:2;this._={definition:T}};a.style.prototype={apply:function(T){S.call(this,T,false)},remove:function(T){S.call(this,T,true)},applyToRange:function(T){var U=this;return(U.applyToRange=U.type==2?t:U.type==1?x:U.type==3?v:null).call(U,T)},removeFromRange:function(T){var U=this;return(U.removeFromRange=U.type==2?u:U.type==1?y:U.type==3?w:null).call(U,T)},applyToObject:function(T){K(T,this)},checkActive:function(T){var X=this;switch(X.type){case 1:return X.checkElementRemovable(T.block||T.blockLimit,true);case 3:case 2:var U=T.elements;for(var V=0,W;V<U.length;V++){W=U[V];if(X.type==2&&(W==T.block||W==T.blockLimit)){continue}if(X.type==3&&!(W.getName() in n)){continue}if(X.checkElementRemovable(W,true)){return true}}}return false},checkApplicable:function(T){switch(this.type){case 2:case 1:break;case 3:return T.lastElement.getAscendant(this.element,true)}return true},checkElementRemovable:function(T,U){if(!T||T.isReadOnly()){return false}var V=this._.definition,W;if(T.getName()==this.element){if(!U&&!T.hasAttributes()){return true}W=M(V);if(W._length){for(var X in W){if(X=="_length"){continue}var Y=T.getAttribute(X)||"";if(X=="style"?R(W[X],P(Y,false)):W[X]==Y){if(!U){return true}}else{if(U){return false}}}if(U){return true}}else{return true}}var Z=N(this)[T.getName()];if(Z){if(!(W=Z.attributes)){return true}for(var aa=0;aa<W.length;aa++){X=W[aa][0];var ab=T.getAttribute(X);if(ab){var ac=W[aa][1];if(ac===null||typeof ac=="string"&&ab==ac||ac.test(ab)){return true}}}}return false},buildPreview:function(T){var U=this._.definition,V=[],W=U.element;if(W=="bdo"){W="span"}V=["<",W];var X=U.attributes;if(X){for(var Y in X){V.push(" ",Y,'="',X[Y],'"')}}var Z=a.style.getStyleText(U);if(Z){V.push(' style="',Z,'"')}V.push(">",T||U.name,"</",W,">");return V.join("")}};a.style.getStyleText=function(T){var U=T._ST;if(U){return U}U=T.styles;var V=T.attributes&&T.attributes.style||"",W="";if(V.length){V=V.replace(o,";")}for(var X in U){var Y=U[X],Z=(X+":"+Y).replace(o,";");if(Y=="inherit"){W+=Z}else{V+=Z}}if(V.length){V=P(V)}V+=W;return T._ST=V};function s(T){var U,V;while(T=T.getParent()){if(T.getName()=="body"){break}if(T.getAttribute("data-nostyle")){U=T}else{if(!V){var W=T.getAttribute("contentEditable");if(W=="false"){U=T}else{if(W=="true"){V=1}}}}}return U}function t(T){var ax=this;var U=T.document;if(T.collapsed){var V=J(ax,U);T.insertNode(V);T.moveToPosition(V,2);return}var W=ax.element,X=ax._.definition,Y,Z=X.includeReadonly;if(Z==undefined){Z=U.getCustomData("cke_includeReadonly")}var aa=f[W]||(Y=true,f.span);T.enlarge(1,1);T.trim();var ab=T.createBookmark(),ac=ab.startNode,ad=ab.endNode,ae=ac,af,ag=s(ac),ah=s(ad);if(ag){ae=ag.getNextSourceNode(true)}if(ah){ad=ah}if(ae.getPosition(ad)==2){ae=0}while(ae){var ai=false;if(ae.equals(ad)){ae=null;ai=true}else{var aj=ae.type,ak=aj==1?ae.getName():null,al=ak&&ae.getAttribute("contentEditable")=="false",am=ak&&ae.getAttribute("data-nostyle");if(ak&&ae.data("cke-bookmark")){ae=ae.getNextSourceNode(true);continue}if(!ak||aa[ak]&&!am&&(!al||Z)&&(ae.getPosition(ad)|4|0|8)==4+0+8&&(!X.childRule||X.childRule(ae))){var an=ae.getParent();if(an&&((an.getDtd()||f.span)[W]||Y)&&(!X.parentRule||X.parentRule(an))){if(!af&&(!ak||!f.$removeEmpty[ak]||(ae.getPosition(ad)|4|0|8)==4+0+8)){af=new d.range(U);af.setStartBefore(ae)}if(aj==3||al||aj==1&&!ae.getChildCount()){var ao=ae,ap;while((ai=!ao.getNext(q))&&(ap=ao.getParent(),aa[ap.getName()])&&(ap.getPosition(ac)|2|0|8)==2+0+8&&(!X.childRule||X.childRule(ap))){ao=ap}af.setEndAfter(ao)}}else{ai=true}}else{ai=true}ae=ae.getNextSourceNode(am||al)}if(ai&&af&&!af.collapsed){var aq=J(ax,U),ar=aq.hasAttributes(),as=af.getCommonAncestor(),at={styles:{},attrs:{},blockedStyles:{},blockedAttrs:{}},au,av,aw;while(aq&&as){if(as.getName()==W){for(au in X.attributes){if(at.blockedAttrs[au]||!(aw=as.getAttribute(av))){continue}if(aq.getAttribute(au)==aw){at.attrs[au]=1}else{at.blockedAttrs[au]=1}}for(av in X.styles){if(at.blockedStyles[av]||!(aw=as.getStyle(av))){continue}if(aq.getStyle(av)==aw){at.styles[av]=1}else{at.blockedStyles[av]=1}}}as=as.getParent()}for(au in at.attrs){aq.removeAttribute(au)}for(av in at.styles){aq.removeStyle(av)}if(ar&&!aq.hasAttributes()){aq=null}if(aq){af.extractContents().appendTo(aq);G(ax,aq);af.insertNode(aq);aq.mergeSiblings();if(!c){aq.$.normalize()}}else{aq=new h("span");af.extractContents().appendTo(aq);af.insertNode(aq);G(ax,aq);aq.remove(true)}af=null}}T.moveToBookmark(ab);T.shrink(2)}function u(T){T.enlarge(1,1);var U=T.createBookmark(),V=U.startNode;if(T.collapsed){var W=new d.elementPath(V.getParent()),X;for(var Y=0,Z;Y<W.elements.length&&(Z=W.elements[Y]);Y++){if(Z==W.block||Z==W.blockLimit){break}if(this.checkElementRemovable(Z)){var aa;if(T.collapsed&&(T.checkBoundaryOfElement(Z,2)||(aa=T.checkBoundaryOfElement(Z,1)))){X=Z;X.match=aa?"start":"end"}else{Z.mergeSiblings();if(Z.getName()==this.element){F(this,Z)}else{H(Z,N(this)[Z.getName()])}}}}if(X){var ab=V;for(Y=0;true;Y++){var ac=W.elements[Y];if(ac.equals(X)){break}else{if(ac.match){continue}else{ac=ac.clone()}}ac.append(ab);ab=ac}ab[X.match=="start"?"insertBefore":"insertAfter"](X)}}else{var ad=U.endNode,ae=this;function af(){var ai=new d.elementPath(V.getParent()),aj=new d.elementPath(ad.getParent()),ak=null,al=null;for(var am=0;am<ai.elements.length;am++){var an=ai.elements[am];if(an==ai.block||an==ai.blockLimit){break}if(ae.checkElementRemovable(an)){ak=an}}for(am=0;am<aj.elements.length;am++){an=aj.elements[am];if(an==aj.block||an==aj.blockLimit){break}if(ae.checkElementRemovable(an)){al=an}}if(al){ad.breakParent(al)}if(ak){V.breakParent(ak)}}af();var ag=V.getNext();while(!ag.equals(ad)){var ah=ag.getNextSourceNode();if(ag.type==1&&this.checkElementRemovable(ag)){if(ag.getName()==this.element){F(this,ag)}else{H(ag,N(this)[ag.getName()])}if(ah.type==1&&ah.contains(V)){af();ah=V.getNext()}}ag=ah}}T.moveToBookmark(U)}function v(T){var U=T.getCommonAncestor(true,true),V=U.getAscendant(this.element,true);V&&!V.isReadOnly()&&K(V,this)}function w(T){var U=T.getCommonAncestor(true,true),V=U.getAscendant(this.element,true);if(!V){return}var W=this,X=W._.definition,Y=X.attributes,Z=a.style.getStyleText(X);if(Y){for(var aa in Y){V.removeAttribute(aa,Y[aa])}}if(X.styles){for(var ab in X.styles){if(!X.styles.hasOwnProperty(ab)){continue}V.removeStyle(ab)}}}function x(T){var U=T.createBookmark(true),V=T.createIterator();V.enforceRealBlocks=true;if(this._.enterMode){V.enlargeBr=this._.enterMode!=2}var W,X=T.document,Y;while(W=V.getNextParagraph()){if(!W.isReadOnly()){var Z=J(this,X,W);z(W,Z)}}T.moveToBookmark(U)}function y(T){var Y=this;var U=T.createBookmark(1),V=T.createIterator();V.enforceRealBlocks=true;V.enlargeBr=Y._.enterMode!=2;var W;while(W=V.getNextParagraph()){if(Y.checkElementRemovable(W)){if(W.is("pre")){var X=Y._.enterMode==2?null:T.document.createElement(Y._.enterMode==1?"p":"div");X&&W.copyAttributes(X);z(W,X)}else{F(Y,W,1)}}}T.moveToBookmark(U)}function z(T,U){var V=!U;if(V){U=T.getDocument().createElement("div");T.copyAttributes(U)}var W=U&&U.is("pre"),X=T.is("pre"),Y=W&&!X,Z=!W&&X;if(Y){U=E(T,U)}else{if(Z){U=D(V?[T.getHtml()]:B(T),U)}else{T.moveChildren(U)}}U.replace(T);if(W){A(U)}else{if(V){I(U)}}}function A(T){var U;if(!((U=T.getPrevious(r))&&U.is&&U.is("pre"))){return}var V=C(U.getHtml(),/\n$/,"")+"\n\n"+C(T.getHtml(),/^\n/,"");if(c){T.$.outerHTML="<pre>"+V+"</pre>"}else{T.setHtml(V)}U.remove()}function B(T){var U=/(\S\s*)\n(?:\s|(<span[^>]+data-cke-bookmark.*?\/span>))*\n(?!$)/gi,V=T.getName(),W=C(T.getOuterHtml(),U,function(Y,Z,aa){return Z+"</pre>"+aa+"<pre>"}),X=[];W.replace(/<pre\b.*?>([\s\S]*?)<\/pre>/gi,function(Y,Z){X.push(Z)});return X}function C(T,U,V){var W="",X="";T=T.replace(/(^<span[^>]+data-cke-bookmark.*?\/span>)|(<span[^>]+data-cke-bookmark.*?\/span>$)/gi,function(Y,Z,aa){Z&&(W=Z);aa&&(X=aa);return""});return W+T.replace(U,V)+X}function D(T,U){var V;if(T.length>1){V=new d.documentFragment(U.getDocument())}for(var W=0;W<T.length;W++){var X=T[W];X=X.replace(/(\r\n|\r)/g,"\n");X=C(X,/^[ \t]*\n/,"");X=C(X,/\n$/,"");X=C(X,/^[ \t]+|[ \t]+$/g,function(Z,aa,ab){if(Z.length==1){return"&nbsp;"}else{if(!aa){return e.repeat("&nbsp;",Z.length-1)+" "}else{return" "+e.repeat("&nbsp;",Z.length-1)}}});X=X.replace(/\n/g,"<br>");X=X.replace(/[ \t]{2,}/g,function(Z){return e.repeat("&nbsp;",Z.length-1)+" "});if(V){var Y=U.clone();Y.setHtml(X);V.append(Y)}else{U.setHtml(X)}}return V||U}function E(T,U){var V=T.getBogus();V&&V.remove();var W=T.getHtml();W=C(W,/(?:^[ \t\n\r]+)|(?:[ \t\n\r]+$)/g,"");W=W.replace(/[ \t\r\n]*(<br[^>]*>)[ \t\r\n]*/gi,"$1");W=W.replace(/([ \t\n\r]+|&nbsp;)/g," ");W=W.replace(/<br\b[^>]*>/gi,"\n");if(c){var X=T.getDocument().createElement("div");X.append(U);U.$.outerHTML="<pre>"+W+"</pre>";U.copyAttributes(X.getFirst());U=X.getFirst().remove()}else{U.setHtml(W)}return U}function F(T,U){var V=T._.definition,W=e.extend({},V.attributes,N(T)[U.getName()]),X=V.styles,Y=e.isEmpty(W)&&e.isEmpty(X);for(var Z in W){if((Z=="class"||T._.definition.fullMatch)&&U.getAttribute(Z)!=O(Z,W[Z])){continue}Y=U.hasAttribute(Z);U.removeAttribute(Z)}for(var aa in X){if(T._.definition.fullMatch&&U.getStyle(aa)!=O(aa,X[aa],true)){continue}Y=Y||!!U.getStyle(aa);U.removeStyle(aa)}if(Y){!f.$block[U.getName()]||T._.enterMode==2&&!U.hasAttributes()?I(U):U.renameNode(T._.enterMode==1?"p":"div")}}function G(T,U){var V=T._.definition,W=V.attributes,X=V.styles,Y=N(T),Z=U.getElementsByTag(T.element);for(var aa=Z.count();--aa>=0;){F(T,Z.getItem(aa))}for(var ab in Y){if(ab!=T.element){Z=U.getElementsByTag(ab);for(aa=Z.count()-1;aa>=0;aa--){var ac=Z.getItem(aa);H(ac,Y[ab])}}}}function H(T,U){var V=U&&U.attributes;if(V){for(var W=0;W<V.length;W++){var X=V[W][0],Y;if(Y=T.getAttribute(X)){var Z=V[W][1];if(Z===null||Z.test&&Z.test(Y)||typeof Z=="string"&&Y==Z){T.removeAttribute(X)}}}}I(T)}function I(T){if(!T.hasAttributes()){if(f.$block[T.getName()]){var U=T.getPrevious(r),V=T.getNext(r);if(U&&(U.type==3||!U.isBlockBoundary({br:1}))){T.append("br",1)}if(V&&(V.type==3||!V.isBlockBoundary({br:1}))){T.append("br")}T.remove(true)}else{var W=T.getFirst(),X=T.getLast();T.remove(true);if(W){W.type==1&&W.mergeSiblings();if(X&&!W.equals(X)&&X.type==1){X.mergeSiblings()}}}}}function J(T,U,V){var W,X=T._.definition,Y=T.element;if(Y=="*"){Y="span"}W=new h(Y,U);if(V){V.copyAttributes(W)}W=K(W,T);if(U.getCustomData("doc_processing_style")&&W.hasAttribute("id")){W.removeAttribute("id")}else{U.setCustomData("doc_processing_style",1)}return W}function K(T,U){var V=U._.definition,W=V.attributes,X=a.style.getStyleText(V);if(W){for(var Y in W){T.setAttribute(Y,W[Y])}}if(X){T.setAttribute("style",X)}return T}function L(T,U){for(var V in T){T[V]=T[V].replace(p,function(W,X){return U[X]})}}function M(T){var U=T._AC;if(U){return U}U={};var V=0,W=T.attributes;if(W){for(var X in W){V++;U[X]=W[X]}}var Y=a.style.getStyleText(T);if(Y){if(!U.style){V++}U.style=Y}U._length=V;return T._AC=U}function N(T){if(T._.overrides){return T._.overrides}var U=T._.overrides={},V=T._.definition.overrides;if(V){if(!e.isArray(V)){V=[V]}for(var W=0;W<V.length;W++){var X=V[W],Y,Z,aa;if(typeof X=="string"){Y=X.toLowerCase()}else{Y=X.element?X.element.toLowerCase():T.element;aa=X.attributes}Z=U[Y]||(U[Y]={});if(aa){var ab=Z.attributes=Z.attributes||[];for(var ac in aa){ab.push([ac.toLowerCase(),aa[ac]])}}}}return U}function O(T,U,V){var W=new h("span");W[V?"setStyle":"setAttribute"](T,U);return W[V?"getStyle":"getAttribute"](T)}function P(T,U){var V;if(U!==false){var W=new h("span");W.setAttribute("style",T);V=W.getAttribute("style")||""}else{V=T}V=V.replace(/(font-family:)(.*?)(?=;|$)/,function(X,Y,Z){var aa=Z.split(",");for(var ab=0;ab<aa.length;ab++){aa[ab]=e.trim(aa[ab].replace(/["']/g,""))}return Y+aa.join(",")});return V.replace(/\s*([;:])\s*/,"$1").replace(/([^\s;])$/,"$1;").replace(/,\s+/g,",").replace(/\"/g,"").toLowerCase()}function Q(T){var U={};T.replace(/&quot;/g,'"').replace(/\s*([^ :;]+)\s*:\s*([^;]+)\s*(?=;|$)/g,function(V,W,X){U[W]=X});return U}function R(T,U){typeof T=="string"&&(T=Q(T));typeof U=="string"&&(U=Q(U));for(var V in T){if(!(V in U&&(U[V]==T[V]||T[V]=="inherit"||U[V]=="inherit"))){return false}}return true}function S(T,U){var V=T.getSelection(),W=V.getRanges(),X=U?this.removeFromRange:this.applyToRange,Y,Z=W.createIterator();while(Y=Z.getNextRange()){X.call(this,Y)}V.selectRanges(W);T.removeCustomData("doc_processing_style")}})();a.styleCommand=function(m){this.style=m};a.styleCommand.prototype.exec=function(m){var o=this;m.focus();var n=m.document;if(n){if(o.state==2){o.style.apply(n)}else{if(o.state==1){o.style.remove(n)}}}return !!n};a.stylesSet=new a.resourceManager("","stylesSet");a.addStylesSet=e.bind(a.stylesSet.add,a.stylesSet);a.loadStylesSet=function(m,n,o){a.stylesSet.addExternal(m,n,"");a.stylesSet.load(m,o)};a.editor.prototype.getStylesSet=function(m){if(!this._.stylesDefinitions){var n=this,o=n.config.stylesCombo_stylesSet||n.config.stylesSet||"default";if(o instanceof Array){n._.stylesDefinitions=o;m(o);return}var p=o.split(":"),q=p[0],r=p[1],s=j.registered.styles.path;a.stylesSet.addExternal(q,r?p.slice(1).join(":"):s+"styles/"+q+".js","");a.stylesSet.load(q,function(t){n._.stylesDefinitions=t[q];m(n._.stylesDefinitions)})}else{m(this._.stylesDefinitions)}};j.add("domiterator");(function(){function m(s){var t=this;if(arguments.length<1){return}t.range=s;t.forceBrBreak=0;t.enlargeBr=1;t.enforceRealBlocks=0;t._||(t._={})}var n=/^[\r\n\t ]+$/,o=d.walker.bookmark(false,true),p=d.walker.whitespaces(true),q=function(s){return o(s)&&p(s)};function r(s,t,u){var v=s.getNextSourceNode(t,null,u);while(!o(v)){v=v.getNextSourceNode(t,null,u)}return v}m.prototype={getNextParagraph:function(s){var S=this;var t,u,v,w,x,y;if(!S._.lastNode){u=S.range.clone();u.shrink(1,true);w=u.endContainer.hasAscendant("pre",true)||u.startContainer.hasAscendant("pre",true);u.enlarge(S.forceBrBreak&&!w||!S.enlargeBr?3:2);var z=new d.walker(u),A=d.walker.bookmark(true,true);z.evaluator=A;S._.nextNode=z.next();z=new d.walker(u);z.evaluator=A;var B=z.previous();S._.lastNode=B.getNextSourceNode(true);if(S._.lastNode&&S._.lastNode.type==3&&!e.trim(S._.lastNode.getText())&&S._.lastNode.getParent().isBlockBoundary()){var C=new d.range(u.document);C.moveToPosition(S._.lastNode,4);if(C.checkEndOfBlock()){var D=new d.elementPath(C.endContainer),E=D.block||D.blockLimit;S._.lastNode=E.getNextSourceNode(true)}}if(!S._.lastNode){S._.lastNode=S._.docEndMarker=u.document.createText("");S._.lastNode.insertAfter(B)}u=null}var F=S._.nextNode;B=S._.lastNode;S._.nextNode=null;while(F){var G=0,H=F.hasAscendant("pre"),I=F.type!=1,J=0;if(!I){var K=F.getName();if(F.isBlockBoundary(S.forceBrBreak&&!H&&{br:1})){if(K=="br"){I=1}else{if(!u&&!F.getChildCount()&&K!="hr"){t=F;v=F.equals(B);break}}if(u){u.setEndAt(F,3);if(K!="br"){S._.nextNode=F}}G=1}else{if(F.getFirst()){if(!u){u=new d.range(S.range.document);u.setStartAt(F,3)}F=F.getFirst();continue}I=1}}else{if(F.type==3){if(n.test(F.getText())){I=0}}}if(I&&!u){u=new d.range(S.range.document);u.setStartAt(F,3)}v=(!G||I)&&F.equals(B);if(u&&!G){while(!F.getNext(q)&&!v){var L=F.getParent();if(L.isBlockBoundary(S.forceBrBreak&&!H&&{br:1})){G=1;I=0;v=v||L.equals(B);u.setEndAt(L,2);break}F=L;I=1;v=F.equals(B);J=1}}if(I){u.setEndAt(F,4)}F=r(F,J,B);v=!F;if(v||G&&u){break}}if(!t){if(!u){S._.docEndMarker&&S._.docEndMarker.remove();S._.nextNode=null;return null}var M=new d.elementPath(u.startContainer),N=M.blockLimit,O={div:1,th:1,td:1};t=M.block;if(!t&&!S.enforceRealBlocks&&O[N.getName()]&&u.checkStartOfBlock()&&u.checkEndOfBlock()){t=N}else{if(!t||S.enforceRealBlocks&&t.getName()=="li"){t=S.range.document.createElement(s||"p");u.extractContents().appendTo(t);t.trim();u.insertNode(t);x=y=true}else{if(t.getName()!="li"){if(!u.checkStartOfBlock()||!u.checkEndOfBlock()){t=t.clone(false);u.extractContents().appendTo(t);t.trim();var P=u.splitBlock();x=!P.wasStartOfBlock;y=!P.wasEndOfBlock;u.insertNode(t)}}else{if(!v){S._.nextNode=t.equals(B)?null:r(u.getBoundaryNodes().endNode,1,B)}}}}}if(x){var Q=t.getPrevious();if(Q&&Q.type==1){if(Q.getName()=="br"){Q.remove()}else{if(Q.getLast()&&Q.getLast().$.nodeName.toLowerCase()=="br"){Q.getLast().remove()}}}}if(y){var R=t.getLast();if(R&&R.type==1&&R.getName()=="br"){if(c||R.getPrevious(o)||R.getNext(o)){R.remove()}}}if(!S._.nextNode){S._.nextNode=v||t.equals(B)?null:r(t,1,B)}return t}};d.range.prototype.createIterator=function(){return new m(this)}})();j.add("panelbutton",{requires:["button"],beforeInit:function(m){m.ui.addHandler("panelbutton",k.panelButton.handler)}});a.UI_PANELBUTTON="panelbutton";(function(){var m=function(n){var p=this;var o=p._;if(o.state==0){return}p.createPanel(n);if(o.on){o.panel.hide();return}o.panel.showBlock(p._.id,p.document.getById(p._.id),4)};k.panelButton=e.createClass({base:k.button,$:function(n){var p=this;var o=n.panel;delete n.panel;p.base(n);p.document=o&&o.parent&&o.parent.getDocument()||a.document;o.block={attributes:o.attributes};p.hasArrow=true;p.click=m;p._={panelDefinition:o}},statics:{handler:{create:function(n){return new k.panelButton(n)}}},proto:{createPanel:function(n){var o=this._;if(o.panel){return}var p=this._.panelDefinition||{},q=this._.panelDefinition.block,r=p.parent||a.document.getBody(),s=this._.panel=new k.floatPanel(n,r,p),t=s.addBlock(o.id,q),u=this;s.onShow=function(){if(u.className){this.element.getFirst().addClass(u.className+"_panel")}u.setState(1);o.on=1;if(u.onOpen){u.onOpen()}};s.onHide=function(v){if(u.className){this.element.getFirst().removeClass(u.className+"_panel")}u.setState(u.modes&&u.modes[n.mode]?2:0);o.on=0;if(!v&&u.onClose){u.onClose()}};s.onEscape=function(){s.hide();u.document.getById(o.id).focus()};if(this.onBlock){this.onBlock(s,t)}t.onHide=function(){o.on=0;u.setState(2)}}}})})();j.add("floatpanel",{requires:["panel"]});(function(){var m={},n=false;function o(p,q,r,s,t){var u=e.genKey(q.getUniqueId(),r.getUniqueId(),p.skinName,p.lang.dir,p.uiColor||"",s.css||"",t||""),v=m[u];if(!v){v=m[u]=new k.panel(q,s);v.element=r.append(h.createFromHtml(v.renderHtml(p),q));v.element.setStyles({display:"none",position:"absolute"})}return v}k.floatPanel=e.createClass({$:function(p,q,r,s){r.forceIFrame=1;var t=q.getDocument(),u=o(p,t,q,r,s||0),v=u.element,w=v.getFirst().getFirst();this.element=v;this._={panel:u,parentElement:q,definition:r,document:t,iframe:w,children:[],dir:p.lang.dir};p.on("mode",function(){this.hide()},this)},proto:{addBlock:function(p,q){return this._.panel.addBlock(p,q)},addListBlock:function(p,q){return this._.panel.addListBlock(p,q)},getBlock:function(p){return this._.panel.getBlock(p)},showBlock:function(p,q,r,s,t){var u=this._.panel,v=u.showBlock(p);this.allowBlur(false);n=1;var w=this.element,x=this._.iframe,y=this._.definition,z=q.getDocumentPosition(w.getDocument()),A=this._.dir=="rtl",B=z.x+(s||0),C=z.y+(t||0);if(A&&(r==1||r==4)){B+=q.$.offsetWidth}else{if(!A&&(r==2||r==3)){B+=q.$.offsetWidth-1}}if(r==3||r==4){C+=q.$.offsetHeight-1}this._.panel._.offsetParentId=q.getId();w.setStyles({top:C+"px",left:0,display:""});w.setOpacity(0);w.getFirst().removeStyle("width");if(!this._.blurSet){var D=c?x:new d.window(x.$.contentWindow);a.event.useCapture=true;D.on("blur",function(E){var G=this;if(!G.allowBlur()){return}var F;if(c&&!G.allowBlur()||(F=E.data.getTarget())&&F.getName&&F.getName()!="iframe"){return}if(G.visible&&!G._.activeChild&&!n){G.hide()}},this);D.on("focus",function(){this._.focused=true;this.hideChild();this.allowBlur(true)},this);a.event.useCapture=false;this._.blurSet=1}u.onEscape=e.bind(function(E){if(this.onEscape&&this.onEscape(E)===false){return false}},this);e.setTimeout(function(){if(A){B-=w.$.offsetWidth}var E=e.bind(function(){var F=w.getFirst();if(v.autoSize){var G=v.element.$;if(b.gecko||b.opera){G=G.parentNode}if(c){G=G.document.body}var H=G.scrollWidth;if(c&&b.quirks&&H>0){H+=(F.$.offsetWidth||0)-(F.$.clientWidth||0)}H+=4;F.setStyle("width",H+"px");v.element.addClass("cke_frameLoaded");var I=v.element.$.scrollHeight;if(c&&b.quirks&&I>0){I+=(F.$.offsetHeight||0)-(F.$.clientHeight||0)}F.setStyle("height",I+"px");u._.currentBlock.element.setStyle("display","none").removeStyle("display")}else{F.removeStyle("height")}var J=u.element,K=J.getWindow(),L=K.getScrollPosition(),M=K.getViewPaneSize(),N={height:J.$.offsetHeight,width:J.$.offsetWidth};if(A?B<0:B+N.width>M.width+L.x){B+=N.width*(A?1:-1)}if(C+N.height>M.height+L.y){C-=N.height}if(c){var O=new h(w.$.offsetParent),P=O;if(P.getName()=="html"){P=P.getDocument().getBody()}if(P.getComputedStyle("direction")=="rtl"){if(b.ie8Compat){B-=w.getDocument().getDocumentElement().$.scrollLeft*2}else{B-=O.$.scrollWidth-O.$.clientWidth}}}var Q=w.getFirst(),R;if(R=Q.getCustomData("activePanel")){R.onHide&&R.onHide.call(this,1)}Q.setCustomData("activePanel",this);w.setStyles({top:C+"px",left:B+"px"});w.setOpacity(1)},this);u.isLoaded?E():u.onLoad=E;e.setTimeout(function(){x.$.contentWindow.focus();this.allowBlur(true)},0,this)},b.air?200:0,this);this.visible=1;if(this.onShow){this.onShow.call(this)}n=0},hide:function(){var p=this;if(p.visible&&(!p.onHide||p.onHide.call(p)!==true)){p.hideChild();p.element.setStyle("display","none");p.visible=0;p.element.getFirst().removeCustomData("activePanel")}},allowBlur:function(p){var q=this._.panel;if(p!=undefined){q.allowBlur=p}return q.allowBlur},showAsChild:function(p,q,r,s,t,u){if(this._.activeChild==p&&p._.panel._.offsetParentId==r.getId()){return}this.hideChild();p.onHide=e.bind(function(){e.setTimeout(function(){if(!this._.focused){this.hide()}},0,this)},this);this._.activeChild=p;this._.focused=false;p.showBlock(q,r,s,t,u);if(b.ie7Compat||b.ie8&&b.ie6Compat){setTimeout(function(){p.element.getChild(0).$.style.cssText+=""},100)}},hideChild:function(){var p=this._.activeChild;if(p){delete p.onHide;delete this._.activeChild;p.hide()}}}});a.on("instanceDestroyed",function(){var p=e.isEmpty(a.instances);for(var q in m){var r=m[q];if(p){r.destroy()}else{r.element.hide()}}p&&(m={})})})();j.add("menu",{beforeInit:function(m){var n=m.config.menu_groups.split(","),o=m._.menuGroups={},p=m._.menuItems={};for(var q=0;q<n.length;q++){o[n[q]]=q+1}m.addMenuGroup=function(r,s){o[r]=s||100};m.addMenuItem=function(r,s){if(o[s.group]){p[r]=new a.menuItem(this,r,s)}};m.addMenuItems=function(r){for(var s in r){this.addMenuItem(s,r[s])}};m.getMenuItem=function(r){return p[r]}},requires:["floatpanel"]});(function(){a.menu=e.createClass({$:function(n,o){var r=this;o=r._.definition=o||{};r.id=e.getNextId();r.editor=n;r.items=[];r._.listeners=[];r._.level=o.level||1;var p=e.extend({},o.panel,{css:n.skin.editor.css,level:r._.level-1,block:{}}),q=p.block.attributes=p.attributes||{};!q.role&&(q.role="menu");r._.panelDefinition=p},_:{onShow:function(){var v=this;var n=v.editor.getSelection();if(c){n&&n.lock()}var o=n&&n.getStartElement(),p=v._.listeners,q=[];v.removeAll();for(var r=0;r<p.length;r++){var s=p[r](o,n);if(s){for(var t in s){var u=v.editor.getMenuItem(t);if(u&&(!u.command||v.editor.getCommand(u.command).state)){u.state=s[t];v.add(u)}}}}},onClick:function(n){this.hide();if(n.onClick){n.onClick()}else{if(n.command){this.editor.execCommand(n.command)}}},onEscape:function(n){var o=this.parent;if(o){o._.panel.hideChild();var p=o._.panel._.panel._.currentBlock,q=p._.focusIndex;p._.markItem(q)}else{if(n==27){this.hide();this.editor.focus()}}return false},onHide:function(){if(c){var n=this.editor.getSelection();n&&n.unlock()}this.onHide&&this.onHide()},showSubMenu:function(n){var v=this;var o=v._.subMenu,p=v.items[n],q=p.getItems&&p.getItems();if(!q){v._.panel.hideChild();return}var r=v._.panel.getBlock(v.id);r._.focusIndex=n;if(o){o.removeAll()}else{o=v._.subMenu=new a.menu(v.editor,e.extend({},v._.definition,{level:v._.level+1},true));o.parent=v;o._.onClick=e.bind(v._.onClick,v)}for(var s in q){var t=v.editor.getMenuItem(s);if(t){t.state=q[s];o.add(t)}}var u=v._.panel.getBlock(v.id).element.getDocument().getById(v.id+String(n));o.show(u,2)}},proto:{add:function(n){if(!n.order){n.order=this.items.length}this.items.push(n)},removeAll:function(){this.items=[]},show:function(n,o,p,q){if(!this.parent){this._.onShow();if(!this.items.length){return}}o=o||(this.editor.lang.dir=="rtl"?2:1);var r=this.items,s=this.editor,t=this._.panel,u=this._.element;if(!t){t=this._.panel=new k.floatPanel(this.editor,a.document.getBody(),this._.panelDefinition,this._.level);t.onEscape=e.bind(function(F){if(this._.onEscape(F)===false){return false}},this);t.onHide=e.bind(function(){this._.onHide&&this._.onHide()},this);var v=t.addBlock(this.id,this._.panelDefinition.block);v.autoSize=true;var w=v.keys;w[40]="next";w[9]="next";w[38]="prev";w[2000+9]="prev";w[32]="click";w[s.lang.dir=="rtl"?37:39]="click";u=this._.element=v.element;u.addClass(s.skinClass);var x=u.getDocument();x.getBody().setStyle("overflow","hidden");x.getElementsByTag("html").getItem(0).setStyle("overflow","hidden");this._.itemOverFn=e.addFunction(function(F){var G=this;clearTimeout(G._.showSubTimeout);G._.showSubTimeout=e.setTimeout(G._.showSubMenu,s.config.menu_subMenuDelay||400,G,[F])},this);this._.itemOutFn=e.addFunction(function(F){clearTimeout(this._.showSubTimeout)},this);this._.itemClickFn=e.addFunction(function(F){var H=this;var G=H.items[F];if(G.state==0){H.hide();return}if(G.getItems){H._.showSubMenu(F)}else{H._.onClick(G)}},this)}m(r);var y=s.container.getChild(1),z=y.hasClass("cke_mixed_dir_content")?" cke_mixed_dir_content":"",A=['<div class="cke_menu'+z+'" role="presentation">'],B=r.length,C=B&&r[0].group;for(var D=0;D<B;D++){var E=r[D];if(C!=E.group){A.push('<div class="cke_menuseparator" role="separator"></div>');C=E.group}E.render(this,D,A)}A.push("</div>");u.setHtml(A.join(""));k.fire("ready",this);if(this.parent){this.parent._.panel.showAsChild(t,this.id,n,o,p,q)}else{t.showBlock(this.id,n,o,p,q)}s.fire("menuShow",[t])},addListener:function(n){this._.listeners.push(n)},hide:function(){var n=this;n._.onHide&&n._.onHide();n._.panel&&n._.panel.hide()}}});function m(n){n.sort(function(o,p){if(o.group<p.group){return -1}else{if(o.group>p.group){return 1}}return o.order<p.order?-1:o.order>p.order?1:0})}a.menuItem=e.createClass({$:function(n,o,p){var q=this;e.extend(q,p,{order:0,className:"cke_button_"+o});q.group=n._.menuGroups[q.group];q.editor=n;q.name=o},proto:{render:function(n,o,p){var w=this;var q=n.id+String(o),r=typeof w.state=="undefined"?2:w.state,s=" cke_"+(r==1?"on":r==0?"disabled":"off"),t=w.label;if(w.className){s+=" "+w.className}var u=w.getItems;p.push('<span class="cke_menuitem'+(w.icon&&w.icon.indexOf(".png")==-1?" cke_noalphafix":"")+'"><a id="',q,'" class="',s,'" href="javascript:void(\'',(w.label||"").replace("'",""),'\')" title="',w.label,'" tabindex="-1"_cke_focus=1 hidefocus="true" role="menuitem"'+(u?'aria-haspopup="true"':"")+(r==0?'aria-disabled="true"':"")+(r==1?'aria-pressed="true"':""));if(b.opera||b.gecko&&b.mac){p.push(' onkeypress="return false;"')}if(b.gecko){p.push(' onblur="this.style.cssText = this.style.cssText;"')}var v=(w.iconOffset||0)*-16;p.push(' onmouseover="CKEDITOR.tools.callFunction(',n._.itemOverFn,",",o,');" onmouseout="CKEDITOR.tools.callFunction(',n._.itemOutFn,",",o,');" onclick="CKEDITOR.tools.callFunction(',n._.itemClickFn,",",o,'); return false;"><span class="cke_icon_wrapper"><span class="cke_icon"'+(w.icon?' style="background-image:url('+a.getUrl(w.icon)+");background-position:0 "+v+'px;"':"")+'></span></span><span class="cke_label">');if(u){p.push('<span class="cke_menuarrow">',"<span>&#",w.editor.lang.dir=="rtl"?"9668":"9658",";</span>","</span>")}p.push(t,"</span></a></span>")}}})})();i.menu_groups="clipboard,form,tablecell,tablecellproperties,tablerow,tablecolumn,table,anchor,link,image,flash,checkbox,radio,textfield,hiddenfield,imagebutton,button,select,textarea,div";(function(){var m;j.add("editingblock",{init:function(n){if(!n.config.editingBlock){return}n.on("themeSpace",function(o){if(o.data.space=="contents"){o.data.html+="<br>"}});n.on("themeLoaded",function(){n.fireOnce("editingBlockReady")});n.on("uiReady",function(){n.setMode(n.config.startupMode)});n.on("afterSetData",function(){if(!m){function o(){m=true;n.getMode().loadData(n.getData());m=false}if(n.mode){o()}else{n.on("mode",function(){if(n.mode){o();n.removeListener("mode",arguments.callee)}})}}});n.on("beforeGetData",function(){if(!m&&n.mode){m=true;n.setData(n.getMode().getData(),null,1);m=false}});n.on("getSnapshot",function(o){if(n.mode){o.data=n.getMode().getSnapshotData()}});n.on("loadSnapshot",function(o){if(n.mode){n.getMode().loadSnapshotData(o.data)}});n.on("mode",function(o){o.removeListener();b.webkit&&n.container.on("focus",function(){n.focus()});if(n.config.startupFocus){n.focus()}setTimeout(function(){n.fireOnce("instanceReady");a.fire("instanceReady",null,n)},0)});n.on("destroy",function(){var o=this;if(o.mode){o._.modes[o.mode].unload(o.getThemeSpace("contents"))}})}});a.editor.prototype.mode="";a.editor.prototype.addMode=function(n,o){o.name=n;(this._.modes||(this._.modes={}))[n]=o};a.editor.prototype.setMode=function(n){this.fire("beforeSetMode",{newMode:n});var o,p=this.getThemeSpace("contents"),q=this.checkDirty();if(this.mode){if(n==this.mode){return}this.fire("beforeModeUnload");var r=this.getMode();o=r.getData();r.unload(p);this.mode=""}p.setHtml("");var s=this.getMode(n);if(!s){throw'[CKEDITOR.editor.setMode] Unknown mode "'+n+'".'}if(!q){this.on("mode",function(){this.resetDirty();this.removeListener("mode",arguments.callee)})}s.load(p,typeof o!="string"?this.getData():o)};a.editor.prototype.getMode=function(n){return this._.modes&&this._.modes[n||this.mode]};a.editor.prototype.focus=function(){this.forceNextSelectionCheck();var n=this.getMode();if(n){n.focus()}}})();i.startupMode="wysiwyg";i.editingBlock=true;(function(){function m(){var B=this;try{var y=B.getSelection();if(!y||!y.document.getWindow().$){return}var z=y.getStartElement(),A=new d.elementPath(z);if(!A.compare(B._.selectionPreviousPath)){B._.selectionPreviousPath=A;B.fire("selectionChange",{selection:y,path:A,element:z})}}catch(C){}}var n,o;function p(){o=true;if(n){return}q.call(this);n=e.setTimeout(q,200,this)}function q(){n=null;if(o){e.setTimeout(m,0,this);o=false}}function r(y){function z(C){return C&&C.type==1&&C.getName() in f.$removeEmpty}var A=y.startContainer,B=y.startOffset;if(A.type==3){return false}return !e.trim(A.getHtml())?z(A):z(A.getChild(B-1))||z(A.getChild(B))}var s={modes:{wysiwyg:1,source:1},readOnly:c||b.webkit,exec:function(y){switch(y.mode){case"wysiwyg":y.document.$.execCommand("SelectAll",false,null);y.forceNextSelectionCheck();y.selectionChange();break;case"source":var z=y.textarea.$;if(c){z.createTextRange().execCommand("SelectAll")}else{z.selectionStart=0;z.selectionEnd=z.value.length}z.focus()}},canUndo:false};function t(y){w(y);var z=y.createText("​");y.setCustomData("cke-fillingChar",z);return z}function u(y){return y&&y.getCustomData("cke-fillingChar")}function v(y){var z=y&&u(y);if(z){if(z.getCustomData("ready")){w(y)}else{z.setCustomData("ready",1)}}}function w(y){var z=y&&y.removeCustomData("cke-fillingChar");if(z){z.setText(z.getText().replace(/\u200B/g,""));z=0}}j.add("selection",{init:function(y){if(b.webkit){y.on("selectionChange",function(){v(y.document)});y.on("beforeSetMode",function(){w(y.document)});y.on("key",function(D){switch(D.data.keyCode){case 13:case 2000+13:case 37:case 39:case 8:w(y.document)}},null,null,10);var z,A;function B(){var D=y.document,E=u(D);if(E){var F=D.$.defaultView.getSelection();if(F.type=="Caret"&&F.anchorNode==E.$){A=1}z=E.getText();E.setText(z.replace(/\u200B/g,""))}}function C(){var D=y.document,E=u(D);if(E){E.setText(z);if(A){D.$.defaultView.getSelection().setPosition(E.$,E.getLength());A=0}}}y.on("beforeUndoImage",B);y.on("afterUndoImage",C);y.on("beforeGetData",B,null,null,0);y.on("getData",C)}y.on("contentDom",function(){var D=y.document,E=D.getBody(),F=D.getDocumentElement();if(c){var G,H,I=1;E.on("focusin",function(M){if(M.data.$.srcElement.nodeName!="BODY"){return}if(G){if(I){try{G.select()}catch(O){}var N=D.getCustomData("cke_locked_selection");if(N){N.unlock();N.lock()}}G=null}});E.on("focus",function(){H=1;L()});E.on("beforedeactivate",function(M){if(M.data.$.toElement){return}H=0;I=1});if(c&&b.version<8){y.on("blur",function(M){try{y.document&&y.document.$.selection.empty()}catch(N){}})}F.on("mousedown",function(){I=0});F.on("mouseup",function(){I=1});if(c&&(b.ie7Compat||b.version<8||b.quirks)){F.on("click",function(M){if(M.data.getTarget().getName()=="html"){y.getSelection().getRanges()[0].select()}})}var J;E.on("mousedown",function(M){if(M.data.$.button==2){var N=y.document.$.selection;if(N.type=="None"){J=y.window.getScrollPosition()}}K()});E.on("mouseup",function(M){if(M.data.$.button==2&&J){y.document.$.documentElement.scrollLeft=J.x;y.document.$.documentElement.scrollTop=J.y}J=null;H=1;setTimeout(function(){L(true)},0)});E.on("keydown",K);E.on("keyup",function(){H=1;L()});D.on("selectionchange",L);function K(){H=0}function L(M){if(H){var N=y.document,O=y.getSelection(),P=O&&O.getNative();if(M&&P&&P.type=="None"){if(!N.$.queryCommandEnabled("InsertImage")){e.setTimeout(L,50,this,true);return}}var Q;if(P&&P.type&&P.type!="Control"&&(Q=P.createRange())&&(Q=Q.parentElement())&&(Q=Q.nodeName)&&Q.toLowerCase() in {input:1,textarea:1}){return}G=P&&O.getRanges()[0];p.call(y)}}}else{D.on("mouseup",p,y);D.on("keyup",p,y)}});y.on("contentDomUnload",y.forceNextSelectionCheck,y);y.addCommand("selectAll",s);y.ui.addButton("SelectAll",{label:y.lang.selectAll,command:"selectAll"});y.selectionChange=p}});a.editor.prototype.getSelection=function(){return this.document&&this.document.getSelection()};a.editor.prototype.forceNextSelectionCheck=function(){delete this._.selectionPreviousPath};g.prototype.getSelection=function(){var y=new d.selection(this);return !y||y.isInvalid?null:y};a.SELECTION_NONE=1;a.SELECTION_TEXT=2;a.SELECTION_ELEMENT=3;d.selection=function(y){var B=this;var z=y.getCustomData("cke_locked_selection");if(z){return z}B.document=y;B.isLocked=0;B._={cache:{}};if(c){var A=B.getNative().createRange();if(!A||A.item&&A.item(0).ownerDocument!=B.document.$||A.parentElement&&A.parentElement().ownerDocument!=B.document.$){B.isInvalid=true}}return B};var x={img:1,hr:1,li:1,table:1,tr:1,td:1,th:1,embed:1,object:1,ol:1,ul:1,a:1,input:1,form:1,select:1,textarea:1,button:1,fieldset:1,thead:1,tfoot:1};d.selection.prototype={getNative:c?function(){return this._.cache.nativeSel||(this._.cache.nativeSel=this.document.$.selection)}:function(){return this._.cache.nativeSel||(this._.cache.nativeSel=this.document.getWindow().$.getSelection())},getType:c?function(){var y=this._.cache;if(y.type){return y.type}var z=1;try{var A=this.getNative(),B=A.type;if(B=="Text"){z=2}if(B=="Control"){z=3}if(A.createRange().parentElement){z=2}}catch(C){}return y.type=z}:function(){var y=this._.cache;if(y.type){return y.type}var z=2,A=this.getNative();if(!A){z=1}else{if(A.rangeCount==1){var B=A.getRangeAt(0),C=B.startContainer;if(C==B.endContainer&&C.nodeType==1&&B.endOffset-B.startOffset==1&&x[C.childNodes[B.startOffset].nodeName.toLowerCase()]){z=3}}}return y.type=z},getRanges:(function(){var y=c?(function(){function z(B){return new d.node(B).getIndex()}var A=function(B,C){B=B.duplicate();B.collapse(C);var D=B.parentElement(),E=D.ownerDocument;if(!D.hasChildNodes()){return{container:D,offset:0}}var F=D.children,G,H,I=B.duplicate(),J=0,K=F.length-1,L=-1,M,N;while(J<=K){L=Math.floor((J+K)/2);G=F[L];I.moveToElementText(G);M=I.compareEndPoints("StartToStart",B);if(M>0){K=L-1}else{if(M<0){J=L+1}else{if(b.ie9Compat&&G.tagName=="BR"){var O="cke_range_marker";B.execCommand("CreateBookmark",false,O);G=E.getElementsByName(O)[0];var P=z(G);D.removeChild(G);return{container:D,offset:P}}else{return{container:D,offset:z(G)}}}}}if(L==-1||L==F.length-1&&M<0){I.moveToElementText(D);I.setEndPoint("StartToStart",B);N=I.text.replace(/(\r\n|\r)/g,"\n").length;F=D.childNodes;if(!N){G=F[F.length-1];if(G.nodeType==1){return{container:D,offset:F.length}}else{return{container:G,offset:G.nodeValue.length}}}var Q=F.length;while(N>0){N-=F[--Q].nodeValue.length}return{container:F[Q],offset:-N}}else{I.collapse(M>0?true:false);I.setEndPoint(M>0?"StartToStart":"EndToStart",B);N=I.text.replace(/(\r\n|\r)/g,"\n").length;if(!N){return{container:D,offset:z(G)+(M>0?0:1)}}while(N>0){try{H=G[M>0?"previousSibling":"nextSibling"];N-=H.nodeValue.length;G=H}catch(R){return{container:D,offset:z(G)}}}return{container:G,offset:M>0?-N:G.nodeValue.length+N}}};return function(){var L=this;var B=L.getNative(),C=B&&B.createRange(),D=L.getType(),E;if(!B){return[]}if(D==2){E=new d.range(L.document);var F=A(C,true);E.setStart(new d.node(F.container),F.offset);F=A(C);E.setEnd(new d.node(F.container),F.offset);if(E.endContainer.getPosition(E.startContainer)&4&&E.endOffset<=E.startContainer.getIndex()){E.collapse()}return[E]}else{if(D==3){var G=[];for(var H=0;H<C.length;H++){var I=C.item(H),J=I.parentNode,K=0;E=new d.range(L.document);for(;K<J.childNodes.length&&J.childNodes[K]!=I;K++){}E.setStart(new d.node(J),K);E.setEnd(new d.node(J),K+1);G.push(E)}return G}}return[]}})():function(){var z=[],A,B=this.document,C=this.getNative();if(!C){return z}if(!C.rangeCount){A=new d.range(B);A.moveToElementEditStart(B.getBody());z.push(A)}for(var D=0;D<C.rangeCount;D++){var E=C.getRangeAt(D);A=new d.range(B);A.setStart(new d.node(E.startContainer),E.startOffset);A.setEnd(new d.node(E.endContainer),E.endOffset);z.push(A)}return z};return function(z){var A=this._.cache;if(A.ranges&&!z){return A.ranges}else{if(!A.ranges){A.ranges=new d.rangeList(y.call(this))}}if(z){var B=A.ranges;for(var C=0;C<B.length;C++){var D=B[C],E=D.getCommonAncestor();if(E.isReadOnly()){B.splice(C,1)}if(D.collapsed){continue}var F=D.startContainer,G=D.endContainer,H=D.startOffset,I=D.endOffset,J=D.clone(),K;if(K=F.isReadOnly()){D.setStartAfter(K)}if(F&&F.type==3){if(H>=F.getLength()){J.setStartAfter(F)}else{J.setStartBefore(F)}}if(G&&G.type==3){if(!I){J.setEndBefore(G)}else{J.setEndAfter(G)}}var L=new d.walker(J);L.evaluator=function(M){if(M.type==1&&M.isReadOnly()){var N=D.clone();D.setEndBefore(M);if(D.collapsed){B.splice(C--,1)}if(!(M.getPosition(J.endContainer)&16)){N.setStartAfter(M);if(!N.collapsed){B.splice(C+1,0,N)}}return true}return false};L.next()}}return A.ranges}})(),getStartElement:function(){var F=this;var y=F._.cache;if(y.startElement!==undefined){return y.startElement}var z,A=F.getNative();switch(F.getType()){case 3:return F.getSelectedElement();case 2:var B=F.getRanges()[0];if(B){if(!B.collapsed){B.optimize();while(1){var C=B.startContainer,D=B.startOffset;if(D==(C.getChildCount?C.getChildCount():C.getLength())&&!C.isBlockBoundary()){B.setStartAfter(C)}else{break}}z=B.startContainer;if(z.type!=1){return z.getParent()}z=z.getChild(B.startOffset);if(!z||z.type!=1){z=B.startContainer}else{var E=z.getFirst();while(E&&E.type==1){z=E;E=E.getFirst()}}}else{z=B.startContainer;if(z.type!=1){z=z.getParent()}}z=z.$}}return y.startElement=z?new h(z):null},getSelectedElement:function(){var y=this._.cache;if(y.selectedElement!==undefined){return y.selectedElement}var z=this,A=e.tryThese(function(){return z.getNative().createRange().item(0)},function(){var B=z.getRanges()[0],C,D;for(var E=2;E&&!((C=B.getEnclosedNode())&&C.type==1&&x[C.getName()]&&(D=C));E--){B.shrink(1)}return D.$});return y.selectedElement=A?new h(A):null},lock:function(){var y=this;y.getRanges();y.getStartElement();y.getSelectedElement();y._.cache.nativeSel={};y.isLocked=1;y.document.setCustomData("cke_locked_selection",y)},unlock:function(y){var D=this;var z=D.document,A=z.getCustomData("cke_locked_selection");if(A){z.setCustomData("cke_locked_selection",null);if(y){var B=A.getSelectedElement(),C=!B&&A.getRanges();D.isLocked=0;D.reset();z.getBody().focus();if(B){D.selectElement(B)}else{D.selectRanges(C)}}}if(!A||!y){D.isLocked=0;D.reset()}},reset:function(){this._.cache={}},selectElement:function(y){var A=this;if(A.isLocked){var z=new d.range(A.document);z.setStartBefore(y);z.setEndAfter(y);A._.cache.selectedElement=y;A._.cache.startElement=y;A._.cache.ranges=new d.rangeList(z);A._.cache.type=3;return}z=new d.range(y.getDocument());z.setStartBefore(y);z.setEndAfter(y);z.select();A.document.fire("selectionchange");A.reset()},selectRanges:function(y){var M=this;if(M.isLocked){M._.cache.selectedElement=null;M._.cache.startElement=y[0]&&y[0].getTouchedStartNode();M._.cache.ranges=new d.rangeList(y);M._.cache.type=2;return}if(c){if(y.length>1){var z=y[y.length-1];y[0].setEnd(z.endContainer,z.endOffset);y.length=1}if(y[0]){y[0].select()}M.reset()}else{var A=M.getNative();if(!A){return}if(y.length){A.removeAllRanges();b.webkit&&w(M.document)}for(var B=0;B<y.length;B++){if(B<y.length-1){var C=y[B],D=y[B+1],E=C.clone();E.setStart(C.endContainer,C.endOffset);E.setEnd(D.startContainer,D.startOffset);if(!E.collapsed){E.shrink(1,true);var F=E.getCommonAncestor(),G=E.getEnclosedNode();if(F.isReadOnly()||G&&G.isReadOnly()){D.setStart(C.startContainer,C.startOffset);y.splice(B--,1);continue}}}var H=y[B],I=M.document.$.createRange(),J=H.startContainer;if(H.collapsed&&(b.opera||b.gecko&&b.version<10900)&&J.type==1&&!J.getChildCount()){J.appendText("")}if(H.collapsed&&b.webkit&&r(H)){var K=t(M.document);H.insertNode(K);var L=K.getNext();if(L&&!K.getPrevious()&&L.type==1&&L.getName()=="br"){w(M.document);H.moveToPosition(L,3)}else{H.moveToPosition(K,4)}}I.setStart(H.startContainer.$,H.startOffset);try{I.setEnd(H.endContainer.$,H.endOffset)}catch(N){if(N.toString().indexOf("NS_ERROR_ILLEGAL_VALUE")>=0){H.collapse(1);I.setEnd(H.endContainer.$,H.endOffset)}else{throw N}}A.addRange(I)}M.reset()}},createBookmarks:function(y){return this.getRanges().createBookmarks(y)},createBookmarks2:function(y){return this.getRanges().createBookmarks2(y)},selectBookmarks:function(y){var z=[];for(var A=0;A<y.length;A++){var B=new d.range(this.document);B.moveToBookmark(y[A]);z.push(B)}this.selectRanges(z);return this},getCommonAncestor:function(){var y=this.getRanges(),z=y[0].startContainer,A=y[y.length-1].endContainer;return z.getCommonAncestor(A)},scrollIntoView:function(){var y=this.getStartElement();y.scrollIntoView()}}})();(function(){var m=d.walker.whitespaces(true),n=/\ufeff|\u00a0/,o={table:1,tbody:1,tr:1};d.range.prototype.select=c?function(p){var A=this;var q=A.collapsed,r,s,t,u=A.getEnclosedNode();if(u){try{t=A.document.$.body.createControlRange();t.addElement(u.$);t.select();return}catch(B){}}if(A.startContainer.type==1&&A.startContainer.getName() in o||A.endContainer.type==1&&A.endContainer.getName() in o){A.shrink(1,true)}var v=A.createBookmark(),w=v.startNode,x;if(!q){x=v.endNode}t=A.document.$.body.createTextRange();t.moveToElementText(w.$);t.moveStart("character",1);if(x){var y=A.document.$.body.createTextRange();y.moveToElementText(x.$);t.setEndPoint("EndToEnd",y);t.moveEnd("character",-1)}else{var z=w.getNext(m);r=!(z&&z.getText&&z.getText().match(n))&&(p||!w.hasPrevious()||w.getPrevious().is&&w.getPrevious().is("br"));s=A.document.createElement("span");s.setHtml("&#65279;");s.insertBefore(w);if(r){A.document.createText("\ufeff").insertBefore(w)}}A.setStartBefore(w);w.remove();if(q){if(r){t.moveStart("character",-1);t.select();A.document.$.selection.clear()}else{t.select()}A.moveToPosition(s,3);s.remove()}else{A.setEndBefore(x);x.remove();t.select()}A.document.fire("selectionchange")}:function(){this.document.getSelection().selectRanges([this])}})();(function(){var m={elements:{$:function(n){var o=n.attributes,p=o&&o["data-cke-realelement"],q=p&&new a.htmlParser.fragment.fromHtml(decodeURIComponent(p)),r=q&&q.children[0];if(r&&n.attributes["data-cke-resizable"]){var s=n.attributes.style;if(s){var t=/(?:^|\s)width\s*:\s*(\d+)/i.exec(s),u=t&&t[1];t=/(?:^|\s)height\s*:\s*(\d+)/i.exec(s);var v=t&&t[1];if(u){r.attributes.width=u}if(v){r.attributes.height=v}}}return r}}};j.add("fakeobjects",{requires:["htmlwriter"],afterInit:function(n){var o=n.dataProcessor,p=o&&o.htmlFilter;if(p){p.addRules(m)}}})})();a.editor.prototype.createFakeElement=function(m,n,o,p){var q=this.lang.fakeobjects,r=q[o]||q.unknown,s={"class":n,src:a.getUrl("images/spacer.gif"),"data-cke-realelement":encodeURIComponent(m.getOuterHtml()),"data-cke-real-node-type":m.type,alt:r,title:r,align:m.getAttribute("align")||""};if(o){s["data-cke-real-element-type"]=o}if(p){s["data-cke-resizable"]=p}return this.document.createElement("img",{attributes:s})};a.editor.prototype.createFakeParserElement=function(m,n,o,p){var q=this.lang.fakeobjects,r=q[o]||q.unknown,s,t=new a.htmlParser.basicWriter();m.writeHtml(t);s=t.getHtml();var u={"class":n,src:a.getUrl("images/spacer.gif"),"data-cke-realelement":encodeURIComponent(s),"data-cke-real-node-type":m.type,alt:r,title:r,align:m.attributes.align||""};if(o){u["data-cke-real-element-type"]=o}if(p){u["data-cke-resizable"]=p}return new a.htmlParser.element("img",u)};a.editor.prototype.restoreRealElement=function(m){if(m.data("cke-real-node-type")!=1){return null}return h.createFromHtml(decodeURIComponent(m.data("cke-realelement")),this.document)};j.add("richcombo",{requires:["floatpanel","listblock","button"],beforeInit:function(m){m.ui.addHandler("richcombo",k.richCombo.handler)}});a.UI_RICHCOMBO="richcombo";k.richCombo=e.createClass({$:function(m){var o=this;e.extend(o,m,{title:m.label,modes:{wysiwyg:1}});var n=o.panel||{};delete o.panel;o.id=e.getNextNumber();o.document=n&&n.parent&&n.parent.getDocument()||a.document;n.className=(n.className||"")+" cke_rcombopanel";n.block={multiSelect:n.multiSelect,attributes:n.attributes};o._={panelDefinition:n,items:{},state:2}},statics:{handler:{create:function(m){return new k.richCombo(m)}}},proto:{renderHtml:function(m){var n=[];this.render(m,n);return n.join("")},render:function(m,n){var o=b,p="cke_"+this.id,q=e.addFunction(function(u){var x=this;var v=x._;if(v.state==0){return}x.createPanel(m);if(v.on){v.panel.hide();return}x.commit();var w=x.getValue();if(w){v.list.mark(w)}else{v.list.unmarkAll()}v.panel.showBlock(x.id,new h(u),4)},this),r={id:p,combo:this,focus:function(){var u=a.document.getById(p).getChild(1);u.focus()},clickFn:q};function s(){var v=this;var u=v.modes[m.mode]?2:0;v.setState(m.readOnly&&!v.readOnly?0:u);v.setValue("")}m.on("mode",s,this);!this.readOnly&&m.on("readOnly",s,this);var t=e.addFunction(function(u,v){u=new d.event(u);var w=u.getKeystroke();switch(w){case 13:case 32:case 40:e.callFunction(q,v);break;default:r.onkey(r,w)}u.preventDefault()});r.keyDownFn=t;n.push('<span class="cke_rcombo" role="presentation">',"<span id=",p);if(this.className){n.push(' class="',this.className,' cke_off"')}n.push(' role="presentation">','<span id="'+p+'_label" class=cke_label>',this.label,"</span>",'<a hidefocus=true title="',this.title,'" tabindex="-1"',o.gecko&&o.version>=10900&&!o.hc?"":" href=\"javascript:void('"+this.label+"')\"",' role="button" aria-labelledby="',p,'_label" aria-describedby="',p,'_text" aria-haspopup="true"');if(b.opera||b.gecko&&b.mac){n.push(' onkeypress="return false;"')}if(b.gecko){n.push(' onblur="this.style.cssText = this.style.cssText;"')}n.push(' onkeydown="CKEDITOR.tools.callFunction( ',t,', event, this );" onclick="CKEDITOR.tools.callFunction(',q,', this); return false;"><span><span id="'+p+'_text" class="cke_text cke_inline_label">'+this.label+"</span></span><span class=cke_openbutton><span class=cke_icon>"+(b.hc?"&#9660;":b.air?"&nbsp;":"")+"</span></span></a></span></span>");if(this.onRender){this.onRender()}return r},createPanel:function(m){if(this._.panel){return}var n=this._.panelDefinition,o=this._.panelDefinition.block,p=n.parent||a.document.getBody(),q=new k.floatPanel(m,p,n),r=q.addListBlock(this.id,o),s=this;q.onShow=function(){if(s.className){this.element.getFirst().addClass(s.className+"_panel")}s.setState(1);r.focus(!s.multiSelect&&s.getValue());s._.on=1;if(s.onOpen){s.onOpen()}};q.onHide=function(t){if(s.className){this.element.getFirst().removeClass(s.className+"_panel")}s.setState(s.modes&&s.modes[m.mode]?2:0);s._.on=0;if(!t&&s.onClose){s.onClose()}};q.onEscape=function(){q.hide();s.document.getById("cke_"+s.id).getFirst().getNext().focus()};r.onClick=function(t,u){s.document.getWindow().focus();if(s.onClick){s.onClick.call(s,t,u)}if(u){s.setValue(t,s._.items[t])}else{s.setValue("")}q.hide()};this._.panel=q;this._.list=r;q.getBlock(this.id).onHide=function(){s._.on=0;s.setState(2)};if(this.init){this.init()}},setValue:function(m,n){var p=this;p._.value=m;var o=p.document.getById("cke_"+p.id+"_text");if(o){if(!(m||n)){n=p.label;o.addClass("cke_inline_label")}else{o.removeClass("cke_inline_label")}o.setHtml(typeof n!="undefined"?n:m)}},getValue:function(){return this._.value||""},unmarkAll:function(){this._.list.unmarkAll()},mark:function(m){this._.list.mark(m)},hideItem:function(m){this._.list.hideItem(m)},hideGroup:function(m){this._.list.hideGroup(m)},showAll:function(){this._.list.showAll()},add:function(m,n,o){this._.items[m]=o||m;this._.list.add(m,n,o)},startGroup:function(m){this._.list.startGroup(m)},commit:function(){var m=this;if(!m._.committed){m._.list.commit();m._.committed=1;k.fire("ready",m)}m._.committed=1},setState:function(m){var n=this;if(n._.state==m){return}n.document.getById("cke_"+n.id).setState(m);n._.state=m}}});k.prototype.addRichCombo=function(m,n){this.add(m,"richcombo",n)};j.add("htmlwriter");a.htmlWriter=e.createClass({base:a.htmlParser.basicWriter,$:function(){var o=this;o.base();o.indentationChars="\t";o.selfClosingEnd=" />";o.lineBreakChars="\n";o.forceSimpleAmpersand=0;o.sortAttributes=1;o._.indent=0;o._.indentation="";o._.inPre=0;o._.rules={};var m=f;for(var n in e.extend({},m.$nonBodyContent,m.$block,m.$listItem,m.$tableContent)){o.setRules(n,{indent:1,breakBeforeOpen:1,breakAfterOpen:1,breakBeforeClose:!m[n]["#"],breakAfterClose:1})}o.setRules("br",{breakAfterOpen:1});o.setRules("title",{indent:0,breakAfterOpen:0});o.setRules("style",{indent:0,breakBeforeClose:1});o.setRules("pre",{indent:0})},proto:{openTag:function(m,n){var p=this;var o=p._.rules[m];if(p._.indent){p.indentation()}else{if(o&&o.breakBeforeOpen){p.lineBreak();p.indentation()}}p._.output.push("<",m)},openTagClose:function(m,n){var p=this;var o=p._.rules[m];if(n){p._.output.push(p.selfClosingEnd)}else{p._.output.push(">");if(o&&o.indent){p._.indentation+=p.indentationChars}}if(o&&o.breakAfterOpen){p.lineBreak()}m=="pre"&&(p._.inPre=1)},attribute:function(m,n){if(typeof n=="string"){this.forceSimpleAmpersand&&(n=n.replace(/&amp;/g,"&"));n=e.htmlEncodeAttr(n)}this._.output.push(" ",m,'="',n,'"')},closeTag:function(m){var o=this;var n=o._.rules[m];if(n&&n.indent){o._.indentation=o._.indentation.substr(o.indentationChars.length)}if(o._.indent){o.indentation()}else{if(n&&n.breakBeforeClose){o.lineBreak();o.indentation()}}o._.output.push("</",m,">");m=="pre"&&(o._.inPre=0);if(n&&n.breakAfterClose){o.lineBreak()}},text:function(m){var n=this;if(n._.indent){n.indentation();!n._.inPre&&(m=e.ltrim(m))}n._.output.push(m)},comment:function(m){if(this._.indent){this.indentation()}this._.output.push("<!--",m,"-->")},lineBreak:function(){var m=this;if(!m._.inPre&&m._.output.length>0){m._.output.push(m.lineBreakChars)}m._.indent=1},indentation:function(){var m=this;if(!m._.inPre){m._.output.push(m._.indentation)}m._.indent=0},setRules:function(m,n){var o=this._.rules[m];if(o){e.extend(o,n,true)}else{this._.rules[m]=n}}}});j.add("menubutton",{requires:["button","menu"],beforeInit:function(m){m.ui.addHandler("menubutton",k.menuButton.handler)}});a.UI_MENUBUTTON="menubutton";(function(){var m=function(n){var o=this._;if(o.state===0){return}o.previousState=o.state;var p=o.menu;if(!p){p=o.menu=new a.menu(n,{panel:{className:n.skinClass+" cke_contextmenu",attributes:{"aria-label":n.lang.common.options}}});p.onHide=e.bind(function(){this.setState(this.modes&&this.modes[n.mode]?o.previousState:0)},this);if(this.onMenu){p.addListener(this.onMenu)}}if(o.on){p.hide();return}this.setState(1);p.show(a.document.getById(this._.id),4)};k.menuButton=e.createClass({base:k.button,$:function(n){var o=n.panel;delete n.panel;this.base(n);this.hasArrow=true;this.click=m},statics:{handler:{create:function(n){return new k.menuButton(n)}}}})})();j.add("dialogui");(function(){var m=function(u){var x=this;x._||(x._={});x._["default"]=x._.initValue=u["default"]||"";x._.required=u.required||false;var v=[x._];for(var w=1;w<arguments.length;w++){v.push(arguments[w])}v.push(true);e.extend.apply(e,v);return x._},n={build:function(u,v,w){return new k.dialog.textInput(u,v,w)}},o={build:function(u,v,w){return new k.dialog[v.type](u,v,w)}},p={build:function(u,v,w){var x=v.children,y,z=[],A=[];for(var B=0;B<x.length&&(y=x[B]);B++){var C=[];z.push(C);A.push(a.dialog._.uiElementBuilders[y.type].build(u,y,C))}return new k.dialog[v.type](u,A,z,w,v)}},q={isChanged:function(){return this.getValue()!=this.getInitValue()},reset:function(u){this.setValue(this.getInitValue(),u)},setInitValue:function(){this._.initValue=this.getValue()},resetInitValue:function(){this._.initValue=this._["default"]},getInitValue:function(){return this._.initValue}},r=e.extend({},k.dialog.uiElement.prototype.eventProcessors,{onChange:function(u,v){if(!this._.domOnChangeRegistered){u.on("load",function(){this.getInputElement().on("change",function(){if(!u.parts.dialog.isVisible()){return}this.fire("change",{value:this.getValue()})},this)},this);this._.domOnChangeRegistered=true}this.on("change",v)}},true),s=/^on([A-Z]\w+)/,t=function(u){for(var v in u){if(s.test(v)||v=="title"||v=="type"){delete u[v]}}return u};e.extend(k.dialog,{labeledElement:function(u,v,w,x){if(arguments.length<4){return}var y=m.call(this,v);y.labelId=e.getNextId()+"_label";var z=this._.children=[],A=function(){var B=[],C=v.required?" cke_required":"";if(v.labelLayout!="horizontal"){B.push('<label class="cke_dialog_ui_labeled_label'+C+'" ',' id="'+y.labelId+'"',' for="'+y.inputId+'"',' style="'+v.labelStyle+'">',v.label,"</label>",'<div class="cke_dialog_ui_labeled_content" role="presentation">',x.call(this,u,v),"</div>")}else{var D={type:"hbox",widths:v.widths,padding:0,children:[{type:"html",html:'<label class="cke_dialog_ui_labeled_label'+C+'" id="'+y.labelId+'" for="'+y.inputId+'" style="'+v.labelStyle+'">'+e.htmlEncode(v.label)+"</span>"},{type:"html",html:'<span class="cke_dialog_ui_labeled_content">'+x.call(this,u,v)+"</span>"}]};a.dialog._.uiElementBuilders.hbox.build(u,D,B)}return B.join("")};k.dialog.uiElement.call(this,u,v,w,"div",null,{role:"presentation"},A)},textInput:function(u,v,w){if(arguments.length<3){return}m.call(this,v);var x=this._.inputId=e.getNextId()+"_textInput",y={"class":"cke_dialog_ui_input_"+v.type,id:x,type:"text"},z;if(v.validate){this.validate=v.validate}if(v.maxLength){y.maxlength=v.maxLength}if(v.size){y.size=v.size}if(v.controlStyle){y.style=v.controlStyle}var A=this,B=false;u.on("load",function(){A.getInputElement().on("keydown",function(D){if(D.data.getKeystroke()==13){B=true}});A.getInputElement().on("keyup",function(D){if(D.data.getKeystroke()==13&&B){u.getButton("ok")&&setTimeout(function(){u.getButton("ok").click()},0);B=false}},null,null,1000)});var C=function(){var D=['<div class="cke_dialog_ui_input_',v.type,'" role="presentation"'];if(v.width){D.push('style="width:'+v.width+'" ')}D.push("><input ");y["aria-labelledby"]=this._.labelId;this._.required&&(y["aria-required"]=this._.required);for(var E in y){D.push(E+'="'+y[E]+'" ')}D.push(" /></div>");return D.join("")};k.dialog.labeledElement.call(this,u,v,w,C)},textarea:function(u,v,w){if(arguments.length<3){return}m.call(this,v);var x=this,y=this._.inputId=e.getNextId()+"_textarea",z={};if(v.validate){this.validate=v.validate}z.rows=v.rows||5;z.cols=v.cols||20;var A=function(){z["aria-labelledby"]=this._.labelId;this._.required&&(z["aria-required"]=this._.required);var B=['<div class="cke_dialog_ui_input_textarea" role="presentation"><textarea class="cke_dialog_ui_input_textarea" id="',y,'" '];for(var C in z){B.push(C+'="'+e.htmlEncode(z[C])+'" ')}B.push(">",e.htmlEncode(x._["default"]),"</textarea></div>");return B.join("")};k.dialog.labeledElement.call(this,u,v,w,A)},checkbox:function(u,v,w){if(arguments.length<3){return}var x=m.call(this,v,{"default":!!v["default"]});if(v.validate){this.validate=v.validate}var y=function(){var z=e.extend({},v,{id:v.id?v.id+"_checkbox":e.getNextId()+"_checkbox"},true),A=[],B=e.getNextId()+"_label",C={"class":"cke_dialog_ui_checkbox_input",type:"checkbox","aria-labelledby":B};t(z);if(v["default"]){C.checked="checked"}if(typeof z.controlStyle!="undefined"){z.style=z.controlStyle}x.checkbox=new k.dialog.uiElement(u,z,A,"input",null,C);A.push(' <label id="',B,'" for="',C.id,'">',e.htmlEncode(v.label),"</label>");return A.join("")};k.dialog.uiElement.call(this,u,v,w,"span",null,null,y)},radio:function(u,v,w){if(arguments.length<3){return}m.call(this,v);if(!this._["default"]){this._["default"]=this._.initValue=v.items[0][1]}if(v.validate){this.validate=v.valdiate}var x=[],y=this,z=function(){var A=[],B=[],C={"class":"cke_dialog_ui_radio_item","aria-labelledby":this._.labelId},D=v.id?v.id+"_radio":e.getNextId()+"_radio";for(var E=0;E<v.items.length;E++){var F=v.items[E],G=F[2]!==undefined?F[2]:F[0],H=F[1]!==undefined?F[1]:F[0],I=e.getNextId()+"_radio_input",J=I+"_label",K=e.extend({},v,{id:I,title:null,type:null},true),L=e.extend({},K,{title:G},true),M={type:"radio","class":"cke_dialog_ui_radio_input",name:D,value:H,"aria-labelledby":J},N=[];if(y._["default"]==H){M.checked="checked"}t(K);t(L);if(typeof K.controlStyle!="undefined"){K.style=K.controlStyle}x.push(new k.dialog.uiElement(u,K,N,"input",null,M));N.push(" ");new k.dialog.uiElement(u,L,N,"label",null,{id:J,"for":M.id},F[0]);A.push(N.join(""))}new k.dialog.hbox(u,[],A,B);return B.join("")};k.dialog.labeledElement.call(this,u,v,w,z);this._.children=x},button:function(u,v,w){if(!arguments.length){return}if(typeof v=="function"){v=v(u.getParentEditor())}m.call(this,v,{disabled:v.disabled||false});a.event.implementOn(this);var x=this;u.on("load",function(A){var B=this.getElement();(function(){B.on("click",function(C){x.fire("click",{dialog:x.getDialog()});C.data.preventDefault()});B.on("keydown",function(C){if(C.data.getKeystroke() in {32:1}){x.click();C.data.preventDefault()}})})();B.unselectable()},this);var y=e.extend({},v);delete y.style;var z=e.getNextId()+"_label";k.dialog.uiElement.call(this,u,y,w,"a",null,{style:v.style,href:"javascript:void(0)",title:v.label,hidefocus:"true","class":v["class"],role:"button","aria-labelledby":z},'<span id="'+z+'" class="cke_dialog_ui_button">'+e.htmlEncode(v.label)+"</span>")},select:function(u,v,w){if(arguments.length<3){return}var x=m.call(this,v);if(v.validate){this.validate=v.validate}x.inputId=e.getNextId()+"_select";var y=function(){var z=e.extend({},v,{id:v.id?v.id+"_select":e.getNextId()+"_select"},true),A=[],B=[],C={id:x.inputId,"class":"cke_dialog_ui_input_select","aria-labelledby":this._.labelId};if(v.size!=undefined){C.size=v.size}if(v.multiple!=undefined){C.multiple=v.multiple}t(z);for(var D=0,E;D<v.items.length&&(E=v.items[D]);D++){B.push('<option value="',e.htmlEncode(E[1]!==undefined?E[1]:E[0]).replace(/"/g,"&quot;"),'" /> ',e.htmlEncode(E[0]))}if(typeof z.controlStyle!="undefined"){z.style=z.controlStyle}x.select=new k.dialog.uiElement(u,z,A,"select",null,C,B.join(""));return A.join("")};k.dialog.labeledElement.call(this,u,v,w,y)},file:function(u,v,w){if(arguments.length<3){return}if(v["default"]===undefined){v["default"]=""}var x=e.extend(m.call(this,v),{definition:v,buttons:[]});if(v.validate){this.validate=v.validate}var y=function(){x.frameId=e.getNextId()+"_fileInput";var z=b.isCustomDomain(),A=['<iframe frameborder="0" allowtransparency="0" class="cke_dialog_ui_input_file" id="',x.frameId,'" title="',v.label,'" src="javascript:void('];A.push(z?"(function(){document.open();document.domain='"+document.domain+"';document.close();})()":"0");A.push(')"></iframe>');return A.join("")};u.on("load",function(){var z=a.document.getById(x.frameId),A=z.getParent();A.addClass("cke_dialog_ui_input_file")});k.dialog.labeledElement.call(this,u,v,w,y)},fileButton:function(u,v,w){if(arguments.length<3){return}var x=m.call(this,v),y=this;if(v.validate){this.validate=v.validate}var z=e.extend({},v),A=z.onClick;z.className=(z.className?z.className+" ":"")+"cke_dialog_ui_button";z.onClick=function(B){var C=v["for"];if(!A||A.call(this,B)!==false){u.getContentElement(C[0],C[1]).submit();this.disable()}};u.on("load",function(){u.getContentElement(v["for"][0],v["for"][1])._.buttons.push(y)});k.dialog.button.call(this,u,z,w)},html:(function(){var u=/^\s*<[\w:]+\s+([^>]*)?>/,v=/^(\s*<[\w:]+(?:\s+[^>]*)?)((?:.|\r|\n)+)$/,w=/\/$/;return function(x,y,z){if(arguments.length<3){return}var A=[],B,C=y.html,D,E;if(C.charAt(0)!="<"){C="<span>"+C+"</span>"}var F=y.focus;if(F){var G=this.focus;this.focus=function(){G.call(this);typeof F=="function"&&F.call(this);this.fire("focus")};if(y.isFocusable){var H=this.isFocusable;this.isFocusable=H}this.keyboardFocusable=true}k.dialog.uiElement.call(this,x,y,A,"span",null,null,"");B=A.join("");D=B.match(u);E=C.match(v)||["","",""];if(w.test(E[1])){E[1]=E[1].slice(0,-1);E[2]="/"+E[2]}z.push([E[1]," ",D[1]||"",E[2]].join(""))}})(),fieldset:function(u,v,w,x,y){var z=y.label,A=function(){var B=[];z&&B.push("<legend>"+z+"</legend>");for(var C=0;C<w.length;C++){B.push(w[C])}return B.join("")};this._={children:v};k.dialog.uiElement.call(this,u,y,x,"fieldset",null,null,A)}},true);k.dialog.html.prototype=new k.dialog.uiElement();k.dialog.labeledElement.prototype=e.extend(new k.dialog.uiElement(),{setLabel:function(u){var v=a.document.getById(this._.labelId);if(v.getChildCount()<1){new d.text(u,a.document).appendTo(v)}else{v.getChild(0).$.nodeValue=u}return this},getLabel:function(){var u=a.document.getById(this._.labelId);if(!u||u.getChildCount()<1){return""}else{return u.getChild(0).getText()}},eventProcessors:r},true);k.dialog.button.prototype=e.extend(new k.dialog.uiElement(),{click:function(){var u=this;if(!u._.disabled){return u.fire("click",{dialog:u._.dialog})}u.getElement().$.blur();return false},enable:function(){this._.disabled=false;var u=this.getElement();u&&u.removeClass("cke_disabled")},disable:function(){this._.disabled=true;this.getElement().addClass("cke_disabled")},isVisible:function(){return this.getElement().getFirst().isVisible()},isEnabled:function(){return !this._.disabled},eventProcessors:e.extend({},k.dialog.uiElement.prototype.eventProcessors,{onClick:function(u,v){this.on("click",v)}},true),accessKeyUp:function(){this.click()},accessKeyDown:function(){this.focus()},keyboardFocusable:true},true);k.dialog.textInput.prototype=e.extend(new k.dialog.labeledElement(),{getInputElement:function(){return a.document.getById(this._.inputId)},focus:function(){var u=this.selectParentTab();setTimeout(function(){var v=u.getInputElement();v&&v.$.focus()},0)},select:function(){var u=this.selectParentTab();setTimeout(function(){var v=u.getInputElement();if(v){v.$.focus();v.$.select()}},0)},accessKeyUp:function(){this.select()},setValue:function(u){!u&&(u="");return k.dialog.uiElement.prototype.setValue.apply(this,arguments)},keyboardFocusable:true},q,true);k.dialog.textarea.prototype=new k.dialog.textInput();k.dialog.select.prototype=e.extend(new k.dialog.labeledElement(),{getInputElement:function(){return this._.select.getElement()},add:function(u,v,w){var x=new h("option",this.getDialog().getParentEditor().document),y=this.getInputElement().$;x.$.text=u;x.$.value=v===undefined||v===null?u:v;if(w===undefined||w===null){if(c){y.add(x.$)}else{y.add(x.$,null)}}else{y.add(x.$,w)}return this},remove:function(u){var v=this.getInputElement().$;v.remove(u);return this},clear:function(){var u=this.getInputElement().$;while(u.length>0){u.remove(0)}return this},keyboardFocusable:true},q,true);k.dialog.checkbox.prototype=e.extend(new k.dialog.uiElement(),{getInputElement:function(){return this._.checkbox.getElement()},setValue:function(u,v){this.getInputElement().$.checked=u;!v&&this.fire("change",{value:u})},getValue:function(){return this.getInputElement().$.checked},accessKeyUp:function(){this.setValue(!this.getValue())},eventProcessors:{onChange:function(u,v){if(!c){return r.onChange.apply(this,arguments)}else{u.on("load",function(){var w=this._.checkbox.getElement();w.on("propertychange",function(x){x=x.data.$;if(x.propertyName=="checked"){this.fire("change",{value:w.$.checked})}},this)},this);this.on("change",v)}return null}},keyboardFocusable:true},q,true);k.dialog.radio.prototype=e.extend(new k.dialog.uiElement(),{setValue:function(u,v){var w=this._.children,x;for(var y=0;y<w.length&&(x=w[y]);y++){x.getElement().$.checked=x.getValue()==u}!v&&this.fire("change",{value:u})},getValue:function(){var u=this._.children;for(var v=0;v<u.length;v++){if(u[v].getElement().$.checked){return u[v].getValue()}}return null},accessKeyUp:function(){var u=this._.children,v;for(v=0;v<u.length;v++){if(u[v].getElement().$.checked){u[v].getElement().focus();return}}u[0].getElement().focus()},eventProcessors:{onChange:function(u,v){if(!c){return r.onChange.apply(this,arguments)}else{u.on("load",function(){var w=this._.children,x=this;for(var y=0;y<w.length;y++){var z=w[y].getElement();z.on("propertychange",function(A){A=A.data.$;if(A.propertyName=="checked"&&this.$.checked){x.fire("change",{value:this.getAttribute("value")})}})}},this);this.on("change",v)}return null}},keyboardFocusable:true},q,true);k.dialog.file.prototype=e.extend(new k.dialog.labeledElement(),q,{getInputElement:function(){var u=a.document.getById(this._.frameId).getFrameDocument();return u.$.forms.length>0?new h(u.$.forms[0].elements[0]):this.getElement()},submit:function(){this.getInputElement().getParent().$.submit();return this},getAction:function(){return this.getInputElement().getParent().$.action},registerEvents:function(u){var v=/^on([A-Z]\w+)/,w,x=function(z,A,B,C){z.on("formLoaded",function(){z.getInputElement().on(B,C,z)})};for(var y in u){if(!(w=y.match(v))){continue}if(this.eventProcessors[y]){this.eventProcessors[y].call(this,this._.dialog,u[y])}else{x(this,this._.dialog,w[1].toLowerCase(),u[y])}}return this},reset:function(){var u=this._,v=a.document.getById(u.frameId),w=v.getFrameDocument(),x=u.definition,y=u.buttons,z=this.formLoadedNumber,A=this.formUnloadNumber,B=u.dialog._.editor.lang.dir,C=u.dialog._.editor.langCode;if(!z){z=this.formLoadedNumber=e.addFunction(function(){this.fire("formLoaded")},this);A=this.formUnloadNumber=e.addFunction(function(){this.getInputElement().clearCustomData()},this);this.getDialog()._.editor.on("destroy",function(){e.removeFunction(z);e.removeFunction(A)})}function D(){w.$.open();if(b.isCustomDomain()){w.$.domain=document.domain}var E="";if(x.size){E=x.size-(c?7:0)}w.$.write(['<html dir="'+B+'" lang="'+C+'"><head><title></title></head><body style="margin: 0; overflow: hidden; background: transparent;">','<form enctype="multipart/form-data" method="POST" dir="'+B+'" lang="'+C+'" action="',e.htmlEncode(x.action),'">','<input type="file" name="',e.htmlEncode(x.id||"cke_upload"),'" size="',e.htmlEncode(E>0?E:""),'" />',"</form>","</body></html>","<script>window.parent.CKEDITOR.tools.callFunction("+z+");","window.onbeforeunload = function() {window.parent.CKEDITOR.tools.callFunction("+A+")}<\/script>"].join(""));w.$.close();for(var F=0;F<y.length;F++){y[F].enable()}}if(b.gecko){setTimeout(D,500)}else{D()}},getValue:function(){return this.getInputElement().$.value||""},setInitValue:function(){this._.initValue=""},eventProcessors:{onChange:function(u,v){if(!this._.domOnChangeRegistered){this.on("formLoaded",function(){this.getInputElement().on("change",function(){this.fire("change",{value:this.getValue()})},this)},this);this._.domOnChangeRegistered=true}this.on("change",v)}},keyboardFocusable:true},true);k.dialog.fileButton.prototype=new k.dialog.button();k.dialog.fieldset.prototype=e.clone(k.dialog.hbox.prototype);a.dialog.addUIElement("text",n);a.dialog.addUIElement("password",n);a.dialog.addUIElement("textarea",o);a.dialog.addUIElement("checkbox",o);a.dialog.addUIElement("radio",o);a.dialog.addUIElement("button",o);a.dialog.addUIElement("select",o);a.dialog.addUIElement("file",o);a.dialog.addUIElement("fileButton",o);a.dialog.addUIElement("html",o);a.dialog.addUIElement("fieldset",p)})();j.add("panel",{beforeInit:function(m){m.ui.addHandler("panel",k.panel.handler)}});a.UI_PANEL="panel";k.panel=function(m,n){var o=this;if(n){e.extend(o,n)}e.extend(o,{className:"",css:[]});o.id=e.getNextId();o.document=m;o._={blocks:{}}};k.panel.handler={create:function(m){return new k.panel(m)}};k.panel.prototype={renderHtml:function(m){var n=[];this.render(m,n);return n.join("")},render:function(m,n){var p=this;var o=p.id;n.push('<div class="',m.skinClass,'" lang="',m.langCode,'" role="presentation" style="display:none;z-index:'+(m.config.baseFloatZIndex+1)+'"><div id=',o," dir=",m.lang.dir,' role="presentation" class="cke_panel cke_',m.lang.dir);if(p.className){n.push(" ",p.className)}n.push('">');if(p.forceIFrame||p.css.length){n.push('<iframe id="',o,'_frame" frameborder="0" role="application" src="javascript:void(');n.push(b.isCustomDomain()?"(function(){document.open();document.domain='"+document.domain+"';document.close();})()":"0");n.push(')"></iframe>')}n.push("</div></div>");return o},getHolderElement:function(){var m=this._.holder;if(!m){if(this.forceIFrame||this.css.length){var n=this.document.getById(this.id+"_frame"),o=n.getParent(),p=o.getAttribute("dir"),q=o.getParent().getAttribute("class"),r=o.getParent().getAttribute("lang"),s=n.getFrameDocument(),t=e.addFunction(e.bind(function(w){this.isLoaded=true;if(this.onLoad){this.onLoad()}},this)),u='<!DOCTYPE html><html dir="'+p+'" class="'+q+'_container" lang="'+r+'"><head><style>.'+q+'_container{visibility:hidden}</style></head><body class="cke_'+p+" cke_panel_frame "+b.cssClass+'" style="margin:0;padding:0" onload="( window.CKEDITOR || window.parent.CKEDITOR ).tools.callFunction('+t+');"></body>'+e.buildStyleHtml(this.css)+"</html>";s.write(u);var v=s.getWindow();v.$.CKEDITOR=a;s.on("key"+(b.opera?"press":"down"),function(w){var z=this;var x=w.data.getKeystroke(),y=z.document.getById(z.id).getAttribute("dir");if(z._.onKeyDown&&z._.onKeyDown(x)===false){w.data.preventDefault();return}if(x==27||x==(y=="rtl"?39:37)){if(z.onEscape&&z.onEscape(x)===false){w.data.preventDefault()}}},this);m=s.getBody();m.unselectable();b.air&&e.callFunction(t)}else{m=this.document.getById(this.id)}this._.holder=m}return m},addBlock:function(m,n){var o=this;n=o._.blocks[m]=n instanceof k.panel.block?n:new k.panel.block(o.getHolderElement(),n);if(!o._.currentBlock){o.showBlock(m)}return n},getBlock:function(m){return this._.blocks[m]},showBlock:function(m){var n=this._.blocks,o=n[m],p=this._.currentBlock,q=this.forceIFrame?this.document.getById(this.id+"_frame"):this._.holder;q.getParent().getParent().disableContextMenu();if(p){q.removeAttributes(p.attributes);p.hide()}this._.currentBlock=o;q.setAttributes(o.attributes);a.fire("ariaWidget",q);o._.focusIndex=-1;this._.onKeyDown=o.onKeyDown&&e.bind(o.onKeyDown,o);o.onMark=function(r){q.setAttribute("aria-activedescendant",r.getId()+"_option")};o.onUnmark=function(){q.removeAttribute("aria-activedescendant")};o.show();return o},destroy:function(){this.element&&this.element.remove()}};k.panel.block=e.createClass({$:function(m,n){var o=this;o.element=m.append(m.getDocument().createElement("div",{attributes:{tabIndex:-1,"class":"cke_panel_block",role:"presentation"},styles:{display:"none"}}));if(n){e.extend(o,n)}if(!o.attributes.title){o.attributes.title=o.attributes["aria-label"]}o.keys={};o._.focusIndex=-1;o.element.disableContextMenu()},_:{markItem:function(m){var p=this;if(m==-1){return}var n=p.element.getElementsByTag("a"),o=n.getItem(p._.focusIndex=m);if(b.webkit||b.opera){o.getDocument().getWindow().focus()}o.focus();p.onMark&&p.onMark(o)}},proto:{show:function(){this.element.setStyle("display","")},hide:function(){var m=this;if(!m.onHide||m.onHide.call(m)!==true){m.element.setStyle("display","none")}},onKeyDown:function(m){var r=this;var n=r.keys[m];switch(n){case"next":var o=r._.focusIndex,p=r.element.getElementsByTag("a"),q;while(q=p.getItem(++o)){if(q.getAttribute("_cke_focus")&&q.$.offsetWidth){r._.focusIndex=o;q.focus();break}}return false;case"prev":o=r._.focusIndex;p=r.element.getElementsByTag("a");while(o>0&&(q=p.getItem(--o))){if(q.getAttribute("_cke_focus")&&q.$.offsetWidth){r._.focusIndex=o;q.focus();break}}return false;case"click":o=r._.focusIndex;q=o>=0&&r.element.getElementsByTag("a").getItem(o);if(q){q.$.click?q.$.click():q.$.onclick()}return false}return true}}});j.add("listblock",{requires:["panel"],onLoad:function(){k.panel.prototype.addListBlock=function(m,n){return this.addBlock(m,new k.listBlock(this.getHolderElement(),n))};k.listBlock=e.createClass({base:k.panel.block,$:function(m,n){var q=this;n=n||{};var o=n.attributes||(n.attributes={});(q.multiSelect=!!n.multiSelect)&&(o["aria-multiselectable"]=true);!o.role&&(o.role="listbox");q.base.apply(q,arguments);var p=q.keys;p[40]="next";p[9]="next";p[38]="prev";p[2000+9]="prev";p[32]="click";q._.pendingHtml=[];q._.items={};q._.groups={}},_:{close:function(){if(this._.started){this._.pendingHtml.push("</ul>");delete this._.started}},getClick:function(){if(!this._.click){this._.click=e.addFunction(function(m){var o=this;var n=true;if(o.multiSelect){n=o.toggle(m)}else{o.mark(m)}if(o.onClick){o.onClick(m,n)}},this)}return this._.click}},proto:{add:function(m,n,o){var r=this;var p=r._.pendingHtml,q=e.getNextId();if(!r._.started){p.push('<ul role="presentation" class=cke_panel_list>');r._.started=1;r._.size=r._.size||0}r._.items[m]=q;p.push("<li id=",q,' class=cke_panel_listItem role=presentation><a id="',q,'_option" _cke_focus=1 hidefocus=true title="',o||m,'" href="javascript:void(\'',m,'\')" onclick="CKEDITOR.tools.callFunction(',r._.getClick(),",'",m,"'); return false;\"",' role="option" aria-posinset="'+ ++r._.size+'">',n||m,"</a></li>")},startGroup:function(m){this._.close();var n=e.getNextId();this._.groups[m]=n;this._.pendingHtml.push('<h1 role="presentation" id=',n," class=cke_panel_grouptitle>",m,"</h1>")},commit:function(){var p=this;p._.close();p.element.appendHtml(p._.pendingHtml.join(""));var m=p._.items,n=p.element.getDocument();for(var o in m){n.getById(m[o]+"_option").setAttribute("aria-setsize",p._.size)}delete p._.size;p._.pendingHtml=[]},toggle:function(m){var n=this.isMarked(m);if(n){this.unmark(m)}else{this.mark(m)}return !n},hideGroup:function(m){var n=this.element.getDocument().getById(this._.groups[m]),o=n&&n.getNext();if(n){n.setStyle("display","none");if(o&&o.getName()=="ul"){o.setStyle("display","none")}}},hideItem:function(m){this.element.getDocument().getById(this._.items[m]).setStyle("display","none")},showAll:function(){var m=this._.items,n=this._.groups,o=this.element.getDocument();for(var p in m){o.getById(m[p]).setStyle("display","")}for(var q in n){var r=o.getById(n[q]),s=r.getNext();r.setStyle("display","");if(s&&s.getName()=="ul"){s.setStyle("display","")}}},mark:function(m){var p=this;if(!p.multiSelect){p.unmarkAll()}var n=p._.items[m],o=p.element.getDocument().getById(n);o.addClass("cke_selected");p.element.getDocument().getById(n+"_option").setAttribute("aria-selected",true);p.element.setAttribute("aria-activedescendant",n+"_option");p.onMark&&p.onMark(o)},unmark:function(m){var n=this;n.element.getDocument().getById(n._.items[m]).removeClass("cke_selected");n.onUnmark&&n.onUnmark(n._.items[m])},unmarkAll:function(){var p=this;var m=p._.items,n=p.element.getDocument();for(var o in m){n.getById(m[o]).removeClass("cke_selected")}p.onUnmark&&p.onUnmark()},isMarked:function(m){return this.element.getDocument().getById(this._.items[m]).hasClass("cke_selected")},focus:function(m){this._.focusIndex=-1;if(m){var n=this.element.getDocument().getById(this._.items[m]).getFirst(),o=this.element.getElementsByTag("a"),p,q=-1;while(p=o.getItem(++q)){if(p.equals(n)){this._.focusIndex=q;break}}setTimeout(function(){n.focus()},0)}}}})}});a.themes.add("default",(function(){var m={};function n(o,p){var q,r;r=o.config.sharedSpaces;r=r&&r[p];r=r&&a.document.getById(r);if(r){var s='<span class="cke_shared " dir="'+o.lang.dir+'"><span class="'+o.skinClass+" "+o.id+" cke_editor_"+o.name+'"><span class="'+b.cssClass+'"><span class="cke_wrapper cke_'+o.lang.dir+'"><span class="cke_editor"><div class="cke_'+p+'"></div></span></span></span></span></span>',t=r.append(h.createFromHtml(s,r.getDocument()));if(r.getCustomData("cke_hasshared")){t.hide()}else{r.setCustomData("cke_hasshared",1)}q=t.getChild([0,0,0,0]);!o.sharedSpaces&&(o.sharedSpaces={});o.sharedSpaces[p]=q;o.on("focus",function(){for(var u=0,v,w=r.getChildren();v=w.getItem(u);u++){if(v.type==1&&!v.equals(t)&&v.hasClass("cke_shared")){v.hide()}}t.show()});o.on("destroy",function(){t.remove()})}return q}return{build:function(o,p){var q=o.name,r=o.element,s=o.elementMode;if(!r||s==0){return}if(s==1){r.hide()}var t=o.fire("themeSpace",{space:"top",html:""}).html,u=o.fire("themeSpace",{space:"contents",html:""}).html,v=o.fireOnce("themeSpace",{space:"bottom",html:""}).html,w=u&&o.config.height,x=o.config.tabIndex||o.element.getAttribute("tabindex")||0;if(!u){w="auto"}else{if(!isNaN(w)){w+="px"}}var y="",z=o.config.width;if(z){if(!isNaN(z)){z+="px"}y+="width: "+z+";"}var A=t&&n(o,"top"),B=n(o,"bottom");A&&(A.setHtml(t),t="");B&&(B.setHtml(v),v="");var C="<style>."+o.skinClass+"{visibility:hidden;}</style>";if(m[o.skinClass]){C=""}else{m[o.skinClass]=1}var D=h.createFromHtml(['<span id="cke_',q,'" class="',o.skinClass," ",o.id," cke_editor_",q,'" dir="',o.lang.dir,'" title="',b.gecko?" ":"",'" lang="',o.langCode,'"'+(b.webkit?' tabindex="'+x+'"':"")+' role="application" aria-labelledby="cke_',q,'_arialbl"'+(y?' style="'+y+'"':"")+'><span id="cke_',q,'_arialbl" class="cke_voice_label">'+o.lang.editor+'</span><span class="',b.cssClass,'" role="presentation"><span class="cke_wrapper cke_',o.lang.dir,'" role="presentation"><table class="cke_editor" border="0" cellspacing="0" cellpadding="0" role="presentation"><tbody><tr',t?"":' style="display:none"',' role="presentation"><td id="cke_top_',q,'" class="cke_top" role="presentation">',t,"</td></tr><tr",u?"":' style="display:none"',' role="presentation"><td id="cke_contents_',q,'" class="cke_contents" style="height:',w,'" role="presentation">',u,"</td></tr><tr",v?"":' style="display:none"',' role="presentation"><td id="cke_bottom_',q,'" class="cke_bottom" role="presentation">',v,"</td></tr></tbody></table>"+C+"</span></span></span>"].join(""));D.getChild([1,0,0,0,0]).unselectable();D.getChild([1,0,0,0,2]).unselectable();if(s==1){D.insertAfter(r)}else{r.append(D)}o.container=D;D.disableContextMenu();o.on("contentDirChanged",function(E){var F=(o.lang.dir!=E.data?"add":"remove")+"Class";D.getChild(1)[F]("cke_mixed_dir_content");var G=this.sharedSpaces&&this.sharedSpaces[this.config.toolbarLocation];G&&G.getParent().getParent()[F]("cke_mixed_dir_content")});o.fireOnce("themeLoaded");o.fireOnce("uiReady")},buildDialog:function(o){var p=e.getNextNumber(),q=h.createFromHtml(['<div class="',o.id,"_dialog cke_editor_",o.name.replace(".","\\."),"_dialog cke_skin_",o.skinName,'" dir="',o.lang.dir,'" lang="',o.langCode,'" role="dialog" aria-labelledby="%title#"><table class="cke_dialog'," "+b.cssClass," cke_",o.lang.dir,'" style="position:absolute" role="presentation"><tr><td role="presentation"><div class="%body" role="presentation"><div id="%title#" class="%title" role="presentation"></div><a id="%close_button#" class="%close_button" href="javascript:void(0)" title="'+o.lang.common.close+'" role="button"><span class="cke_label">X</span></a><div id="%tabs#" class="%tabs" role="tablist"></div><table class="%contents" role="presentation"><tr><td id="%contents#" class="%contents" role="presentation"></td></tr><tr><td id="%footer#" class="%footer" role="presentation"></td></tr></table></div><div id="%tl#" class="%tl"></div><div id="%tc#" class="%tc"></div><div id="%tr#" class="%tr"></div><div id="%ml#" class="%ml"></div><div id="%mr#" class="%mr"></div><div id="%bl#" class="%bl"></div><div id="%bc#" class="%bc"></div><div id="%br#" class="%br"></div></td></tr></table>',c?"":"<style>.cke_dialog{visibility:hidden;}</style>","</div>"].join("").replace(/#/g,"_"+p).replace(/%/g,"cke_dialog_")),r=q.getChild([0,0,0,0,0]),s=r.getChild(0),t=r.getChild(1);s.unselectable();t.unselectable();return{element:q,parts:{dialog:q.getChild(0),title:s,close:t,tabs:r.getChild(2),contents:r.getChild([3,0,0,0]),footer:r.getChild([3,0,1,0])}}},destroy:function(o){var p=o.container,q=o.element;if(p){p.clearCustomData();p.remove()}if(q){q.clearCustomData();o.elementMode==1&&q.show();delete o.element}}}})());a.editor.prototype.getThemeSpace=function(m){var n="cke_"+m,o=this._[n]||(this._[n]=a.document.getById(n+"_"+this.name));return o};a.editor.prototype.resize=function(m,n,o,p){var q=this.container,r=a.document.getById("cke_contents_"+this.name),s=p?q.getChild(1):q;b.webkit&&s.setStyle("display","none");s.setSize("width",m,true);if(b.webkit){s.$.offsetWidth;s.setStyle("display","")}var t=o?0:(s.$.offsetHeight||0)-(r.$.clientHeight||0);r.setStyle("height",Math.max(n-t,0)+"px");this.fire("resize")};a.editor.prototype.getResizable=function(){return this.container}})();var admin={configureSidebar:function(){var a=$("#sidebar nav");a.find(".toggle").click(function(){var b=$(this);if(b.attr("data-state")=="show"){b.attr("data-state","hide").next().slideUp("fast")}else{b.attr("data-state","show").next().slideDown()}return false});a.find(".current").parent().prev(".toggle").trigger("click")},configureTabs:function(){$(".tab_content").hide();$("ul.tabs li:first").addClass("active").show();$(".tab_content:first").show();$("ul.tabs li").click(function(){$("ul.tabs li").removeClass("active");$(this).addClass("active");$(".tab_content").hide();var a=$(this).find("a").attr("href");$(a).fadeIn();return false})},configureColumns:function(){$(".column").equalHeight()},configureWysiwyg:function(){var a=$(".wysiwyg");$.each(a,function(b,c){c=$(c);if(CKEDITOR.instances[c.attr("id")]){CKEDITOR.remove(CKEDITOR.instances[c.attr("id")])}CKEDITOR.replace(c.attr("id"),{language:$("meta[name=locale]").attr("content"),toolbar:"Easy",filebrowserBrowseUrl:"/ckeditor/attachment_files",filebrowserUploadUrl:"/ckeditor/attachment_files",filebrowserImageBrowseUrl:"/ckeditor/pictures",filebrowserImageUploadUrl:"/ckeditor/pictures"})})},configureTableSort:function(){var a=$("table.data-table tbody");a.sortable({axis:"y",dropOnEmpty:false,handle:".handle",cursor:"crosshair",opacity:0.4,scroll:true,update:function(f,d){admin.loading();var c=$(d.item.context),b=null;a.find("tr").each(function(e,g){if($(g).attr("url")==c.attr("url")){b=e+1}});$.ajax({type:"post",data:admin.data()+"&"+c.attr("model")+"[sort]="+b,url:c.attr("url"),complete:function(){admin.loading()}})}})},configureUpdatable:function(){$(".updatable").change(function(){var a=$(this),b=a.parents("[url][model]:first"),c=null;if(a.attr("attribute")&&b.attr("url")&&b.attr("model")){admin.loading();if(a.attr("type")=="checkbox"){c=a.is(":checked")?a.val():false}else{c=a.val()}$.ajax({type:"post",data:admin.data()+"&"+b.attr("model")+"["+a.attr("attribute")+"]="+c,url:b.attr("url"),complete:function(){admin.loading()}})}})},loading:function(){$(".ajax_loader_container").toggle()},data:function(){return $("meta[name=csrf-param]").attr("content")+"="+$("meta[name=csrf-token]").attr("content")+"&_method=PUT"}};$(document).ready(function(){admin.configureSidebar();admin.configureTabs();admin.configureColumns();admin.configureWysiwyg();admin.configureTableSort();admin.configureUpdatable()});